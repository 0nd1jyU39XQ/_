var toaster=function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t}function a(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===n&&e.documentElement.namespaceURI===n?e.createElement(t):e.createElementNS(r,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var e=i(t);return(e.local?o:a)(e)}function l(){}function c(t){return null==t?l:function(){return this.querySelector(t)}}function u(){return[]}function f(t){return null==t?u:function(){return this.querySelectorAll(t)}}var d=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var h=document.documentElement;if(!h.matches){var p=h.webkitMatchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector;d=function(t){return function(){return p.call(this,t)}}}}var g=d;function m(t){return new Array(t.length)}function y(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}y.prototype={constructor:y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function v(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new y(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function x(t,e,n,r,i,a,o){var s,l,c,u={},f=e.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(h[s]=c="$"+o.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<d;++s)(l=u[c="$"+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],u[c]=null):n[s]=new y(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&u[h[s]]===l&&(i[s]=l)}function b(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,e){return function(){this.setAttribute(t,e)}}function k(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function T(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Y(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function O(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function C(t,e){return t.style.getPropertyValue(e)||T(t).getComputedStyle(t,null).getPropertyValue(e)}function N(t){return function(){delete this[t]}}function P(t,e){return function(){this[t]=e}}function H(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function j(t){return t.trim().split(/^|\s+/)}function L(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=j(t.getAttribute("class")||"")}function F(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function U(t,e){for(var n=L(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function z(t){return function(){F(this,t)}}function R(t){return function(){U(this,t)}}function I(t,e){return function(){(e.apply(this,arguments)?F:U)(this,t)}}function W(){this.textContent=""}function B(t){return function(){this.textContent=t}}function $(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function V(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function G(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q(){return null}function J(){var t=this.parentNode;t&&t.removeChild(this)}function K(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function tt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}E.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var et={},nt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(et={mouseenter:"mouseover",mouseleave:"mouseout"}));function rt(t,e,n){return t=it(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function it(t,e,n){return function(r){var i=nt;nt=r;try{t.call(this,this.__data__,e,n)}finally{nt=i}}}function at(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ot(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function st(t,e,n){var r=et.hasOwnProperty(t.type)?rt:it;return function(i,a,o){var s,l=this.__on,c=r(e,a,o);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function lt(t,e,n){var r=T(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ct(t,e){return function(){return lt(this,t,e)}}function ut(t,e){return function(){return lt(this,t,e.apply(this,arguments))}}var ft=[null];function dt(t,e){this._groups=t,this._parents=e}function ht(){return new dt([[document.documentElement]],ft)}function pt(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],ft)}dt.prototype=ht.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,u=r[i]=new Array(l),f=0;f<l;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),u[f]=o);return new dt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new dt(r,i)},filter:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new dt(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each((function(t){h[++c]=t})),h;var n=e?x:v,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,h=t.call(u,u&&u.__data__,c,r),p=h.length,g=s[c]=new Array(p),m=o[c]=new Array(p);n(u,f,g,m,l[c]=new Array(d),h,e);for(var y,b,_=0,w=0;_<p;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<p;);y._next=b||null}}return(o=new dt(o,r))._enter=s,o._exit=l,o},enter:function(){return new dt(this._enter||this._groups.map(m),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(m),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new dt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=b);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?w:_:"function"==typeof e?n.local?S:A:n.local?k:M)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Y:"function"==typeof e?O:D)(t,e,null==n?"":n)):C(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?N:"function"==typeof e?H:P)(t,e)):this.node()[t]},classed:function(t,e){var n=j(t+"");if(arguments.length<2){for(var r=L(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?I:e?z:R)(n,e))},text:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?$:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?q:X)(t)):this.node().innerHTML},raise:function(){return this.each(G)},lower:function(){return this.each(Z)},append:function(t){var e="function"==typeof t?t:s(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:s(t),r=null==e?Q:"function"==typeof e?e:c(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(J)},clone:function(t){return this.select(t?tt:K)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=at(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?st:ot,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ut:ct)(t,e))}};var gt=0;function mt(){return new yt}function yt(){this._="@"+(++gt).toString(36)}function vt(){for(var t,e=nt;t=e.sourceEvent;)e=t;return e}function xt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function bt(t){var e=vt();return e.changedTouches&&(e=e.changedTouches[0]),xt(t,e)}function _t(t){return"string"==typeof t?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([null==t?[]:t],ft)}function wt(t,e){null==e&&(e=vt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=xt(t,e[n]);return i}yt.prototype=mt.prototype={constructor:yt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Mt=Object.freeze({create:function(t){return pt(s(t).call(document.documentElement))},creator:s,local:mt,matcher:g,mouse:bt,namespace:i,namespaces:r,clientPoint:xt,select:pt,selectAll:_t,selection:ht,selector:c,selectorAll:f,style:C,touch:function(t,e,n){arguments.length<3&&(n=e,e=vt().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return xt(t,r);return null},touches:wt,window:T,get event(){return nt},customEvent:function(t,e,n,r){var i=nt;t.sourceEvent=nt,nt=t;try{return e.apply(n,r)}finally{nt=i}}}),kt={value:function(){}};function At(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new St(r)}function St(t){this._=t}function Tt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Yt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Dt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=kt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}St.prototype=At.prototype={constructor:St,on:function(t,e){var n,r=this._,i=Tt(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=Dt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Dt(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=Yt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new St(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var Ot,Ct,Nt=0,Pt=0,Ht=0,jt=0,Lt=0,Et=0,Ft="object"==typeof performance&&performance.now?performance:Date,Ut="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zt(){return Lt||(Ut(Rt),Lt=Ft.now()+Et)}function Rt(){Lt=0}function It(){this._call=this._time=this._next=null}function Wt(t,e,n){var r=new It;return r.restart(t,e,n),r}function Bt(){Lt=(jt=Ft.now())+Et,Nt=Pt=0;try{!function(){zt(),++Nt;for(var t,e=Ot;e;)(t=Lt-e._time)>=0&&e._call.call(null,t),e=e._next;--Nt}()}finally{Nt=0,function(){var t,e,n=Ot,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ot=e);Ct=t,Vt(r)}(),Lt=0}}function $t(){var t=Ft.now(),e=t-jt;e>1e3&&(Et-=e,jt=t)}function Vt(t){Nt||(Pt&&(Pt=clearTimeout(Pt)),t-Lt>24?(t<1/0&&(Pt=setTimeout(Bt,t-Ft.now()-Et)),Ht&&(Ht=clearInterval(Ht))):(Ht||(jt=Ft.now(),Ht=setInterval($t,1e3)),Nt=1,Ut(Bt)))}function Xt(t,e,n){var r=new It;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}It.prototype=Wt.prototype={constructor:It,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?zt():+n)+(null==e?0:+e),this._next||Ct===this||(Ct?Ct._next=this:Ot=this,Ct=this),this._call=t,this._time=n,Vt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vt())}};var qt=At("start","end","cancel","interrupt"),Gt=[];function Zt(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(l){var c,u,f,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Xt(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Xt((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Wt((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:qt,tween:Gt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Qt(t,e){var n=Kt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Jt(t,e){var n=Kt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Kt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function te(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function ee(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function re(){}var ie="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3,8})$/,le=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ce=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),ue=new RegExp("^rgba\\("+[ie,ie,ie,ae]+"\\)$"),fe=new RegExp("^rgba\\("+[oe,oe,oe,ae]+"\\)$"),de=new RegExp("^hsl\\("+[ae,oe,oe]+"\\)$"),he=new RegExp("^hsla\\("+[ae,oe,oe,ae]+"\\)$"),pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ge(){return this.rgb().formatHex()}function me(){return this.rgb().formatRgb()}function ye(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ve(e):3===n?new we(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new we(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new we(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=le.exec(t))?new we(e[1],e[2],e[3],1):(e=ce.exec(t))?new we(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ue.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=de.exec(t))?Se(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?Se(e[1],e[2]/100,e[3]/100,e[4]):pe.hasOwnProperty(t)?ve(pe[t]):"transparent"===t?new we(NaN,NaN,NaN,0):null}function ve(t){return new we(t>>16&255,t>>8&255,255&t,1)}function xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new we(t,e,n,r)}function be(t){return t instanceof re||(t=ye(t)),t?new we((t=t.rgb()).r,t.g,t.b,t.opacity):new we}function _e(t,e,n,r){return 1===arguments.length?be(t):new we(t,e,n,null==r?1:r)}function we(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Me(){return"#"+Ae(this.r)+Ae(this.g)+Ae(this.b)}function ke(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ae(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Se(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ye(t,e,n,r)}function Te(t){if(t instanceof Ye)return new Ye(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=ye(t)),!t)return new Ye;if(t instanceof Ye)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ye(o,s,l,t.opacity)}function Ye(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function De(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ee(re,ye,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHsl:function(){return Te(this).formatHsl()},formatRgb:me,toString:me}),ee(we,_e,ne(re,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:ke,toString:ke})),ee(Ye,(function(t,e,n,r){return 1===arguments.length?Te(t):new Ye(t,e,n,null==r?1:r)}),ne(re,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ye(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ye(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new we(De(t>=240?t-240:t+120,i,r),De(t,i,r),De(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Oe=Math.PI/180,Ce=180/Math.PI,Ne=-.14861,Pe=1.78277,He=-.29227,je=-.90649,Le=1.97294,Ee=Le*je,Fe=Le*Pe,Ue=Pe*He-je*Ne;function ze(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);t instanceof we||(t=be(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ue*r+Ee*e-Fe*n)/(Ue+Ee-Fe),a=r-i,o=(Le*(n-i)-He*a)/je,s=Math.sqrt(o*o+a*a)/(Le*i*(1-i)),l=s?Math.atan2(o,a)*Ce-120:NaN;return new Ie(l<0?l+360:l,s,i,t.opacity)}function Re(t,e,n,r){return 1===arguments.length?ze(t):new Ie(t,e,n,null==r?1:r)}function Ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function We(t){return function(){return t}}function Be(t,e){return function(n){return t+n*e}}function $e(t){return 1==(t=+t)?Ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):We(isNaN(e)?n:e)}}function Ve(t,e){var n=e-t;return n?Be(t,n):We(isNaN(t)?e:t)}ee(Ie,Re,ne(re,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Oe,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new we(255*(e+n*(Ne*r+Pe*i)),255*(e+n*(He*r+je*i)),255*(e+n*(Le*r)),this.opacity)}}));var Xe=function t(e){var n=$e(e);function r(t,e){var r=n((t=_e(t)).r,(e=_e(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function qe(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Ge(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=nn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function Ze(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Je(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=nn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tn=new RegExp(Ke.source,"g");function en(t,e){var n,r,i,a=Ke.lastIndex=tn.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=Ke.exec(t))&&(r=tn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Qe(n,r)})),a=tn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function nn(t,e){var n,r=typeof e;return null==e||"boolean"===r?We(e):("number"===r?Qe:"string"===r?(n=ye(e))?(e=n,Xe):en:e instanceof ye?Xe:e instanceof Date?Ze:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?qe:Array.isArray(e)?Ge:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Je:Qe)(t,e)}function rn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var an,on,sn,ln,cn=180/Math.PI,un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fn(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*cn,skewX:Math.atan(l)*cn,scaleX:o,scaleY:s}}function dn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:Qe(t,i)},{i:l-2,x:Qe(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qe(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qe(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Qe(t,n)},{i:s-2,x:Qe(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var hn=dn((function(t){return"none"===t?un:(an||(an=document.createElement("DIV"),on=document.documentElement,sn=document.defaultView),an.style.transform=t,t=sn.getComputedStyle(on.appendChild(an),null).getPropertyValue("transform"),on.removeChild(an),fn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),pn=dn((function(t){return null==t?un:(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),(t=ln.transform.baseVal.consolidate())?fn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):un)}),", ",")",")");function gn(t){return function e(n){function r(e,r){var i=t((e=Re(e)).h,(r=Re(r)).h),a=Ve(e.s,r.s),o=Ve(e.l,r.l),s=Ve(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}gn((function(t,e){var n=e-t;return n?Be(t,n>180||n<-180?n-360*Math.round(n/360):n):We(isNaN(t)?e:t)}));var mn=gn(Ve);function yn(t,e){var n,r;return function(){var i=Jt(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function vn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Jt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function xn(t,e,n){var r=t._id;return t.each((function(){var t=Jt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Kt(t,r).value[e]}}function bn(t,e){var n;return("number"==typeof e?Qe:e instanceof ye?Xe:(n=ye(e))?(e=n,Xe):en)(t,e)}function _n(t){return function(){this.removeAttribute(t)}}function wn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mn(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function kn(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function An(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function Sn(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function Tn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Dn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Yn(t,i)),n}return i._value=e,i}function On(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Tn(t,i)),n}return i._value=e,i}function Cn(t,e){return function(){Qt(this,t).delay=+e.apply(this,arguments)}}function Nn(t,e){return e=+e,function(){Qt(this,t).delay=e}}function Pn(t,e){return function(){Jt(this,t).duration=+e.apply(this,arguments)}}function Hn(t,e){return e=+e,function(){Jt(this,t).duration=e}}function jn(t,e){if("function"!=typeof e)throw new Error;return function(){Jt(this,t).ease=e}}function Ln(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Qt:Jt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var En=ht.prototype.constructor;function Fn(t){return function(){this.style.removeProperty(t)}}function Un(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zn(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Un(t,a,n)),r}return a._value=e,a}function Rn(t){return function(e){this.textContent=t.call(this,e)}}function In(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Rn(r)),e}return r._value=t,r}var Wn=0;function Bn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $n(t){return ht().transition(t)}function Vn(){return++Wn}var Xn=ht.prototype;Bn.prototype=$n.prototype={constructor:Bn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=r[o],f=u.length,d=a[o]=new Array(f),h=0;h<f;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Zt(d[h],e,n,h,d,Kt(s,n)));return new Bn(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=t.call(l,l.__data__,d,c),g=Kt(l,n),m=0,y=p.length;m<y;++m)(h=p[m])&&Zt(h,e,n,m,p,g);a.push(p),o.push(l)}return new Bn(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Bn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new Bn(o,this._parents,this._name,this._id)},selection:function(){return new En(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Vn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Kt(o,e);Zt(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Bn(r,this._parents,t,n)},call:Xn.call,nodes:Xn.nodes,node:Xn.node,size:Xn.size,empty:Xn.empty,each:Xn.each,on:function(t,e){var n=this._id;return arguments.length<2?Kt(this.node(),n).on.on(t):this.each(Ln(n,t,e))},attr:function(t,e){var n=i(t),r="transform"===n?pn:bn;return this.attrTween(t,"function"==typeof e?(n.local?Sn:An)(n,r,xn(this,"attr."+t,e)):null==e?(n.local?wn:_n)(n):(n.local?kn:Mn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=i(t);return this.tween(n,(r.local?Dn:On)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?hn:bn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=C(this,t),o=(this.style.removeProperty(t),C(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Fn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=C(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=C(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,xn(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=Jt(this,t),c=l.on,u=null==l.value[o]?a||(a=Fn(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=C(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(xn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,In(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Kt(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?yn:vn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cn:Nn)(e,t)):Kt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pn:Hn)(e,t)):Kt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(jn(e,t)):Kt(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each((function(){var n=Jt(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var qn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Gn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return qn.time=zt(),qn;return n}ht.prototype.interrupt=function(t){return this.each((function(){te(this,t)}))},ht.prototype.transition=function(t){var e,n;t instanceof Bn?(e=t._id,t=t._name):(e=Vn(),(n=qn).time=zt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Zt(o,t,e,c,s,n||Gn(o,e));return new Bn(r,this._parents,t,e)};Array.prototype.slice;function Zn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qn(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Zn(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var Jn=Qn(Zn).right;function Kn(t){return null===t?NaN:+t}var tr=Math.sqrt(50),er=Math.sqrt(10),nr=Math.sqrt(2);function rr(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=ir(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function ir(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=tr?10:a>=er?5:a>=nr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=tr?10:a>=er?5:a>=nr?2:1)}function ar(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=tr?i*=10:a>=er?i*=5:a>=nr&&(i*=2),e<t?-i:i}function or(t,e,n){if(null==n&&(n=Kn),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function sr(){}function lr(t,e){var n=new sr;if(t instanceof sr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function cr(){}sr.prototype=lr.prototype={constructor:sr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var ur=lr.prototype;cr.prototype=function(t,e){var n=new cr;if(t instanceof cr)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:cr,has:ur.has,add:function(t){return this["$"+(t+="")]=t,this},remove:ur.remove,clear:ur.clear,values:ur.keys,size:ur.size,empty:ur.empty,each:ur.each};var fr=Array.prototype,dr=fr.map,hr=fr.slice,pr={name:"implicit"};function gr(t){var e=lr(),n=[],r=pr;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==pr)return r;e.set(a,o=n.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:hr.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=lr();for(var r,a,o=-1,s=t.length;++o<s;)e.has(a=(r=t[o])+"")||e.set(a,n.push(r));return i},i.range=function(e){return arguments.length?(t=hr.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return gr().domain(n).range(t).unknown(r)},i}function mr(){var t,e,n=gr().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,l=0,c=.5;function u(){var n=r().length,u=a[1]<a[0],f=a[u-0],d=a[1-u];t=(d-f)/Math.max(1,n-s+2*l),o&&(t=Math.floor(t)),f+=(d-f-t*(n-s))*c,e=t*(1-s),o&&(f=Math.round(f),e=Math.round(e));var h=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(n).map((function(e){return f+t*e}));return i(u?h.reverse():h)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],u()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,u()):o},n.padding=function(t){return arguments.length?(s=l=Math.max(0,Math.min(1,t)),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u()):s},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return mr().domain(r()).range(a).round(o).paddingInner(s).paddingOuter(l).align(c)},u()}function yr(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(mr().paddingInner(1))}function vr(t){return function(){return t}}function xr(t){return+t}var br=[0,1];function _r(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vr(e)}function wr(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(t){return o(i(t))}}function Mr(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=n(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(e){var n=Jn(t,e,1,i)-1;return o[n](a[n](e))}}function kr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ar(t,e){var n,r,i,a=br,o=br,s=nn,l=!1;function c(){return n=Math.min(a.length,o.length)>2?Mr:wr,r=i=null,u}function u(e){return(r||(r=n(a,o,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return u.invert=function(t){return(i||(i=n(o,a,_r,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},u.domain=function(t){return arguments.length?(a=dr.call(t,xr),c()):a.slice()},u.range=function(t){return arguments.length?(o=hr.call(t),c()):o.slice()},u.rangeRound=function(t){return o=hr.call(t),s=rn,c()},u.clamp=function(t){return arguments.length?(l=!!t,c()):l},u.interpolate=function(t){return arguments.length?(s=t,c()):s},c()}function Sr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tr(t){return(t=Sr(Math.abs(t)))?t[1]:NaN}var Yr,Dr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Or(t){if(!(e=Dr.exec(t)))throw new Error("invalid format: "+t);var e;return new Cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Cr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Nr(t,e){var n=Sr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Or.prototype=Cr.prototype,Cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Pr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Nr(100*t,e)},r:Nr,s:function(t,e){var n=Sr(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Yr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Sr(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Hr(t){return t}var jr,Lr,Er,Fr=Array.prototype.map,Ur=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function zr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Hr:(e=Fr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Hr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Fr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Or(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Pr[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?a:/[%p]/.test(v)?l:"",_=Pr[v],w=/[defgprs%]/.test(v);function M(t){var i,a,l,d=x,M=b;if("c"===v)M=_(t)+M,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?u:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,M=("s"===v?Ur[8+Yr/3]:"")+M+(k&&"("===f?")":""),w)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var A=d.length+t.length+M.length,S=A<p?new Array(p-A+1).join(e):"";switch(g&&h&&(t=r(S+t,S.length?p-M.length:1/0),S=""),n){case"<":t=d+t+M+S;break;case"=":t=d+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+d+t+M+S.slice(A);break;default:t=S+d+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=Or(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3))),i=Math.pow(10,-r),a=Ur[8+r/3];return function(t){return n(i*t)+a}}}}function Rr(t,e,n){var r,i=t[0],a=t[t.length-1],o=ar(i,a,null==e?10:e);switch((n=Or(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tr(e)/3)))-Tr(Math.abs(t)))}(o,s))||(n.precision=r),Er(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tr(e)-Tr(t))+1}(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-Tr(Math.abs(t)))}(o))||(n.precision=r-2*("%"===n.type))}return Lr(n)}function Ir(t){var e=t.domain;return t.ticks=function(t){var n=e();return rr(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Rr(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),(r=ir(s,l,n))>0?r=ir(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=ir(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function Wr(){var t=Ar(_r,Qe);return t.copy=function(){return kr(t,Wr())},Ir(t)}function Br(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function $r(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:vr(e)}function Vr(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Xr(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qr(t){return 10===t?Xr:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Gr(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Zr(t){return function(e){return-t(-e)}}function Qr(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Jr(){var t=1,e=Ar((function(e,n){return(n=Qr(n,t)-(e=Qr(e,t)))?function(r){return(Qr(r,t)-e)/n}:vr(n)}),(function(e,n){return n=Qr(n,t)-(e=Qr(e,t)),function(r){return Qr(e+n*r,1/t)}})),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return kr(e,Jr().exponent(t))},Ir(e)}jr=zr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Lr=jr.format,Er=jr.formatPrefix;var Kr=new Date,ti=new Date;function ei(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return ei((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Kr.setTime(+e),ti.setTime(+r),t(Kr),t(ti),Math.floor(n(Kr,ti))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ni=ei((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ni.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ei((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ni:null};var ri=ei((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),ii=ei((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),ai=ei((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),oi=ei((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function si(t){return ei((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var li=si(0),ci=si(1),ui=(si(2),si(3),si(4)),fi=(si(5),si(6),ei((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),di=ei((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));di.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ei((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var hi=ei((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),pi=ei((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),gi=ei((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function mi(t){return ei((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var yi=mi(0),vi=mi(1),xi=(mi(2),mi(3),mi(4)),bi=(mi(5),mi(6),ei((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),_i=ei((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function wi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ki(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}_i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ei((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Ai,Si,Ti,Yi={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,Oi=/^%/,Ci=/[\\^$*+?|[\]().{}]/g;function Ni(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Pi(t){return t.replace(Ci,"\\$&")}function Hi(t){return new RegExp("^(?:"+t.map(Pi).join("|")+")","i")}function ji(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Li(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ei(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ui(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ri(t,e,n){var r=Di.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ii(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bi(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function $i(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xi(t,e,n){var r=Di.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zi(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=Di.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ji(t,e,n){var r=Di.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ki(t,e,n){var r=Oi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ta(t,e,n){var r=Di.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ea(t,e,n){var r=Di.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function na(t,e){return Ni(t.getDate(),e,2)}function ra(t,e){return Ni(t.getHours(),e,2)}function ia(t,e){return Ni(t.getHours()%12||12,e,2)}function aa(t,e){return Ni(1+oi.count(di(t),t),e,3)}function oa(t,e){return Ni(t.getMilliseconds(),e,3)}function sa(t,e){return oa(t,e)+"000"}function la(t,e){return Ni(t.getMonth()+1,e,2)}function ca(t,e){return Ni(t.getMinutes(),e,2)}function ua(t,e){return Ni(t.getSeconds(),e,2)}function fa(t){var e=t.getDay();return 0===e?7:e}function da(t,e){return Ni(li.count(di(t)-1,t),e,2)}function ha(t,e){var n=t.getDay();return t=n>=4||0===n?ui(t):ui.ceil(t),Ni(ui.count(di(t),t)+(4===di(t).getDay()),e,2)}function pa(t){return t.getDay()}function ga(t,e){return Ni(ci.count(di(t)-1,t),e,2)}function ma(t,e){return Ni(t.getFullYear()%100,e,2)}function ya(t,e){return Ni(t.getFullYear()%1e4,e,4)}function va(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ni(e/60|0,"0",2)+Ni(e%60,"0",2)}function xa(t,e){return Ni(t.getUTCDate(),e,2)}function ba(t,e){return Ni(t.getUTCHours(),e,2)}function _a(t,e){return Ni(t.getUTCHours()%12||12,e,2)}function wa(t,e){return Ni(1+gi.count(_i(t),t),e,3)}function Ma(t,e){return Ni(t.getUTCMilliseconds(),e,3)}function ka(t,e){return Ma(t,e)+"000"}function Aa(t,e){return Ni(t.getUTCMonth()+1,e,2)}function Sa(t,e){return Ni(t.getUTCMinutes(),e,2)}function Ta(t,e){return Ni(t.getUTCSeconds(),e,2)}function Ya(t){var e=t.getUTCDay();return 0===e?7:e}function Da(t,e){return Ni(yi.count(_i(t)-1,t),e,2)}function Oa(t,e){var n=t.getUTCDay();return t=n>=4||0===n?xi(t):xi.ceil(t),Ni(xi.count(_i(t),t)+(4===_i(t).getUTCDay()),e,2)}function Ca(t){return t.getUTCDay()}function Na(t,e){return Ni(vi.count(_i(t)-1,t),e,2)}function Pa(t,e){return Ni(t.getUTCFullYear()%100,e,2)}function Ha(t,e){return Ni(t.getUTCFullYear()%1e4,e,4)}function ja(){return"+0000"}function La(){return"%"}function Ea(t){return+t}function Fa(t){return Math.floor(+t/1e3)}!function(t){Ai=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Hi(i),u=ji(i),f=Hi(a),d=ji(a),h=Hi(o),p=ji(o),g=Hi(s),m=ji(s),y=Hi(l),v=ji(l),x={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:na,e:na,f:sa,H:ra,I:ia,j:aa,L:oa,m:la,M:ca,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ea,s:Fa,S:ua,u:fa,U:da,V:ha,w:pa,W:ga,x:null,X:null,y:ma,Y:ya,Z:va,"%":La},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:xa,e:xa,f:ka,H:ba,I:_a,j:wa,L:Ma,m:Aa,M:Sa,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ea,s:Fa,S:Ta,u:Ya,U:Da,V:Oa,w:Ca,W:Na,x:null,X:null,y:Pa,Y:Ha,Z:ja,"%":La},_={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Vi,e:Vi,f:Ji,H:qi,I:qi,j:Xi,L:Qi,m:$i,M:Gi,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Bi,Q:ta,s:ea,S:Zi,u:Ei,U:Fi,V:Ui,w:Li,W:zi,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Ii,Y:Ri,Z:Wi,"%":Ki};function w(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=Yi[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=ki(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!e||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Mi(ki(a.y,0,1))).getUTCDay(),r=i>4||0===i?vi.ceil(r):vi(r),r=gi.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=wi(ki(a.y,0,1))).getDay(),r=i>4||0===i?ci.ceil(r):ci(r),r=oi.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Mi(ki(a.y,0,1)).getUTCDay():wi(ki(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Mi(a)):wi(a)}}function k(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=_[i in Yi?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}})}(t),Si=Ai.format,Ai.parse,Ti=Ai.utcFormat,Ai.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ua(t){return new Date(t)}function za(t){return t instanceof Date?+t:+new Date(+t)}function Ra(t,e,n,r,i,a,o,s,l){var c=Ar(_r,Qe),u=c.invert,f=c.domain,d=l(".%L"),h=l(":%S"),p=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),v=l("%B"),x=l("%Y"),b=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function _(s){return(o(s)<s?d:a(s)<s?h:i(s)<s?p:r(s)<s?g:e(s)<s?n(s)<s?m:y:t(s)<s?v:x)(s)}function w(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,o=Qn((function(t){return t[2]})).right(b,a);o===b.length?(i=ar(n/31536e6,r/31536e6,e),e=t):o?(i=(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o])[1],e=o[0]):(i=Math.max(ar(n,r,e),1),e=s)}return null==i?e:e.every(i)}return c.invert=function(t){return new Date(u(t))},c.domain=function(t){return arguments.length?f(dr.call(t,za)):f().map(Ua)},c.ticks=function(t,e){var n,r=f(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=w(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?_:l(e)},c.nice=function(t,e){var n=f();return(t=w(t,n[0],n[n.length-1],e))?f(Br(n,t)):c},c.copy=function(){return kr(c,Ra(t,e,n,r,i,a,o,s,l))},c}function Ia(){return Ra(di,fi,li,oi,ai,ii,ri,ni,Si).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function Wa(){return Ra(_i,bi,yi,gi,pi,hi,ri,ni,Ti).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function Ba(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}var $a=Ba("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Va=Ba("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Xa=Ba("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),qa=Ba("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Ga=mn(Re(300,.5,0),Re(-240,.5,1)),Za=mn(Re(-100,.75,.35),Re(80,1.5,.8)),Qa=mn(Re(260,.75,.35),Re(80,1.5,.8)),Ja=Re();function Ka(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var to=Ka(Ba("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),eo=Ka(Ba("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),no=Ka(Ba("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ro=Ka(Ba("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var io=Object.freeze({scaleBand:mr,scalePoint:yr,scaleIdentity:function t(){var e=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=dr.call(t,xr),n):e.slice()},n.copy=function(){return t().domain(e)},Ir(n)},scaleLinear:Wr,scaleLog:function t(){var e=Ar($r,Vr).domain([1,10]),n=e.domain,r=10,i=Gr(10),a=qr(10);function o(){return i=Gr(r),a=qr(r),n()[0]<0&&(i=Zr(i),a=Zr(a)),e}return e.base=function(t){return arguments.length?(r=+t,o()):r},e.domain=function(t){return arguments.length?(n(t),o()):n()},e.ticks=function(t){var e,o=n(),s=o[0],l=o[o.length-1];(e=l<s)&&(d=s,s=l,l=d);var c,u,f,d=i(s),h=i(l),p=null==t?10:+t,g=[];if(!(r%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,s>0){for(;d<h;++d)for(u=1,c=a(d);u<r;++u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else for(;d<h;++d)for(u=r-1,c=a(d);u>=1;--u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else g=rr(d,h,Math.min(h-d,p)).map(a);return e?g.reverse():g},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=Lr(n)),t===1/0)return n;null==t&&(t=10);var o=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/a(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=o?n(t):""}},e.nice=function(){return n(Br(n(),{floor:function(t){return a(Math.floor(i(t)))},ceil:function(t){return a(Math.ceil(i(t)))}}))},e.copy=function(){return kr(e,t().base(r))},e},scaleOrdinal:gr,scaleImplicit:pr,scalePow:Jr,scaleSqrt:function(){return Jr().exponent(.5)},scaleQuantile:function t(){var e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=or(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[Jn(r,t)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Zn),i()},a.range=function(t){return arguments.length?(n=hr.call(t),i()):n.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(e).range(n)},a},scaleQuantize:function t(){var e=0,n=1,r=1,i=[.5],a=[0,1];function o(t){if(t<=t)return a[Jn(i,t,0,r)]}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=hr.call(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.copy=function(){return t().domain([e,n]).range(a)},Ir(o)},scaleThreshold:function t(){var e=[.5],n=[0,1],r=1;function i(t){if(t<=t)return n[Jn(e,t,0,r)]}return i.domain=function(t){return arguments.length?(e=hr.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=hr.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.copy=function(){return t().domain(e).range(n)},i},scaleTime:Ia,scaleUtc:Wa,schemeCategory10:$a,schemeCategory20b:Va,schemeCategory20c:Xa,schemeCategory20:qa,interpolateCubehelixDefault:Ga,interpolateRainbow:function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ja.h=360*t-100,Ja.s=1.5-1.5*e,Ja.l=.8-.9*e,Ja+""},interpolateWarm:Za,interpolateCool:Qa,interpolateViridis:to,interpolateMagma:eo,interpolateInferno:no,interpolatePlasma:ro,scaleSequential:function t(e){var n=0,r=1,i=!1;function a(t){var a=(t-n)/(r-n);return e(i?Math.max(0,Math.min(1,a)):a)}return a.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],a):[n,r]},a.clamp=function(t){return arguments.length?(i=!!t,a):i},a.interpolator=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return t(e).domain([n,r]).clamp(i)},Ir(a)}});!function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(e((function(t,e){!function(t,e,n,r,i){function a(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function o(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}o.not=function(t){return!t},o.run=function(t){return t()},o.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==typeof t[n]?t[n]:e}},e.selection.prototype.translate=function(t){return this.attr("transform",(function(e,n){return"translate("+["function"==typeof t?t.call(this,e,n):t]+")"}))},e.selection.prototype.append=function(t){var n,r=a(t);for(var i in t=e.creator(r.tag),n=this.select((function(){return this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(i,r.attr[i]);return n},e.selection.prototype.selectAppend=function(t){var n,r=e.selector(t),i=a(t);for(var o in t=e.creator(i.tag),n=this.select((function(){return r.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),i.attr)n.attr(o,i.attr[o]);return n},e.selection.prototype.tspans=function(t,e){return this.selectAll("tspan").data(t).enter().append("tspan").text((function(t){return t})).attr("x",0).attr("dy",(function(t,n){return n?e||15:0}))},e.selection.prototype.appendMany=function(t,e){return this.selectAll(null).data(t).enter().append(e)},e.selection.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},e.selection.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?o(n,i):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}},e.selection.prototype.prop=e.selection.prototype.property,t.wordwrap=function(t,e){var n=t.split(" "),r=[],i=[],a=e||40,o=0;return n.forEach((function(t){o+t.length>a&&(r.push(i.join(" ")),i.length=0,o=0),o+=t.length,i.push(t)})),i.length&&r.push(i.join(" ")),r.filter((function(t){return""!=t}))},t.parseAttributes=a,t.f=o,t.ascendingKey=function(t){return"function"==typeof t?function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}},t.descendingKey=function(t){return"function"==typeof t?function(e,n){return t(n)<t(e)?-1:t(n)>t(e)?1:t(n)>=t(e)?0:NaN}:function(e,n){return n[t]<e[t]?-1:n[t]>e[t]?1:n[t]>=e[t]?0:NaN}},t.conventions=function(t){return(t=t||{}).margin=t.margin||{top:20,right:20,bottom:20,left:20},t.width=t.width||t.totalWidth-t.margin.left-t.margin.right||900,t.height=t.height||t.totalHeight-t.margin.top-t.margin.bottom||460,t.totalWidth=t.width+t.margin.left+t.margin.right,t.totalHeight=t.height+t.margin.top+t.margin.bottom,t.parentSel=t.parentSel||e.select("body"),t.rootsvg=t.parentSel.append("svg"),t.svg=t.rootsvg.attr("width",t.totalWidth).attr("height",t.totalHeight).append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.x=t.x||i.scaleLinear().range([0,t.width]),t.y=t.y||i.scaleLinear().range([t.height,0]),t.xAxis=t.xAxis||d3.axisBottom().scale(t.x),t.yAxis=t.yAxis||d3.axisLeft().scale(t.y),t.drawAxis=function(){t.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+t.height+")").call(t.xAxis),t.svg.append("g").attr("class","y axis").call(t.yAxis)},t},t.attachTooltip=function(t,n,r){if(t.size()){n=n||e.select(".tooltip"),t.on("mouseover.attachTooltip",(function(t){n.classed("tooltip-hidden",!1).html("").appendMany(r,"div").html((function(e){return e(t)})),e.select(this).classed("tooltipped",!0)})).on("mousemove.attachTooltip",(function(t){var e=n;if(e.size()){var r=d3.event,i=r.clientX,a=r.clientY,o=e.node().getBoundingClientRect(),s=window.scrollY?window.scrollY:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e.style("top",a+s-o.height-18+"px"),e.style("left",Math.min(Math.max(20,i-o.width/2),window.innerWidth-o.width-20)+"px")}})).on("mouseout.attachTooltip",(function(t){n.classed("tooltip-hidden",!0),e.selectAll(".tooltipped").classed("tooltipped",!1)})).on("click.attachTooltip",(function(t){}));var i=t.datum();r=r||d3.keys(i).filter((function(t){return"object"!=typeof i[t]&&"array"!=i[t]})).map((function(t){return function(e){return t+": <b>"+e[t]+"</b>"}}))}},Object.defineProperty(t,"__esModule",{value:!0})}(e,Mt,0,0,io)})));var ao,oo=180/Math.PI,so={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lo(t){return null==t?so:(ao||(ao=document.createElementNS("http://www.w3.org/2000/svg","g")),ao.setAttribute("transform",t),(t=ao.transform.baseVal.consolidate())?(t=t.matrix,e=t.a,n=t.b,r=t.c,i=t.d,a=t.e,o=t.f,(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(c=e*r+n*i)&&(r-=e*c,i-=n*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),e*i<n*r&&(e=-e,n=-n,c=-c,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(n,e)*oo,skewX:Math.atan(c)*oo,scaleX:s,scaleY:l}):so);var e,n,r,i,a,o,s,l,c}function co(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var uo,fo;1===(uo=co).length&&(fo=uo,uo=function(t,e){return co(fo(t),e)});function ho(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var po=Math.sqrt(50),go=Math.sqrt(10),mo=Math.sqrt(2);function yo(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=function(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=po?10:a>=go?5:a>=mo?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=po?10:a>=go?5:a>=mo?2:1)}(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}var vo=Math.PI,xo=2*vo,bo=xo-1e-6;function _o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wo(){return new _o}_o.prototype=wo.prototype={constructor:_o,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,c=a-t,u=o-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){var d=n-a,h=r-o,p=s*s+l*l,g=d*d+h*h,m=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((vo-Math.acos((p+f-g)/(2*m*y)))/2),x=v/y,b=v/m;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*c)+","+(e+x*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*h)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,c=e+s,u=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%xo+xo),f>bo?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=vo)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Mo(){}function ko(t,e){var n=new Mo;if(t instanceof Mo)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Ao(){}Mo.prototype=ko.prototype={constructor:Mo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var So=ko.prototype;function To(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Yo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Do(){}Ao.prototype=function(t,e){var n=new Ao;if(t instanceof Ao)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Ao,has:So.has,add:function(t){return this["$"+(t+="")]=t,this},remove:So.remove,clear:So.clear,values:So.keys,size:So.size,empty:So.empty,each:So.each};var Oo="\\s*([+-]?\\d+)\\s*",Co="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Po=/^#([0-9a-f]{3})$/,Ho=/^#([0-9a-f]{6})$/,jo=new RegExp("^rgb\\("+[Oo,Oo,Oo]+"\\)$"),Lo=new RegExp("^rgb\\("+[No,No,No]+"\\)$"),Eo=new RegExp("^rgba\\("+[Oo,Oo,Oo,Co]+"\\)$"),Fo=new RegExp("^rgba\\("+[No,No,No,Co]+"\\)$"),Uo=new RegExp("^hsl\\("+[Co,No,No]+"\\)$"),zo=new RegExp("^hsla\\("+[Co,No,No,Co]+"\\)$"),Ro={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Io(t){var e;return t=(t+"").trim().toLowerCase(),(e=Po.exec(t))?new Vo((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ho.exec(t))?Wo(parseInt(e[1],16)):(e=jo.exec(t))?new Vo(e[1],e[2],e[3],1):(e=Lo.exec(t))?new Vo(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Eo.exec(t))?Bo(e[1],e[2],e[3],e[4]):(e=Fo.exec(t))?Bo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Uo.exec(t))?Xo(e[1],e[2]/100,e[3]/100,1):(e=zo.exec(t))?Xo(e[1],e[2]/100,e[3]/100,e[4]):Ro.hasOwnProperty(t)?Wo(Ro[t]):"transparent"===t?new Vo(NaN,NaN,NaN,0):null}function Wo(t){return new Vo(t>>16&255,t>>8&255,255&t,1)}function Bo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vo(t,e,n,r)}function $o(t){return t instanceof Do||(t=Io(t)),t?new Vo((t=t.rgb()).r,t.g,t.b,t.opacity):new Vo}function Vo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Go(t,e,n,r)}function qo(t){if(t instanceof Go)return new Go(t.h,t.s,t.l,t.opacity);if(t instanceof Do||(t=Io(t)),!t)return new Go;if(t instanceof Go)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Go(o,s,l,t.opacity)}function Go(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}To(Do,Io,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),To(Vo,(function(t,e,n,r){return 1===arguments.length?$o(t):new Vo(t,e,n,null==r?1:r)}),Yo(Do,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),To(Go,(function(t,e,n,r){return 1===arguments.length?qo(t):new Go(t,e,n,null==r?1:r)}),Yo(Do,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Go(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Go(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vo(Zo(t>=240?t-240:t+120,i,r),Zo(t,i,r),Zo(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Qo=Math.PI/180,Jo=180/Math.PI,Ko=6/29*3*(6/29);function ts(t){if(t instanceof es)return new es(t.l,t.a,t.b,t.opacity);if(t instanceof ss){var e=t.h*Qo;return new es(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Vo||(t=$o(t));var n=as(t.r),r=as(t.g),i=as(t.b),a=ns((.4124564*n+.3575761*r+.1804375*i)/.95047),o=ns((.2126729*n+.7151522*r+.072175*i)/1);return new es(116*o-16,500*(a-o),200*(o-ns((.0193339*n+.119192*r+.9503041*i)/1.08883)),t.opacity)}function es(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ns(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/Ko+4/29}function rs(t){return t>6/29?t*t*t:Ko*(t-4/29)}function is(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function as(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function os(t){if(t instanceof ss)return new ss(t.h,t.c,t.l,t.opacity);t instanceof es||(t=ts(t));var e=Math.atan2(t.b,t.a)*Jo;return new ss(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ss(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}To(es,(function(t,e,n,r){return 1===arguments.length?ts(t):new es(t,e,n,null==r?1:r)}),Yo(Do,{brighter:function(t){return new es(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new es(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=1*rs(t),new Vo(is(3.2404542*(e=.95047*rs(e))-1.5371385*t-.4985314*(n=1.08883*rs(n))),is(-.969266*e+1.8760108*t+.041556*n),is(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),To(ss,(function(t,e,n,r){return 1===arguments.length?os(t):new ss(t,e,n,null==r?1:r)}),Yo(Do,{brighter:function(t){return new ss(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ss(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ts(this).rgb()}}));var ls=-.90649,cs=1.97294;function us(t){if(t instanceof fs)return new fs(t.h,t.s,t.l,t.opacity);t instanceof Vo||(t=$o(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(-.6557636667999999*r+-1.7884503806*e-3.5172982438*n)/-5.9615122912,a=r-i,o=(cs*(n-i)- -.29227*a)/ls,s=Math.sqrt(o*o+a*a)/(cs*i*(1-i)),l=s?Math.atan2(o,a)*Jo-120:NaN;return new fs(l<0?l+360:l,s,i,t.opacity)}function fs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}To(fs,(function(t,e,n,r){return 1===arguments.length?us(t):new fs(t,e,n,null==r?1:r)}),Yo(Do,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new fs(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fs(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Qo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Vo(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(-.29227*r+ls*i)),255*(e+n*(cs*r)),this.opacity)}}));var ds={},hs={};function ps(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function gs(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,c=!1;function u(){if(l)return hs;if(c)return c=!1,ds;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?l=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(e=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=u())!==hs;){for(var f=[];r!==ds&&r!==hs;)f.push(r),r=u();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ps(t);return function(r,i){return e(n(r),i,t)}}(t,e):ps(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}(e)),[n.map(a).join(t)].concat(e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var ms;gs(","),gs("\t");function ys(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vs(t,e){var n=ys(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var xs={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,a=-1;i<r;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return vs(100*t,e)},r:vs,s:function(t,e){var n=ys(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ms=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ys(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},bs=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function _s(t){return new ws(t)}function ws(t){if(!(e=bs.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(l=!0,u="g"):xs[u]||(u=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=c,this.type=u}function Ms(t){return t}_s.prototype=ws.prototype,ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ks,As,Ss=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Ts(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):Ms,i=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Ms,s=t.percent||"%";function l(t){var e=(t=_s(t)).fill,n=t.align,l=t.sign,c=t.symbol,u=t.zero,f=t.width,d=t.comma,h=t.precision,p=t.type,g="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",m="$"===c?i[1]:/[%p]/.test(p)?s:"",y=xs[p],v=!p||/[defgprs%]/.test(p);function x(t){var i,s,c,x=g,b=m;if("c"===p)b=y(t)+b,t="";else{var _=(t=+t)<0;if(t=y(Math.abs(t),h),_&&0==+t&&(_=!1),x=(_?"("===l?l:"-":"-"===l||"("===l?"":l)+x,b=("s"===p?Ss[8+ms/3]:"")+b+(_&&"("===l?")":""),v)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){b=(46===c?a+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}d&&!u&&(t=r(t,1/0));var w=x.length+t.length+b.length,M=w<f?new Array(f-w+1).join(e):"";switch(d&&u&&(t=r(M+t,M.length?f-b.length:1/0),M=""),n){case"<":t=x+t+b+M;break;case"=":t=x+M+t+b;break;case"^":t=M.slice(0,w=M.length>>1)+x+t+b+M.slice(w);break;default:t=M+x+t+b}return o(t)}return h=null==h?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),x.toString=function(){return t+""},x}return{format:l,formatPrefix:function(t,e){var n=l(((t=_s(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=ys(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),a=Ss[8+r/3];return function(t){return n(i*t)+a}}}}function Ys(){return new Ds}function Ds(){this.reset()}!function(t){ks=Ts(t),As=ks.format,ks.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Ds.prototype={constructor:Ds,reset:function(){this.s=this.t=0},add:function(t){Cs(Os,t,this.t),Cs(this,Os.s,this.s),this.s?this.t+=Os.t:this.s=Os.t},valueOf:function(){return this.s}};var Os=new Ds;function Cs(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}Ys(),Ys(),Ys(),Ys(),Ys(),Ys(),Ys(),Ys();function Ns(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,c,u,f,d,h=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!h)return t._root=p,t;for(;h.length;)if((c=e>=(a=(g+y)/2))?g=a:y=a,(u=n>=(o=(m+v)/2))?m=o:v=o,i=h,!(h=h[f=u<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,h.data),l=+t._y.call(null,h.data),e===s&&n===l)return p.next=h,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(a=(g+y)/2))?g=a:y=a,(u=n>=(o=(m+v)/2))?m=o:v=o}while((f=u<<1|c)==(d=(l>=o)<<1|s>=a));return i[d]=h,i[f]=p,t}function Ps(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Hs(t){return t[0]}function js(t){return t[1]}function Ls(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Es(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Fs=function(t,e,n){var r=new Ls(null==e?Hs:e,null==n?js:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=Ls.prototype;function Us(t){return function(){return t}}Fs.copy=function(){var t,e,n=new Ls(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Es(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Es(e));return n},Fs.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ns(this.cover(e,n),e,n,t)},Fs.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>f&&(f=i));for(u<l&&(l=this._x0,u=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(l,c).cover(u,f),n=0;n<a;++n)Ns(this,o[n],s[n],t[n]);return this},Fs.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>a))return this;var o,s,l=i-n,c=this._root;switch(s=(e<(r+a)/2)<<1|t<(n+i)/2){case 0:do{(o=new Array(4))[s]=c,c=o}while(a=r+(l*=2),t>(i=n+l)||e>a);break;case 1:do{(o=new Array(4))[s]=c,c=o}while(a=r+(l*=2),(n=i-l)>t||e>a);break;case 2:do{(o=new Array(4))[s]=c,c=o}while(r=a-(l*=2),t>(i=n+l)||r>e);break;case 3:do{(o=new Array(4))[s]=c,c=o}while(r=a-(l*=2),(n=i-l)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Fs.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Fs.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Fs.find=function(t,e,n){var r,i,a,o,s,l,c,u=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new Ps(g,u,f,d,h)),null==n?n=1/0:(u=t-n,f=e-n,d=t+n,h=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(a=l.y0)>h||(o=l.x1)<u||(s=l.y1)<f))if(g.length){var m=(i+o)/2,y=(a+s)/2;p.push(new Ps(g[3],m,y,o,s),new Ps(g[2],i,y,m,s),new Ps(g[1],m,a,o,y),new Ps(g[0],i,a,m,y)),(c=(e>=y)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),b=v*v+x*x;if(b<n){var _=Math.sqrt(n=b);u=t-_,f=e-_,d=t+_,h=e+_,r=g.data}}return r},Fs.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,c,u,f,d,h=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((c=a>=(s=(p+m)/2))?p=s:m=s,(u=o>=(l=(g+y)/2))?g=l:y=l,e=h,!(h=h[f=u<<1|c]))return this;if(!h.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,d=f)}for(;h.data!==t;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},Fs.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Fs.root=function(){return this._root},Fs.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Fs.visit=function(t){var e,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new Ps(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var c=(r+a)/2,u=(i+o)/2;(n=l[3])&&s.push(new Ps(n,c,u,a,o)),(n=l[2])&&s.push(new Ps(n,r,u,c,o)),(n=l[1])&&s.push(new Ps(n,c,i,a,u)),(n=l[0])&&s.push(new Ps(n,r,i,c,u))}return this},Fs.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ps(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,f=(s+c)/2;(a=i[0])&&n.push(new Ps(a,o,s,u,f)),(a=i[1])&&n.push(new Ps(a,u,s,l,f)),(a=i[2])&&n.push(new Ps(a,o,f,u,c)),(a=i[3])&&n.push(new Ps(a,u,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Fs.x=function(t){return arguments.length?(this._x=t,this):this._x},Fs.y=function(t){return arguments.length?(this._y=t,this):this._y};var zs=Math.abs,Rs=Math.atan2,Is=Math.cos,Ws=Math.max,Bs=Math.min,$s=Math.sin,Vs=Math.sqrt,Xs=Math.PI,qs=Xs/2,Gs=2*Xs;function Zs(t){return t>1?0:t<-1?Xs:Math.acos(t)}function Qs(t){return t>=1?qs:t<=-1?-qs:Math.asin(t)}function Js(t){return t.innerRadius}function Ks(t){return t.outerRadius}function tl(t){return t.startAngle}function el(t){return t.endAngle}function nl(t){return t&&t.padAngle}function rl(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,f=s-a,d=(u*(e-a)-f*(t-i))/(f*l-u*c);return[t+d*l,e+d*c]}function il(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/Vs(s*s+l*l),u=c*l,f=-c*s,d=t+u,h=e+f,p=n+u,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,x=g-h,b=v*v+x*x,_=i-a,w=d*g-p*h,M=(x<0?-1:1)*Vs(Ws(0,_*_*b-w*w)),k=(w*x-v*M)/b,A=(-w*v-x*M)/b,S=(w*x+v*M)/b,T=(-w*v+x*M)/b,Y=k-m,D=A-y,O=S-m,C=T-y;return Y*Y+D*D>O*O+C*C&&(k=S,A=T),{cx:k,cy:A,x01:-u,y01:-f,x11:k*(i/_-1),y11:A*(i/_-1)}}function al(){var t=Js,e=Ks,n=Us(0),r=null,i=tl,a=el,o=nl,s=null;function l(){var l,c,u=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-qs,h=a.apply(this,arguments)-qs,p=zs(h-d),g=h>d;if(s||(s=l=wo()),f<u&&(c=f,f=u,u=c),f>1e-12)if(p>Gs-1e-12)s.moveTo(f*Is(d),f*$s(d)),s.arc(0,0,f,d,h,!g),u>1e-12&&(s.moveTo(u*Is(h),u*$s(h)),s.arc(0,0,u,h,d,g));else{var m,y,v=d,x=h,b=d,_=h,w=p,M=p,k=o.apply(this,arguments)/2,A=k>1e-12&&(r?+r.apply(this,arguments):Vs(u*u+f*f)),S=Bs(zs(f-u)/2,+n.apply(this,arguments)),T=S,Y=S;if(A>1e-12){var D=Qs(A/u*$s(k)),O=Qs(A/f*$s(k));(w-=2*D)>1e-12?(b+=D*=g?1:-1,_-=D):(w=0,b=_=(d+h)/2),(M-=2*O)>1e-12?(v+=O*=g?1:-1,x-=O):(M=0,v=x=(d+h)/2)}var C=f*Is(v),N=f*$s(v),P=u*Is(_),H=u*$s(_);if(S>1e-12){var j=f*Is(x),L=f*$s(x),E=u*Is(b),F=u*$s(b);if(p<Xs){var U=w>1e-12?rl(C,N,E,F,j,L,P,H):[P,H],z=C-U[0],R=N-U[1],I=j-U[0],W=L-U[1],B=1/$s(Zs((z*I+R*W)/(Vs(z*z+R*R)*Vs(I*I+W*W)))/2),$=Vs(U[0]*U[0]+U[1]*U[1]);T=Bs(S,(u-$)/(B-1)),Y=Bs(S,(f-$)/(B+1))}}M>1e-12?Y>1e-12?(m=il(E,F,C,N,f,Y,g),y=il(j,L,P,H,f,Y,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),Y<S?s.arc(m.cx,m.cy,Y,Rs(m.y01,m.x01),Rs(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,Y,Rs(m.y01,m.x01),Rs(m.y11,m.x11),!g),s.arc(0,0,f,Rs(m.cy+m.y11,m.cx+m.x11),Rs(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,Y,Rs(y.y11,y.x11),Rs(y.y01,y.x01),!g))):(s.moveTo(C,N),s.arc(0,0,f,v,x,!g)):s.moveTo(C,N),u>1e-12&&w>1e-12?T>1e-12?(m=il(P,H,j,L,u,-T,g),y=il(C,N,E,F,u,-T,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),T<S?s.arc(m.cx,m.cy,T,Rs(m.y01,m.x01),Rs(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,T,Rs(m.y01,m.x01),Rs(m.y11,m.x11),!g),s.arc(0,0,u,Rs(m.cy+m.y11,m.cx+m.x11),Rs(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,T,Rs(y.y11,y.x11),Rs(y.y01,y.x01),!g))):s.arc(0,0,u,_,b,g):s.lineTo(P,H)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Xs/2;return[Is(r)*n,$s(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Us(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Us(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Us(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Us(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Us(+t),l):i},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Us(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Us(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function ol(t){this._context=t}function sl(t){return new ol(t)}function ll(t){return t[0]}function cl(t){return t[1]}function ul(){var t=ll,e=cl,n=Us(!0),r=null,i=sl,a=null;function o(o){var s,l,c,u=o.length,f=!1;for(null==r&&(a=i(c=wo())),s=0;s<=u;++s)!(s<u&&n(l=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(l,s,o),+e(l,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Us(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Us(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Us(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function fl(){var t=ll,e=null,n=Us(0),r=cl,i=Us(!0),a=null,o=sl,s=null;function l(l){var c,u,f,d,h,p=l.length,g=!1,m=new Array(p),y=new Array(p);for(null==a&&(s=o(h=wo())),c=0;c<=p;++c){if(!(c<p&&i(d=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(m[f],y[f]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(d,c,l),y[c]=+n(d,c,l),s.point(e?+e(d,c,l):m[c],r?+r(d,c,l):y[c]))}if(h)return s=null,h+""||null}function c(){return ul().defined(i).curve(o).context(a)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Us(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Us(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Us(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Us(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Us(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Us(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Us(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),l):o},l.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),l):a},l}function dl(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function hl(t){return t}function pl(){var t=hl,e=dl,n=null,r=Us(0),i=Us(Gs),a=Us(0);function o(o){var s,l,c,u,f,d=o.length,h=0,p=new Array(d),g=new Array(d),m=+r.apply(this,arguments),y=Math.min(Gs,Math.max(-Gs,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),x=v*(y<0?-1:1);for(s=0;s<d;++s)(f=g[p[s]=s]=+t(o[s],s,o))>0&&(h+=f);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(o[t],o[e])})),s=0,c=h?(y-d*x)/h:0;s<d;++s,m=u)l=p[s],u=m+((f=g[l])>0?f*c:0)+x,g[l]={data:o[l],index:s,value:f,startAngle:m,endAngle:u,padAngle:v};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Us(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Us(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Us(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Us(+t),o):a},o}ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var gl=Array.prototype.slice;function ml(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yl(t){this._context=t}function vl(t){return new yl(t)}function xl(t){return t<0?-1:1}function bl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(xl(a)+xl(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function _l(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wl(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Ml(t){this._context=t}function kl(t){this._context=t}function Al(t,e){this._context=t,this._t=e}function Sl(t){return new Al(t,.5)}function Tl(t){return new Al(t,0)}function Yl(t){return new Al(t,1)}function Dl(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ol(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Cl(t,e){return t[e]}function Nl(){var t=Us([]),e=Ol,n=Dl,r=Cl;function i(i){var a,o,s=t.apply(this,arguments),l=i.length,c=s.length,u=new Array(c);for(a=0;a<c;++a){for(var f,d=s[a],h=u[a]=new Array(l),p=0;p<l;++p)h[p]=f=[0,+r(i[p],d,p,i)],f.data=i[p];h.key=d}for(a=0,o=e(u);a<c;++a)u[o[a]].index=a;return n(u,o),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Us(gl.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Us(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Ol:"function"==typeof t?t:Us(gl.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Dl:t,i):n},i}function Pl(t,e){if((s=t.length)>1)for(var n,r,i,a,o,s,l=0,c=t[e[0]].length;l<c;++l)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a}yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ml(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ml(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wl(this,this._t0,_l(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wl(this,_l(this,n=bl(this,t,e)),n);break;default:wl(this,this._t0,n=bl(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new kl(t)}.prototype=Object.create(Ml.prototype)).point=function(t,e){Ml.prototype.point.call(this,e,t)},kl.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Al.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Hl=new Date,jl=new Date;function Ll(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return Ll((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Hl.setTime(+e),jl.setTime(+r),t(Hl),t(jl),Math.floor(n(Hl,jl))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var El=Ll((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));El.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ll((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):El:null};Ll((function(t){t.setTime(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Ll((function(t){t.setTime(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Ll((function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}));var Fl=Ll((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function Ul(t){return Ll((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}Ul(0),Ul(1),Ul(2),Ul(3),Ul(4),Ul(5),Ul(6),Ll((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));Ll((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})).every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ll((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};Ll((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),Ll((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Ll((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function zl(t){return Ll((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}zl(0),zl(1),zl(2),zl(3),zl(4),zl(5),zl(6),Ll((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));function Rl(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Il(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wl(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Ll((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})).every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ll((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Bl,$l,Vl,Xl={"-":"",_:" ",0:"0"},ql=/^\s*\d+/,Gl=/^%/,Zl=/[\\^$*+?|[\]().{}]/g;function Ql(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Jl(t){return t.replace(Zl,"\\$&")}function Kl(t){return new RegExp("^(?:"+t.map(Jl).join("|")+")","i")}function tc(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ec(t,e,n){var r=ql.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=ql.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ic(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ac(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oc(t,e,n){var r=ql.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lc(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function uc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fc(t,e,n){var r=ql.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function hc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pc(t,e,n){var r=ql.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gc(t,e,n){var r=ql.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mc(t,e,n){var r=ql.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yc(t,e,n){var r=Gl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vc(t,e,n){var r=ql.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xc(t,e,n){var r=ql.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function bc(t,e){return Ql(t.getDate(),e,2)}function _c(t,e){return Ql(t.getHours(),e,2)}function wc(t,e){return Ql(t.getHours()%12||12,e,2)}function Mc(t,e){return Ql(1+oi.count(di(t),t),e,3)}function kc(t,e){return Ql(t.getMilliseconds(),e,3)}function Ac(t,e){return kc(t,e)+"000"}function Sc(t,e){return Ql(t.getMonth()+1,e,2)}function Tc(t,e){return Ql(t.getMinutes(),e,2)}function Yc(t,e){return Ql(t.getSeconds(),e,2)}function Dc(t){var e=t.getDay();return 0===e?7:e}function Oc(t,e){return Ql(li.count(di(t),t),e,2)}function Cc(t,e){var n=t.getDay();return t=n>=4||0===n?ui(t):ui.ceil(t),Ql(ui.count(di(t),t)+(4===di(t).getDay()),e,2)}function Nc(t){return t.getDay()}function Pc(t,e){return Ql(ci.count(di(t),t),e,2)}function Hc(t,e){return Ql(t.getFullYear()%100,e,2)}function jc(t,e){return Ql(t.getFullYear()%1e4,e,4)}function Lc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ql(e/60|0,"0",2)+Ql(e%60,"0",2)}function Ec(t,e){return Ql(t.getUTCDate(),e,2)}function Fc(t,e){return Ql(t.getUTCHours(),e,2)}function Uc(t,e){return Ql(t.getUTCHours()%12||12,e,2)}function zc(t,e){return Ql(1+gi.count(_i(t),t),e,3)}function Rc(t,e){return Ql(t.getUTCMilliseconds(),e,3)}function Ic(t,e){return Rc(t,e)+"000"}function Wc(t,e){return Ql(t.getUTCMonth()+1,e,2)}function Bc(t,e){return Ql(t.getUTCMinutes(),e,2)}function $c(t,e){return Ql(t.getUTCSeconds(),e,2)}function Vc(t){var e=t.getUTCDay();return 0===e?7:e}function Xc(t,e){return Ql(yi.count(_i(t),t),e,2)}function qc(t,e){var n=t.getUTCDay();return t=n>=4||0===n?xi(t):xi.ceil(t),Ql(xi.count(_i(t),t)+(4===_i(t).getUTCDay()),e,2)}function Gc(t){return t.getUTCDay()}function Zc(t,e){return Ql(vi.count(_i(t),t),e,2)}function Qc(t,e){return Ql(t.getUTCFullYear()%100,e,2)}function Jc(t,e){return Ql(t.getUTCFullYear()%1e4,e,4)}function Kc(){return"+0000"}function tu(){return"%"}function eu(t){return+t}function nu(t){return Math.floor(+t/1e3)}!function(t){Bl=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Kl(i),u=tc(i),f=Kl(a),d=tc(a),h=Kl(o),p=tc(o),g=Kl(s),m=tc(s),y=Kl(l),v=tc(l),x={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:bc,e:bc,f:Ac,H:_c,I:wc,j:Mc,L:kc,m:Sc,M:Tc,p:function(t){return i[+(t.getHours()>=12)]},Q:eu,s:nu,S:Yc,u:Dc,U:Oc,V:Cc,w:Nc,W:Pc,x:null,X:null,y:Hc,Y:jc,Z:Lc,"%":tu},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ec,e:Ec,f:Ic,H:Fc,I:Uc,j:zc,L:Rc,m:Wc,M:Bc,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:eu,s:nu,S:$c,u:Vc,U:Xc,V:qc,w:Gc,W:Zc,x:null,X:null,y:Qc,Y:Jc,Z:Kc,"%":tu},_={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:uc,e:uc,f:mc,H:dc,I:dc,j:fc,L:gc,m:cc,M:hc,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:vc,s:xc,S:pc,u:nc,U:rc,V:ic,w:ec,W:ac,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:sc,Y:oc,Z:lc,"%":yc};function w(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=Xl[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function M(t,e){return function(n){var r,i,a=Wl(1900);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Il(Wl(a.y))).getUTCDay(),r=i>4||0===i?vi.ceil(r):vi(r),r=gi.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Wl(a.y))).getDay(),r=i>4||0===i?ci.ceil(r):ci(r),r=oi.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Il(Wl(a.y)).getUTCDay():e(Wl(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Il(a)):e(a)}}function k(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=_[i in Xl?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",Rl);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,Il);return e.toString=function(){return t},e}})}(t),Bl.format,Bl.parse,$l=Bl.utcFormat,Vl=Bl.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||$l("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Vl("%Y-%m-%dT%H:%M:%S.%LZ"),"object"==typeof performance&&performance.now?performance:Date,"object"==typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame.bind(window);var ru={value:function(){}};function iu(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new au(r)}function au(t){this._=t}function ou(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function su(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function lu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ru,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}au.prototype=iu.prototype={constructor:au,on:function(t,e){var n,r=this._,i=ou(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=lu(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lu(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=su(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new au(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var cu,uu,fu=0,du=0,hu=0,pu=0,gu=0,mu=0,yu="object"==typeof performance&&performance.now?performance:Date,vu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xu(){return gu||(vu(bu),gu=yu.now()+mu)}function bu(){gu=0}function _u(){this._call=this._time=this._next=null}function wu(t,e,n){var r=new _u;return r.restart(t,e,n),r}function Mu(){gu=(pu=yu.now())+mu,fu=du=0;try{!function(){xu(),++fu;for(var t,e=cu;e;)(t=gu-e._time)>=0&&e._call.call(null,t),e=e._next;--fu}()}finally{fu=0,function(){var t,e,n=cu,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:cu=e);uu=t,Au(r)}(),gu=0}}function ku(){var t=yu.now(),e=t-pu;e>1e3&&(mu-=e,pu=t)}function Au(t){fu||(du&&(du=clearTimeout(du)),t-gu>24?(t<1/0&&(du=setTimeout(Mu,t-yu.now()-mu)),hu&&(hu=clearInterval(hu))):(hu||(pu=yu.now(),hu=setInterval(ku,1e3)),fu=1,vu(Mu)))}function Su(t,e,n){var r=new _u;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}_u.prototype=wu.prototype={constructor:_u,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?xu():+n)+(null==e?0:+e),this._next||uu===this||(uu?uu._next=this:cu=this,uu=this),this._call=t,this._time=n,Au()},stop:function(){this._call&&(this._call=null,this._time=1/0,Au())}};var Tu=iu("start","end","interrupt"),Yu=[];function Du(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(l){var c,u,f,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Su(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),delete i[c])}if(Su((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(null,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=wu((function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Tu,tween:Yu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Ou(t,e){var n=Nu(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Cu(t,e){var n=Nu(t,e);if(n.state>2)throw new Error("too late; already started");return n}function Nu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pu(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ju(){}var Lu="\\s*([+-]?\\d+)\\s*",Eu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uu=/^#([0-9a-f]{3,8})$/,zu=new RegExp("^rgb\\("+[Lu,Lu,Lu]+"\\)$"),Ru=new RegExp("^rgb\\("+[Fu,Fu,Fu]+"\\)$"),Iu=new RegExp("^rgba\\("+[Lu,Lu,Lu,Eu]+"\\)$"),Wu=new RegExp("^rgba\\("+[Fu,Fu,Fu,Eu]+"\\)$"),Bu=new RegExp("^hsl\\("+[Eu,Fu,Fu]+"\\)$"),$u=new RegExp("^hsla\\("+[Eu,Fu,Fu,Eu]+"\\)$"),Vu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xu(){return this.rgb().formatHex()}function qu(){return this.rgb().formatRgb()}function Gu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Zu(e):3===n?new tf(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new tf(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new tf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zu.exec(t))?new tf(e[1],e[2],e[3],1):(e=Ru.exec(t))?new tf(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Iu.exec(t))?Qu(e[1],e[2],e[3],e[4]):(e=Wu.exec(t))?Qu(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bu.exec(t))?af(e[1],e[2]/100,e[3]/100,1):(e=$u.exec(t))?af(e[1],e[2]/100,e[3]/100,e[4]):Vu.hasOwnProperty(t)?Zu(Vu[t]):"transparent"===t?new tf(NaN,NaN,NaN,0):null}function Zu(t){return new tf(t>>16&255,t>>8&255,255&t,1)}function Qu(t,e,n,r){return r<=0&&(t=e=n=NaN),new tf(t,e,n,r)}function Ju(t){return t instanceof ju||(t=Gu(t)),t?new tf((t=t.rgb()).r,t.g,t.b,t.opacity):new tf}function Ku(t,e,n,r){return 1===arguments.length?Ju(t):new tf(t,e,n,null==r?1:r)}function tf(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ef(){return"#"+rf(this.r)+rf(this.g)+rf(this.b)}function nf(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function rf(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function af(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sf(t,e,n,r)}function of(t){if(t instanceof sf)return new sf(t.h,t.s,t.l,t.opacity);if(t instanceof ju||(t=Gu(t)),!t)return new sf;if(t instanceof sf)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new sf(o,s,l,t.opacity)}function sf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function lf(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function cf(t){return function(){return t}}function uf(t){return 1==(t=+t)?ff:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):cf(isNaN(e)?n:e)}}function ff(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):cf(isNaN(t)?e:t)}Pu(ju,Gu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xu,formatHex:Xu,formatHsl:function(){return of(this).formatHsl()},formatRgb:qu,toString:qu}),Pu(tf,Ku,Hu(ju,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new tf(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new tf(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ef,formatHex:ef,formatRgb:nf,toString:nf})),Pu(sf,(function(t,e,n,r){return 1===arguments.length?of(t):new sf(t,e,n,null==r?1:r)}),Hu(ju,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new sf(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new sf(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tf(lf(t>=240?t-240:t+120,i,r),lf(t,i,r),lf(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var df=function t(e){var n=uf(e);function r(t,e){var r=n((t=Ku(t)).r,(e=Ku(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ff(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function hf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var pf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gf=new RegExp(pf.source,"g");function mf(t,e){var n,r,i,a=pf.lastIndex=gf.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=pf.exec(t))&&(r=gf.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:hf(n,r)})),a=gf.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}var yf,vf,xf,bf,_f=180/Math.PI,wf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mf(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*_f,skewX:Math.atan(l)*_f,scaleX:o,scaleY:s}}function kf(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:hf(t,i)},{i:l-2,x:hf(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:hf(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:hf(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:hf(t,n)},{i:s-2,x:hf(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Af=kf((function(t){return"none"===t?wf:(yf||(yf=document.createElement("DIV"),vf=document.documentElement,xf=document.defaultView),yf.style.transform=t,t=xf.getComputedStyle(vf.appendChild(yf),null).getPropertyValue("transform"),vf.removeChild(yf),Mf(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Sf=kf((function(t){return null==t?wf:(bf||(bf=document.createElementNS("http://www.w3.org/2000/svg","g")),bf.setAttribute("transform",t),(t=bf.transform.baseVal.consolidate())?Mf((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):wf)}),", ",")",")");function Tf(t,e){var n,r;return function(){var i=Cu(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Yf(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Cu(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function Df(t,e,n){var r=t._id;return t.each((function(){var t=Cu(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Nu(t,r).value[e]}}function Of(t,e){var n;return("number"==typeof e?hf:e instanceof Gu?df:(n=Gu(e))?(e=n,df):mf)(t,e)}function Cf(t){return function(){this.removeAttribute(t)}}function Nf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pf(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function Hf(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function jf(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttribute(t)}}function Lf(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttributeNS(t.space,t.local)}}function Ef(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function Ff(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function Uf(t,e){return function(){Ou(this,t).delay=+e.apply(this,arguments)}}function zf(t,e){return e=+e,function(){Ou(this,t).delay=e}}function Rf(t,e){return function(){Cu(this,t).duration=+e.apply(this,arguments)}}function If(t,e){return e=+e,function(){Cu(this,t).duration=e}}function Wf(t,e){if("function"!=typeof e)throw new Error;return function(){Cu(this,t).ease=e}}function Bf(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ou:Cu;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var $f=ht.prototype.constructor;function Vf(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}var Xf=0;function qf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gf(){return++Xf}var Zf=ht.prototype;qf.prototype=function(t){return ht().transition(t)}.prototype={constructor:qf,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=r[o],f=u.length,d=a[o]=new Array(f),h=0;h<f;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,Du(d[h],e,n,h,d,Nu(s,n)));return new qf(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=t.call(l,l.__data__,d,c),g=Nu(l,n),m=0,y=p.length;m<y;++m)(h=p[m])&&Du(h,e,n,m,p,g);a.push(p),o.push(l)}return new qf(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new qf(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],f=c.length,d=o[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new qf(o,this._parents,this._name,this._id)},selection:function(){return new $f(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Gf(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Nu(o,e);Du(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qf(r,this._parents,t,n)},call:Zf.call,nodes:Zf.nodes,node:Zf.node,size:Zf.size,empty:Zf.empty,each:Zf.each,on:function(t,e){var n=this._id;return arguments.length<2?Nu(this.node(),n).on.on(t):this.each(Bf(n,t,e))},attr:function(t,e){var n=i(t),r="transform"===n?Sf:Of;return this.attrTween(t,"function"==typeof e?(n.local?Lf:jf)(n,r,Df(this,"attr."+t,e)):null==e?(n.local?Nf:Cf)(n):(n.local?Hf:Pf)(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=i(t);return this.tween(n,(r.local?Ef:Ff)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Af:Of;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=C(this,t),o=(this.style.removeProperty(t),C(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,a;return function(){var o=C(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=C(this,t)),o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}(t,r,Df(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var a=C(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Vf(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Df(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Nu(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Tf:Yf)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Uf:zf)(e,t)):Nu(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Rf:If)(e,t)):Nu(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Wf(e,t)):Nu(this.node(),e).ease}};var Qf={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Jf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Qf.time=xu(),Qf;return n}function Kf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ht.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},ht.prototype.transition=function(t){var e,n;t instanceof qf?(e=t._id,t=t._name):(e=Gf(),(n=Qf).time=xu(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Du(o,t,e,c,s,n||Jf(o,e));return new qf(r,this._parents,t,e)};!function(t){1===t.length&&(t=function(t){return function(e,n){return Kf(t(e),n)}}(t))}(Kf);function td(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var ed=Array.prototype.slice;function nd(t){return t}function rd(t){return"translate("+(t+.5)+",0)"}function id(t){return"translate(0,"+(t+.5)+")"}function ad(t){return function(e){return+t(e)}}function od(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function sd(){return!this.__axis}function ld(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?rd:id;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,h=null==i?e.tickFormat?e.tickFormat.apply(e,n):nd:i,p=Math.max(a,0)+s,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?od:ad)(e.copy()),x=f.selection?f.selection():f,b=x.selectAll(".domain").data([null]),_=x.selectAll(".tick").data(d,e).order(),w=_.exit(),M=_.enter().append("g").attr("class","tick"),k=_.select("line"),A=_.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(c+"2",l*a)),A=A.merge(M.append("text").attr("fill","#000").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==x&&(b=b.transition(f),_=_.transition(f),k=k.transition(f),A=A.transition(f),w=w.transition(f).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),w.remove(),b.attr("d",4===t||2==t?"M"+l*o+","+m+"H0.5V"+y+"H"+l*o:"M"+m+","+l*o+"V0.5H"+y+"V"+l*o),_.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),k.attr(c+"2",l*a),A.attr(c,l*p).text(h),x.filter(sd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),x.each((function(){this.__axis=v}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=ed.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:ed.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:ed.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}function cd(t){return ld(1,t)}function ud(t){return ld(2,t)}function fd(t){return ld(3,t)}function dd(t){return ld(4,t)}function hd(t,e){return t<(e.mobileBreakpoint||600)}function pd(t,e){return isNaN(Number(t))?e:Number(t)}function gd(t,e,n,r,i){let a=null,o=null;const{id:s}=r;pt(window).on(`resize.toaster-${s}`,(function(){const r=pd(t.offsetHeight,0)+pd(t.getBoundingClientRect().top,0),s=window.innerWidth;(i.alwaysResize||a!==s||o!==r)&&(e(),n(t,i),function(t,e){const n=e.largeBreakpoint||880,r=e.mobileBreakpoint||600;pt(t).classed("large",t.offsetWidth>n).classed("phablet",t.offsetWidth<=n&&(t.offsetWidth>r||e.preventMobileFont)).classed("mobile",t.offsetWidth<=r&&!e.preventMobileFont)}(t,i),a=s,o=r)}));try{document.fonts&&document.fonts.ready&&"loading"===document.fonts.status?(document.fonts.ready.then(()=>pt(window).dispatch("resize")),setTimeout(()=>pt(window).dispatch("resize"),50)):setTimeout(()=>pt(window).dispatch("resize"),1e3)}catch(t){setTimeout(()=>pt(window).dispatch("resize"),1e3)}}function md(){try{return window.self!==window.top}catch(t){return!0}}var yd=e((function(t,e){t.exports=function(){var e,n;function r(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return ye(t,e,n,r,!0).utc()}function h(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=h(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(NaN);return null!=t?f(h(e),t):h(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var m=r.momentProperties=[];function y(t,e){var n,r,i;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=h(e)),o(e._locale)||(t._locale=e._locale),0<m.length)for(n=0;n<m.length;n++)o(i=e[r=m[n]])||(t[r]=i);return t}var v=!1;function x(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function b(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function M(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&w(t[r])!==w(e[r]))&&o++;return o+a}function k(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function A(t,e){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}k((Array.prototype.slice.call(a).join(""),(new Error).stack)),n=!1}return e.apply(this,arguments)}),e)}var S,T={};function Y(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),T[t]||(k(),T[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var n,r=f({},t);for(n in e)u(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&a(t[n])&&(r[n]=f({},r[n]));return r}function C(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var N={};function P(t,e){var n=t.toLowerCase();N[n]=N[n+"s"]=N[e]=t}function H(t){return"string"==typeof t?N[t]||N[t.toLowerCase()]:void 0}function j(t){var e,n,r={};for(n in t)u(t,n)&&(e=H(n))&&(r[e]=t[n]);return r}var L={};function E(t,e){L[t]=e}function F(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},I={};function W(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(I[t]=i),e&&(I[e[0]]=function(){return F(i.apply(this,arguments),e[1],e[2])}),n&&(I[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function B(t,e){return t.isValid()?(e=$(e,t.localeData()),R[e]=R[e]||function(t){var e,n,r,i=t.match(U);for(e=0,n=i.length;e<n;e++)I[i[e]]?i[e]=I[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,a="";for(r=0;r<n;r++)a+=D(i[r])?i[r].call(e,t):i[r];return a}}(e),R[e](t)):t.localeData().invalidDate()}function $(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(z.lastIndex=0;0<=n&&z.test(t);)t=t.replace(z,r),z.lastIndex=0,n-=1;return t}var V=/\d/,X=/\d\d/,q=/\d{3}/,G=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,J=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,rt=/\d+/,it=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ct(t,e,n){lt[t]=D(e)?e:function(t,r){return t&&n?n:e}}function ut(t,e){return u(lt,t)?lt[t](e._strict,e._locale):new RegExp(ft(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function ft(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ht(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),s(e)&&(r=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)dt[t[n]]=r}function pt(t,e){ht(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function gt(t){return mt(t)?366:365}function mt(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),E("year",1),ct("Y",it),ct("YY",Q,X),ct("YYYY",et,G),ct("YYYYY",nt,Z),ct("YYYYYY",nt,Z),ht(["YYYYY","YYYYYY"],0),ht("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):w(t)})),ht("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),ht("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var yt,vt=xt("FullYear",!0);function xt(t,e){return function(n){return null!=n?(_t(this,t,n),r.updateOffset(this,e),this):bt(this,t)}}function bt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function _t(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&mt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),wt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?mt(t)?29:28:31-n%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),P("month","M"),E("month",8),ct("M",Q),ct("MM",Q,X),ct("MMM",(function(t,e){return e.monthsShortRegex(t)})),ct("MMMM",(function(t,e){return e.monthsRegex(t)})),ht(["M","MM"],(function(t,e){e[1]=w(t)-1})),ht(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:h(n).invalidMonth=t}));var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),At="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function St(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Tt(t){return null!=t?(St(this,t),r.updateOffset(this,!0),this):bt(this,"Month")}var Yt=st,Dt=st;function Ot(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=ft(r[e]),i[e]=ft(i[e]);for(e=0;e<24;e++)a[e]=ft(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ct(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Nt(t,e,n){var r=7+e-n;return-(7+Ct(t,0,r).getUTCDay()-e)%7+r-1}function Pt(t,e,n,r,i){var a,o,s=1+7*(e-1)+(7+n-r)%7+Nt(t,r,i);return s<=0?o=gt(a=t-1)+s:s>gt(t)?(a=t+1,o=s-gt(t)):(a=t,o=s),{year:a,dayOfYear:o}}function Ht(t,e,n){var r,i,a=Nt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?r=o+jt(i=t.year()-1,e,n):o>jt(t.year(),e,n)?(r=o-jt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function jt(t,e,n){var r=Nt(t,e,n),i=Nt(t+1,e,n);return(gt(t)-r+i)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),E("week",5),E("isoWeek",5),ct("w",Q),ct("ww",Q,X),ct("W",Q),ct("WW",Q,X),pt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=w(t)})),W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),E("day",11),E("weekday",11),E("isoWeekday",11),ct("d",Q),ct("e",Q),ct("E",Q),ct("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ct("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ct("dddd",(function(t,e){return e.weekdaysRegex(t)})),pt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:h(n).invalidWeekday=t})),pt(["d","e","E"],(function(t,e,n,r){e[r]=w(t)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Et="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ut=st,zt=st,Rt=st;function It(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=ft(s[e]),l[e]=ft(l[e]),c[e]=ft(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Wt(){return this.hours()%12||12}function Bt(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function $t(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Wt),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+Wt.apply(this)+F(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Wt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Bt("a",!0),Bt("A",!1),P("hour","h"),E("hour",13),ct("a",$t),ct("A",$t),ct("H",Q),ct("h",Q),ct("k",Q),ct("HH",Q,X),ct("hh",Q,X),ct("kk",Q,X),ct("hmm",J),ct("hmmss",K),ct("Hmm",J),ct("Hmmss",K),ht(["H","HH"],3),ht(["k","kk"],(function(t,e,n){var r=w(t);e[3]=24===r?0:r})),ht(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),ht(["h","hh"],(function(t,e,n){e[3]=w(t),h(n).bigHour=!0})),ht("hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r)),h(n).bigHour=!0})),ht("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i)),h(n).bigHour=!0})),ht("Hmm",(function(t,e,n){var r=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r))})),ht("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=w(t.substr(0,r)),e[4]=w(t.substr(r,2)),e[5]=w(t.substr(i))}));var Vt,Xt=xt("Hours",!0),qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:At,week:{dow:0,doy:6},weekdays:Lt,weekdaysMin:Ft,weekdaysShort:Et,meridiemParse:/[ap]\.?m?\.?/i},Gt={},Zt={};function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Jt(e){var n=null;if(!Gt[e]&&t&&t.exports)try{n=Vt._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),Kt(n)}catch(e){}return Gt[e]}function Kt(t,e){var n;return t&&((n=o(e)?ee(t):te(t,e))?Vt=n:"undefined"!=typeof console&&console.warn),Vt._abbr}function te(t,e){if(null!==e){var n,r=qt;if(e.abbr=t,null!=Gt[t])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Gt[t]._config;else if(null!=e.parentLocale)if(null!=Gt[e.parentLocale])r=Gt[e.parentLocale]._config;else{if(null==(n=Jt(e.parentLocale)))return Zt[e.parentLocale]||(Zt[e.parentLocale]=[]),Zt[e.parentLocale].push({name:t,config:e}),null;r=n._config}return Gt[t]=new C(O(r,e)),Zt[t]&&Zt[t].forEach((function(t){te(t.name,t.config)})),Kt(t),Gt[t]}return delete Gt[t],null}function ee(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Vt;if(!i(t)){if(e=Jt(t))return e;t=[t]}return function(t){for(var e,n,r,i,a=0;a<t.length;){for(e=(i=Qt(t[a]).split("-")).length,n=(n=Qt(t[a+1]))?n.split("-"):null;0<e;){if(r=Jt(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&M(i,n,!0)>=e-1)break;e--}a++}return Vt}(t)}function ne(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[1]<0||11<n[1]?1:n[2]<1||n[2]>wt(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,h(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),h(t)._overflowWeeks&&-1===e&&(e=7),h(t)._overflowWeekday&&-1===e&&(e=8),h(t).overflow=e),t}function re(t,e,n){return null!=t?t:null!=e?e:n}function ie(t){var e,n,i,a,o,s=[];if(!t._d){var l,c;for(l=t,c=new Date(r.now()),i=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,a,o,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,o=4,n=re(e.GG,t._a[0],Ht(ve(),1,4).year),r=re(e.W,1),((i=re(e.E,1))<1||7<i)&&(l=!0);else{a=t._locale._week.dow,o=t._locale._week.doy;var c=Ht(ve(),a,o);n=re(e.gg,t._a[0],c.year),r=re(e.w,c.week),null!=e.d?((i=e.d)<0||6<i)&&(l=!0):null!=e.e?(i=e.e+a,(e.e<0||6<e.e)&&(l=!0)):i=a}r<1||r>jt(n,a,o)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(s=Pt(n,r,i,a,o),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=re(t._a[0],i[0]),(t._dayOfYear>gt(o)||0===t._dayOfYear)&&(h(t)._overflowDayOfYear=!0),n=Ct(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ct:function(t,e,n,r,i,a,o){var s=new Date(t,e,n,r,i,a,o);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(h(t).weekdayMismatch=!0)}}var ae=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se=/Z|[+-]\d\d(?::?\d\d)?/,le=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ue=/^\/?Date\((\-?\d+)/i;function fe(t){var e,n,r,i,a,o,s=t._i,l=ae.exec(s)||oe.exec(s);if(l){for(h(t).iso=!0,e=0,n=le.length;e<n;e++)if(le[e][1].exec(l[1])){i=le[e][0],r=!1!==le[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=ce.length;e<n;e++)if(ce[e][1].exec(l[3])){a=(l[2]||" ")+ce[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!se.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),ge(t)}else t._isValid=!1}var de=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,he={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pe(t){var e,n,r,i=de.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(i){var a=function(t,e,n,r,i,a){var o=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),At.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}(i[4],i[3],i[2],i[5],i[6],i[7]);if(n=a,r=t,(e=i[1])&&Et.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(h(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=a,t._tzm=function(t,e,n){if(t)return he[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),t._d=Ct.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),h(t).rfc2822=!0}else t._isValid=!1}function ge(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],h(t).empty=!0;var e,n,i,a,o,s,l,c,f=""+t._i,d=f.length,p=0;for(i=$(t._f,t._locale).match(U)||[],e=0;e<i.length;e++)a=i[e],(n=(f.match(ut(a,t))||[])[0])&&(0<(o=f.substr(0,f.indexOf(n))).length&&h(t).unusedInput.push(o),f=f.slice(f.indexOf(n)+n.length),p+=n.length),I[a]?(n?h(t).empty=!1:h(t).unusedTokens.push(a),s=a,c=t,null!=(l=n)&&u(dt,s)&&dt[s](l,c._a,c,s)):t._strict&&!n&&h(t).unusedTokens.push(a);h(t).charsLeftOver=d-p,0<f.length&&h(t).unusedInput.push(f),t._a[3]<=12&&!0===h(t).bigHour&&0<t._a[3]&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0)),e)}(t._locale,t._a[3],t._meridiem),ie(t),ne(t)}else pe(t);else fe(t)}function me(t){var e,n,u,d,m=t._i,v=t._f;return t._locale=t._locale||ee(t._l),null===m||void 0===v&&""===m?g({nullInput:!0}):("string"==typeof m&&(t._i=m=t._locale.preparse(m)),b(m)?new x(ne(m)):(l(m)?t._d=m:i(v)?function(t){var e,n,r,i,a;if(0===t._f.length)return h(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)a=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ge(e),p(e)&&(a+=h(e).charsLeftOver,a+=10*h(e).unusedTokens.length,h(e).score=a,(null==r||a<r)&&(r=a,n=e));f(t,n||e)}(t):v?ge(t):o(n=(e=t)._i)?e._d=new Date(r.now()):l(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(u=e,null===(d=ue.exec(u._i))?(fe(u),!1===u._isValid&&(delete u._isValid,pe(u),!1===u._isValid&&(delete u._isValid,r.createFromInputFallback(u)))):u._d=new Date(+d[1])):i(n)?(e._a=c(n.slice(0),(function(t){return parseInt(t,10)})),ie(e)):a(n)?function(t){if(!t._d){var e=j(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ie(t)}}(e):s(n)?e._d=new Date(n):r.createFromInputFallback(e),p(t)||(t._d=null),t))}function ye(t,e,n,r,o){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=t,l._f=e,l._strict=r,(s=new x(ne(me(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function ve(t,e,n,r){return ye(t,e,n,r,!1)}r.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var xe=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),be=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()}));function _e(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ve();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var we=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Me(t){var e=j(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===yt.call(we,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<we.length;++r)if(t[we[r]]){if(n)return!1;parseFloat(t[we[r]])!==w(t[we[r]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ee(),this._bubble()}function ke(t){return t instanceof Me}function Ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Se(t,e){W(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)}))}Se("Z",":"),Se("ZZ",""),ct("Z",ot),ct("ZZ",ot),ht(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Ye(ot,t)}));var Te=/([\+\-]|\d\d)/gi;function Ye(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Te)||["-",0,0],i=60*r[1]+w(r[2]);return 0===i?0:"+"===r[0]?i:-i}function De(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(b(t)||l(t)?t.valueOf():ve(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):ve(t).local()}function Oe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ce(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Pe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function He(t,e){var n,r,i,a=t,o=null;return ke(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(a={},e?a[e]=t:a.milliseconds=t):(o=Ne.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:w(o[2])*n,h:w(o[3])*n,m:w(o[4])*n,s:w(o[5])*n,ms:w(Ae(1e3*o[6]))*n}):(o=Pe.exec(t))?(n="-"===o[1]?-1:(o[1],1),a={y:je(o[2],n),M:je(o[3],n),w:je(o[4],n),d:je(o[5],n),h:je(o[6],n),m:je(o[7],n),s:je(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=function(t,e){var n;return t.isValid()&&e.isValid()?(e=De(e,t),t.isBefore(e)?n=Le(t,e):((n=Le(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(ve(a.from),ve(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new Me(a),ke(t)&&u(t,"_locale")&&(r._locale=t._locale),r}function je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Le(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ee(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(Y(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Fe(this,He(n="string"==typeof n?+n:n,r),t),this}}function Fe(t,e,n,i){var a=e._milliseconds,o=Ae(e._days),s=Ae(e._months);t.isValid()&&(i=null==i||i,s&&St(t,bt(t,"Month")+s*n),o&&_t(t,"Date",bt(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),i&&r.updateOffset(t,o||s))}He.fn=Me.prototype,He.invalid=function(){return He(NaN)};var Ue=Ee(1,"add"),ze=Ee(-1,"subtract");function Re(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ie(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ee(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var We=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Be(){return this._locale}function $e(t,e){W(0,[t,t.length],0,e)}function Ve(t,e,n,r,i){var a;return null==t?Ht(this,r,i).year:((a=jt(t,r,i))<e&&(e=a),function(t,e,n,r,i){var a=Pt(t,e,n,r,i),o=Ct(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,r,i))}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),$e("gggg","weekYear"),$e("ggggg","weekYear"),$e("GGGG","isoWeekYear"),$e("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),E("weekYear",1),E("isoWeekYear",1),ct("G",it),ct("g",it),ct("GG",Q,X),ct("gg",Q,X),ct("GGGG",et,G),ct("gggg",et,G),ct("GGGGG",nt,Z),ct("ggggg",nt,Z),pt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=w(t)})),pt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),P("quarter","Q"),E("quarter",7),ct("Q",V),ht("Q",(function(t,e){e[1]=3*(w(t)-1)})),W("D",["DD",2],"Do","date"),P("date","D"),E("date",9),ct("D",Q),ct("DD",Q,X),ct("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),ht(["D","DD"],2),ht("Do",(function(t,e){e[2]=w(t.match(Q)[0])}));var Xe=xt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),E("dayOfYear",4),ct("DDD",tt),ct("DDDD",q),ht(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=w(t)})),W("m",["mm",2],0,"minute"),P("minute","m"),E("minute",14),ct("m",Q),ct("mm",Q,X),ht(["m","mm"],4);var qe=xt("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),E("second",15),ct("s",Q),ct("ss",Q,X),ht(["s","ss"],5);var Ge,Ze=xt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),E("millisecond",16),ct("S",tt,V),ct("SS",tt,X),ct("SSS",tt,q),Ge="SSSS";Ge.length<=9;Ge+="S")ct(Ge,rt);function Qe(t,e){e[6]=w(1e3*("0."+t))}for(Ge="S";Ge.length<=9;Ge+="S")ht(Ge,Qe);var Je=xt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Ke=x.prototype;function tn(t){return t}Ke.add=Ue,Ke.calendar=function(t,e){var n=t||ve(),i=De(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=e&&(D(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,ve(n)))},Ke.clone=function(){return new x(this)},Ke.diff=function(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=De(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=H(e)){case"year":a=Re(this,r)/12;break;case"month":a=Re(this,r);break;case"quarter":a=Re(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:_(a)},Ke.endOf=function(t){return void 0===(t=H(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Ke.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=B(this,t);return this.localeData().postformat(e)},Ke.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||ve(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ke.fromNow=function(t){return this.from(ve(),t)},Ke.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||ve(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ke.toNow=function(t){return this.to(ve(),t)},Ke.get=function(t){return D(this[t=H(t)])?this[t]():this},Ke.invalidAt=function(){return h(this).overflow},Ke.isAfter=function(t,e){var n=b(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=H(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Ke.isBefore=function(t,e){var n=b(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=H(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Ke.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},Ke.isSame=function(t,e){var n,r=b(t)?t:ve(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=H(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},Ke.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Ke.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Ke.isValid=function(){return p(this)},Ke.lang=We,Ke.locale=Ie,Ke.localeData=Be,Ke.max=be,Ke.min=xe,Ke.parsingFlags=function(){return f({},h(this))},Ke.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=j(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(D(this[t=H(t)]))return this[t](e);return this},Ke.startOf=function(t){switch(t=H(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Ke.subtract=ze,Ke.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Ke.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Ke.toDate=function(){return new Date(this.valueOf())},Ke.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?B(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ke.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},Ke.toJSON=function(){return this.isValid()?this.toISOString():null},Ke.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ke.unix=function(){return Math.floor(this.valueOf()/1e3)},Ke.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ke.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ke.year=vt,Ke.isLeapYear=function(){return mt(this.year())},Ke.weekYear=function(t){return Ve.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ke.isoWeekYear=function(t){return Ve.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Ke.quarter=Ke.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Ke.month=Tt,Ke.daysInMonth=function(){return wt(this.year(),this.month())},Ke.week=Ke.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Ke.isoWeek=Ke.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Ke.weeksInYear=function(){var t=this.localeData()._week;return jt(this.year(),t.dow,t.doy)},Ke.isoWeeksInYear=function(){return jt(this.year(),1,4)},Ke.date=Xe,Ke.day=Ke.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},Ke.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Ke.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,r},Ke.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Ke.hour=Ke.hours=Xt,Ke.minute=Ke.minutes=qe,Ke.second=Ke.seconds=Ze,Ke.millisecond=Ke.milliseconds=Je,Ke.utcOffset=function(t,e,n){var i,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ye(ot,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Oe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!e||this._changeInProgress?Fe(this,He(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Oe(this)},Ke.utc=function(t){return this.utcOffset(0,t)},Ke.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Oe(this),"m")),this},Ke.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ye(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Ke.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Ke.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ke.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ke.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ke.isUtc=Ce,Ke.isUTC=Ce,Ke.zoneAbbr=function(){return this._isUTC?"UTC":""},Ke.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ke.dates=A("dates accessor is deprecated. Use date instead.",Xe),Ke.months=A("months accessor is deprecated. Use month instead",Tt),Ke.years=A("years accessor is deprecated. Use year instead",vt),Ke.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),Ke.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=me(t))._a){var e=t._isUTC?d(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&0<M(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var en=C.prototype;function nn(t,e,n,r){var i=ee(),a=d().set(r,e);return i[n](a,t)}function rn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return nn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=nn(t,r,n,"month");return i}function an(t,e,n,r){"boolean"==typeof t?s(e)&&(n=e,e=void 0):(e=t,t=!1,s(n=e)&&(n=e,e=void 0)),e=e||"";var i,a=ee(),o=t?a._week.dow:0;if(null!=n)return nn(e,(n+o)%7,r,"day");var l=[];for(i=0;i<7;i++)l[i]=nn(e,(i+o)%7,r,"day");return l}en.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return D(r)?r.call(e,n):r},en.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},en.invalidDate=function(){return this._invalidDate},en.ordinal=function(t){return this._ordinal.replace("%d",t)},en.preparse=tn,en.postformat=tn,en.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return D(i)?i(t,e,n,r):i.replace(/%d/i,t)},en.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)},en.set=function(t){var e,n;for(n in t)D(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},en.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Mt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},en.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Mt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},en.monthsParse=function(t,e,n){var r,i,a;if(this._monthsParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=yt.call(this._shortMonthsParse,o))?i:null:-1!==(i=yt.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=yt.call(this._shortMonthsParse,o))?i:-1!==(i=yt.call(this._longMonthsParse,o))?i:null:-1!==(i=yt.call(this._longMonthsParse,o))?i:-1!==(i=yt.call(this._shortMonthsParse,o))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},en.monthsRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Ot.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Dt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},en.monthsShortRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Ot.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Yt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},en.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},en.firstDayOfYear=function(){return this._week.doy},en.firstDayOfWeek=function(){return this._week.dow},en.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},en.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},en.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},en.weekdaysParse=function(t,e,n){var r,i,a;if(this._weekdaysParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=yt.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=yt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=yt.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=yt.call(this._weekdaysParse,o))?i:-1!==(i=yt.call(this._shortWeekdaysParse,o))?i:-1!==(i=yt.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=yt.call(this._shortWeekdaysParse,o))?i:-1!==(i=yt.call(this._weekdaysParse,o))?i:-1!==(i=yt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=yt.call(this._minWeekdaysParse,o))?i:-1!==(i=yt.call(this._weekdaysParse,o))?i:-1!==(i=yt.call(this._shortWeekdaysParse,o))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},en.weekdaysRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||It.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},en.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||It.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},en.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||It.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},en.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},en.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},Kt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=A("moment.lang is deprecated. Use moment.locale instead.",Kt),r.langData=A("moment.langData is deprecated. Use moment.localeData instead.",ee);var on=Math.abs;function sn(t,e,n,r){var i=He(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function ln(t){return t<0?Math.floor(t):Math.ceil(t)}function cn(t){return 4800*t/146097}function un(t){return 146097*t/4800}function fn(t){return function(){return this.as(t)}}var dn=fn("ms"),hn=fn("s"),pn=fn("m"),gn=fn("h"),mn=fn("d"),yn=fn("w"),vn=fn("M"),xn=fn("y");function bn(t){return function(){return this.isValid()?this._data[t]:NaN}}var _n=bn("milliseconds"),wn=bn("seconds"),Mn=bn("minutes"),kn=bn("hours"),An=bn("days"),Sn=bn("months"),Tn=bn("years"),Yn=Math.round,Dn={ss:44,s:45,m:45,h:22,d:26,M:11},On=Math.abs;function Cn(t){return(0<t)-(t<0)||+t}function Nn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=On(this._milliseconds)/1e3,r=On(this._days),i=On(this._months);e=_((t=_(n/60))/60),n%=60,t%=60;var a=_(i/12),o=i%=12,s=r,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",h=Cn(this._months)!==Cn(f)?"-":"",p=Cn(this._days)!==Cn(f)?"-":"",g=Cn(this._milliseconds)!==Cn(f)?"-":"";return d+"P"+(a?h+a+"Y":"")+(o?h+o+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var Pn=Me.prototype;return Pn.isValid=function(){return this._isValid},Pn.abs=function(){var t=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),t.milliseconds=on(t.milliseconds),t.seconds=on(t.seconds),t.minutes=on(t.minutes),t.hours=on(t.hours),t.months=on(t.months),t.years=on(t.years),this},Pn.add=function(t,e){return sn(this,t,e,1)},Pn.subtract=function(t,e){return sn(this,t,e,-1)},Pn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=H(t))||"year"===t)return e=this._days+r/864e5,n=this._months+cn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(un(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Pn.asMilliseconds=dn,Pn.asSeconds=hn,Pn.asMinutes=pn,Pn.asHours=gn,Pn.asDays=mn,Pn.asWeeks=yn,Pn.asMonths=vn,Pn.asYears=xn,Pn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Pn._bubble=function(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*ln(un(s)+o),s=o=0),l.milliseconds=a%1e3,t=_(a/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,n=_(e/60),l.hours=n%24,s+=i=_(cn(o+=_(n/24))),o-=ln(un(i)),r=_(s/12),s%=12,l.days=o,l.months=s,l.years=r,this},Pn.clone=function(){return He(this)},Pn.get=function(t){return t=H(t),this.isValid()?this[t+"s"]():NaN},Pn.milliseconds=_n,Pn.seconds=wn,Pn.minutes=Mn,Pn.hours=kn,Pn.days=An,Pn.weeks=function(){return _(this.days()/7)},Pn.months=Sn,Pn.years=Tn,Pn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,a,o,s,l,c,u,f=this.localeData(),d=(e=!t,n=f,r=He(this).abs(),i=Yn(r.as("s")),a=Yn(r.as("m")),o=Yn(r.as("h")),s=Yn(r.as("d")),l=Yn(r.as("M")),c=Yn(r.as("y")),(u=i<=Dn.ss&&["s",i]||i<Dn.s&&["ss",i]||a<=1&&["m"]||a<Dn.m&&["mm",a]||o<=1&&["h"]||o<Dn.h&&["hh",o]||s<=1&&["d"]||s<Dn.d&&["dd",s]||l<=1&&["M"]||l<Dn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=e,u[3]=0<+this,u[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,u));return t&&(d=f.pastFuture(+this,d)),f.postformat(d)},Pn.toISOString=Nn,Pn.toString=Nn,Pn.toJSON=Nn,Pn.locale=Ie,Pn.localeData=Be,Pn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),Pn.lang=We,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ct("x",it),ct("X",/[+-]?\d+(\.\d{1,3})?/),ht("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),ht("x",(function(t,e,n){n._d=new Date(w(t))})),r.version="2.22.1",e=ve,r.fn=Ke,r.min=function(){return _e("isBefore",[].slice.call(arguments,0))},r.max=function(){return _e("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=d,r.unix=function(t){return ve(1e3*t)},r.months=function(t,e){return rn(t,e,"months")},r.isDate=l,r.locale=Kt,r.invalid=g,r.duration=He,r.isMoment=b,r.weekdays=function(t,e,n){return an(t,e,n,"weekdays")},r.parseZone=function(){return ve.apply(null,arguments).parseZone()},r.localeData=ee,r.isDuration=ke,r.monthsShort=function(t,e){return rn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return an(t,e,n,"weekdaysMin")},r.defineLocale=te,r.updateLocale=function(t,e){if(null!=e){var n,r,i=qt;null!=(r=Jt(t))&&(i=r._config),(n=new C(e=O(i,e))).parentLocale=Gt[t],Gt[t]=n,Kt(t)}else null!=Gt[t]&&(null!=Gt[t].parentLocale?Gt[t]=Gt[t].parentLocale:null!=Gt[t]&&delete Gt[t]);return Gt[t]},r.locales=function(){return S(Gt)},r.weekdaysShort=function(t,e,n){return an(t,e,n,"weekdaysShort")},r.normalizeUnits=H,r.relativeTimeRounding=function(t){return void 0===t?Yn:"function"==typeof t&&(Yn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Dn[t]&&(void 0===e?Dn[t]:(Dn[t]=e,"s"===t&&(Dn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Ke,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}));const vd={quarter_year:/Q[1234]\s\d/,quarter_year_alt:/[1234]Q\s\d/,year_quarter:/\d\sQ[1234]/,year_quarter_nospace:/\dQ[1234]/,quarter_year_nospace:/Q[1234]\d/,quarter_year_nospace2:/[1234]Q\d/,quarter_dash_year:/Q[1234]-\d/,year_dash_nospace:/\dQ[1234]/},xd={fy_year:/FY\s\d/};function bd(t){var e=null;return Object.keys(vd).forEach((function(n){e||vd[n].test(t)&&(e=vd[n])})),e}function _d(t){var e=bd(t);return function(t){return null===t?t:t.split?(e===vd.quarter_year||e===vd.quarter_year_alt?[r,n]=t.split(" "):e===vd.quarter_dash_year?[r,n]=t.split("-"):e===vd.quarter_year_nospace?(r=t.slice(1,2),n=t.slice(2)):e===vd.quarter_year_nospace2?[r,n]=t.replace(/\s|-|'/g,"").split("Q"):e!==vd.year_quarter&&e!==vd.year_quarter_nospace&&e!==vd.year_dash_quarter||([n,r]=t.replace(/\s|-|'/g,"").split("Q")),r=r||"",n=(n=n||"").replace("'",""),r=r.replace("Q",""),2===n.length&&(n=Number(n)<50?"20"+n:"19"+n),[Number(n),Number(r)]):t;var n,r}}function wd(t,e=!0,n=!1){const r=e?t.fields[0]:t.fields[1],i=Md(r,n);return t=>i(r.data[t])}function Md(t,e){return t&&t.taxonomy&&t.taxonomy.isContinuous&&t.taxonomy.isDate&&!e?kd(t):t=>t}function kd(t){return t&&t.taxonomy&&t.taxonomy.dateParser?t.taxonomy.dateParser:e=>Ad(e,t)}function Ad(t,e,n){let r=0;if(e&&e.taxonomy&&(r=e.taxonomy.timeZoneOffset||0),e&&e.taxonomy&&e.taxonomy.customFormatter){const n=yd.utc(t,e.taxonomy.customFormatter).utcOffset(r);if(n.isValid())return n}let i=yd.utc(t).utcOffset(r);if(i.isValid())return i;if(t&&t.length&&4===t.length&&(i=yd.utc("1/2/"+t).utcOffset(r),i.isValid()))return i;let a=new Date(t);return a.getTimezoneOffset()>0&&(a=new Date(a.getTime()+6e4*a.getTimezoneOffset())),isNaN(a.valueOf())?n?null:yd.utc(new Date("1/1/1900")):yd.utc(a).utcOffset(r)}function Sd(t){return e=>{var[n,r]=t(e);return Ad(Date.UTC(n,1+3*(r-1),1))}}function Td(t,e){const n=kd(e)(t);return n.isValid()?n.format():""}function Yd(t){if(null===t)return null;let e=Number(t);return isNaN(e)?null:e}function Dd(t){return null==t?null:"null"===t||"na"===t||"n/a"===t||""===t?null:t}function Od(t,e,n){let r,i;for(var a=e||0;a<t.length;a++)if(null!=Dd(t[a])){r=t[a],i=a;break}return n?[i,r]:r}function Cd(t,e,n){let r,i;for(var a=e||t.length-1;a>=0;a--)if(null!=Dd(t[a])){r=t[a],i=a;break}return n?[i,r]:r}function Nd(t){return!isNaN(t)&&null!=t}function Pd(t){let e=t.reduce((t,e)=>null==e?t:e>0?t+e:t,0);return 0===e&&(e=t.reduce((t,e)=>null==e?t:e>0?t:t+e,0)),e}function Hd(t){for(var e=Object.create(null),n=0;n<t.length;++n){var r=t[n];if(r in e)return!0;e[r]=!0}return!1}function jd(t,e){return e=Object.assign({lineHeight:16,margin:10},e),function(n){const r=pt(this),i=r.text().replace(/\n|<br>/g," <N> ").split(/\s+/).reverse(),a=e.lineHeight,o=r.attr("y"),s=r.attr("x"),l=e.margin;let c,u=0,f=r.text(null).append("tspan").attr("x",s).attr("y",o).attr("dy",l+"px"),d=[];for(var h=0;c=i.pop();)d.push(c),h++,f.text(d.join(" ").trim()),h>1&&(f.node().getComputedTextLength()>t||"<N>"===c)&&("<N>"===c&&(c=""),d.pop(),f.text(d.join(" ").trim()),d=[c],f=r.append("tspan").attr("x",s).attr("y",o).attr("dy",++u*a+l+"px").text(c))}}function Ld(t){return t=Object.assign({margin:16,lineHeight:18,isHorizontalText:!1},t),function(e){const n=pt(this),r=n.text().split("///"),i=n.attr("y");let a=t.margin;t.isHorizontalText?n.text(r.join(" ")):(n.text(null),r.forEach((e,r)=>{n.append("tspan").attr("x",0).attr("y",i).attr("dy",a+"px").classed("line"+(r+1),!0).text(e),a+=t.lineHeight}))}}function Ed(t,e){return Fd(t,"\\")}function Fd(t,e){return e=e||"",t.split("").map((function(t,e,n){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length>2?"\\u"+r:r})).join(e)}const Ud={minutes:"H:mm:ss",hours:"M/D H:mm",days:"M/D",weeks:"YYYY/M/D",months:"YYYY/M/D",years:"YYYY/M/D",decade:"YYYY/M/D",multidecade:"YYYY/M/D",century:"YYYY/M/D"},zd=["weeks","months","years","decade","multidecade","century"],Rd={"%":100,K:1e3,M:1e6,B:1e9,T:1e12},Id={100:"Hundreds",1e3:"Thousands",1e6:"Millions",1e9:"Billions",1e12:"Trillions"};function Wd(t){return null==t&&(t=2),e=>Number(Yd(e)).toFixed(t)}function Bd(t,e){return null==t&&(t=0),function(n){if(n=Number(function(t){return null===t?null:t.toString().replace(/\s/g,"").replace(/,/g,"")}(n)),isNaN(n))return"";if(0===n)return 0;let r=t;if(e.displayAsMultiplier&&Math.abs(n)>100&&Math.abs(n)<e.displayAsMultiplier&&(r=Math.max(0,t-1)),e.forceCommaDisplay)return As(",."+r+"f")(n);if(Math.abs(n)<10)return As("."+r+"f")(n);n=e.forceUnitDisplay?function(t,e,n){return"Thousands"===n.forceUnitDisplay?(t/=1e3,As("."+e+"f")(t)+"K"):"Millions"===n.forceUnitDisplay?(t/=1e6,As("."+e+"f")(t)+"M"):"Billions"===n.forceUnitDisplay?(t/=1e9,As("."+e+"f")(t)+"B"):"Trillions"===n.forceUnitDisplay?(t/=1e12,As("."+e+"f")(t)+"T"):void 0}(n,r,e):As("s")(n).replace("G","B");const i=(n=e.lowerCaseUnits?n.toLowerCase():n.toUpperCase()).replace(/[^\d.-]/g,""),a=As("."+r+"f")(Number(i));return n.replace(i,a)}}function $d(t,e){return e=e||Ad,n=>e(n).format(t)}function Vd(t){return t.display_as&&Rd[t.display_as]?Rd[t.display_as]:1}function Xd(t){const e=Ad(t);return e.valueOf()?"Q"+(Math.floor((e.format("M")-1)/3)+1):""}function qd(t){const e=t.label||t.caption||"",n=t.unit_before||t["label-left"]||"",r=t.unit_after||t["label-right"]||"";return e.length+n.length+r.length<=3}function Gd(t,e,n){n=n||{};const r=t.field(),i=kd(r),a=r.taxonomy,o=t=>t;let s,l=null,c=o,u=r.unit_before||r["label-left"]||"",f=r.unit_after||r["label-right"]||"",d=u.length+f.length;if(n.hasOwnProperty("defaultDecimals")&&(l=n.defaultDecimals),n.hasOwnProperty("forceCommaDisplay")||(e&&e.data&&e.data.config&&(n.forceCommaDisplay=e.data.config.force_comma_display),e&&e.options&&e.options.forceCommaDisplay&&(n.forceCommaDisplay=e.options.forceCommaDisplay)),!n.voidDecimals&&r.hasOwnProperty("defaultDecimals")&&r.defaultDecimals>=l&&(l=r.defaultDecimals),e.data.chartOptions&&null!=e.data.chartOptions.decimalPlaces&&(l=e.data.chartOptions.decimalPlaces),n.isTooltip&&e.data.chartOptions&&null!=e.data.chartOptions.tooltipDecimals)l=e.data.chartOptions.tooltipDecimals;else if(n.isTooltip){const e=t.scale.domain();Math.abs(e[1]-e[0])<.05?l=3:Math.abs(e[1]-e[0])<.1&&(l=2)}if(n.isTooltip&&(f.length>4&&(f=""),u.length>4&&(u="")),n.isTooltip&&null!=n.customTooltipFormatter&&(s=n.customTooltipFormatter),null==n.lowerCaseUnits&&(n.lowerCaseUnits=e.data.config.lower_case_units),a&&a.isContinuous)if(a.isDate){if(a.duration&&Ud[a.duration]){let t=Ud[a.duration];e.data.config&&e.data.config.hide_year_display&&-1!==zd.indexOf(a.duration)&&(t="M/D"),c=$d(t,i),u="",f="",d=0,a.isYears&&(c=$d("YYYY",i))}"year"===r.type&&(c=o)}else ih(r,t)<1?r.display_as?(null==l&&(l=1),c=Bd(l,n)):c=Wd(l):ih(r,t)<10?n.forAxis||r.display_as?(null==l&&(l=0),c=Bd(l,n)):c=Wd(l):(ih(r,t)<1e3&&!n.preventCommaDisplay&&(n.forceCommaDisplay=!0),c=Bd(l,n));return c=s||c||o,"%"===r.display_as?c=function(t){return e=>t(100*e)}(c):r.display_as&&(f.toUpperCase()===r.display_as&&(f=""),n.ignoreDisplayAsMultiplier||(n.displayAsMultiplier=Vd(r),c=function(t,e){return n=>t(n*e)}(c,n.displayAsMultiplier))),function(t){const e=c(t);return n.bareValueSingleChar&&1===d?u+e+f:n.bareValue||""===e?e:u+e+f}}function Zd(t,e,n,r){(e=e||{defaultDecimals:1}).forAxis=!0;const i=Jd(t=t.filter(t=>0!==t));if(i){const n=t.map(t=>t/i.divisor);(1e3===i.divisor||n.filter(t=>Math.abs(t)>=1e3).length)&&(1e3===i.divisor&&Math.abs(n[1])<1?e.forceCommaDisplay=!0:e.preventCommaDisplay=!0);let r=1;n.filter(t=>Math.abs(t)>=1e3).length?r=1e3:n.filter(t=>Math.abs(t)>=100).length?r=100:n.filter(t=>Math.abs(t)>=10).length&&(r=10),e.forceUnitDisplay=Id[i.divisor*r]}else{const t=n.scale.domain();Math.abs(t[1]-t[0])<.05?e.defaultDecimals=3:Math.abs(t[1]-t[0])<.1&&(e.defaultDecimals=2)}let a=!1,o=0;for(e.ignoreDisplayAsMultiplier=!0;!a&&o<3;){const i=Gd(n,r,e);Hd(t.map(t=>i(t)))?(e.defaultDecimals=e.defaultDecimals||0,e.defaultDecimals+=1):a=!0,o+=1}return e.ignoreDisplayAsMultiplier=!1,e}function Qd(t,e){let n=!1;return r=>n?e(r):((r=t(r))&&(n=!0),r)}function Jd(t){return(t=t.filter((function(t){return 0!==t}))).filter((function(t){return t%1e12==0})).length===t.length?{divisor:1e12,short:"T",long:"Trillions"}:t.filter((function(t){return t%1e9==0})).length===t.length?{divisor:1e9,short:"B",long:"Billions"}:t.filter((function(t){return t%1e6==0})).length===t.length?{divisor:1e6,short:"M",long:"Millions"}:t.filter((function(t){return t%1e3==0})).length===t.length?{divisor:1e3,short:"k",long:"Thousands"}:t.filter((function(t){return t%100==0})).length===t.length?{divisor:1e3,short:"k",long:"Thousands"}:null}function Kd(t){return t.fields.length>1?t.fields.slice(1):t.fields}function th(t,e=!0){return e?t.fields[0]:t.fields[1]}function eh(t){return!(!t.taxonomy||!t.taxonomy.forceCategorical)}function nh(t,e){return!(!e.chartOptions||"Categorical"!==e.chartOptions.dateOutputFormat&&!e.chartOptions.isCategorical)}function rh(t,e){let n=[t.min,t.max];return e&&e.scale&&(n=e.scale.domain()),n.map(e=>e*Vd(t))}function ih(t,e){const n=rh(t,e);return Math.abs(n[1]-n[0])}function ah(t,e){const n=yh((r=t.map((function(t){if(void 0!==t.min&&void 0!==t.max)return[t.min,t.max];var e=yh(t.data);return t.min=e[0],t.max=e[1],e})),Array.from(function*(t){for(const e of t)yield*e}(r))));var r;return e&&(n[0]=Math.min(0,n[0]),n[1]=Math.max(0,n[1])),n[0]=Number(n[0]),n[1]=Number(n[1]),n}function oh(t){const e=[0,0];return t.data.forEach((t,n)=>{const r=t.slice(1).map(t=>Number(t)),i=r.filter(t=>t>=0).reduce((t,e)=>t+e,0),a=r.filter(t=>t<0).reduce((t,e)=>t+e,0);e[0]=Math.min(a,e[0]),e[1]=Math.max(i,e[1])}),e}function sh(t,e){let n=(t,e)=>e[1]-t[1];if("ascending"===(e=Object.assign({direction:"descending",sortPrimaryAxisTime:!1,stacked:!1},e)).direction&&(n=(t,e)=>t[1]-e[1]),e.stacked){const t=(t,e)=>Math.abs(t)+Math.abs(e);n=(e,n)=>n.slice(1).reduce(t,0)-e.slice(1).reduce(t,0),"ascending"===e.direction&&(n=(e,n)=>e.slice(1).reduce(t,0)-n.slice(1).reduce(t,0))}if(e.sortPrimaryAxisTime)if(e.reverse)t.data.reverse(),n=null;else{var r=kd(t.fields[0]);n=(t,e)=>r(t[0]).toDate().getTime()-r(e[1]).toDate().getTime()}e.customSort&&(n=e.customSort),n&&t.data.sort(n),t.fields.forEach((function(e,n){e.data=t.data.map((function(t){return t[n]}))}))}function lh(t){return ch(t,t=>!1===t.is_valid)}function ch(t,e){const n=Kd(t);let r=[];return n.forEach((function(t,n){const i=t.data.length;let a=[],o=[],s=!0,l=0;for(;l<i;){var c=null!=t.data[l];c&&s?o.push({value:t.data[l],index:l}):!c&&s?o.length>0&&(a.push({data:o,is_valid:s}),o=[o[o.length-1]],s=!1):c&&!s&&(o.push({value:t.data[l],index:l}),a.push({data:o,is_valid:s}),o=[{value:t.data[l],index:l}],s=!0),l++}o.length>=1&&s&&a.push({data:o,is_valid:s}),e&&(a=a.filter(e)),r.push(a)})),0===r.reduce((t,e)=>t+e.length,0)&&(r=null),r}function uh(t,e,n){const r=Kd(t.data);if(r[n]&&r[n].data){const t=r[n].data,[i,a]=Od(t,e,!0),[o,s]=Cd(t,e,!0);return null==Dd(a)?null:null==Dd(s)?null:s+(a-s)*((e-o)/(i-o))}return null}function fh(t,e){const n=kd(t),r=Od(t.data),i=typeof r;let a=-1;if(a="string"===i?t.data.indexOf(String(e)):"number"===i?t.data.indexOf(Number(e)):"object"===i&&r.getDate?t.data.indexOf(n(e)):t.data.indexOf(e),-1===a)if(t.taxonomy.isDate){const r=n(e);t.data.forEach((t,e)=>{0===n(t).diff(r)&&(a=e)})}else{const n=e.replace(/\s|âµ|\n/g,"");t.data.forEach((t,e)=>{String(t).replace(/\s|âµ|\n/g,"")===n&&(a=e)})}return a}function dh(t,e){e=e||{};let n=[];return t.config&&t.config.highlight_values&&(n=String(t.config.highlight_values).split(",").map(t=>Number(t)-1)),!n.length&&e.zeroHighlight&&(n=[0]),(t,e)=>-1!==n.indexOf(e)}function hh(t){return t.config&&t.config.highlight_values}function ph(t){return!(!t.chartOptions||null==t.chartOptions.scaleStart&&null==t.chartOptions.scaleEnd&&null==t.chartOptions.scaleStep)}function gh(t){return!(!t.chartOptions||null==t.chartOptions.scaleStep)}function mh(t){return t[0]<=t[1]?t:[t[1],t[0]]}function yh(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}const vh=["year","date","change","numeric","percent"],xh={"%":"percent",Y:"string",M:"string",D:"string",K:"numeric",ML:"numeric",B:"numeric",T:"numeric"},bh=["YYYY-MM-DD","MM-DD-YYYY","YYYY/MM/DD","MM/DD/YYYY","M/D/YYYY","MM/DD/YY","M/D/YY","MMM 'YY","MMM-YY","MMMM 'YY","MMM âYY","MMMM âYY","MMM D, 'YY","MMM DD, 'YY","MMM D, YYYY","MMM DD, YYYY","MMMM D, 'YY","MMMM DD, 'YY","MMMM D, YYYY","MMMM DD, YYYY","MMM D","MMM. D","MMM-DD","MMMM D","MMM YYYY","MMM. YYYY","MMMM YYYY","YYYY MMM","YYYY MMM.","YYYY MMMM"],_h=["MMM.","MMM","MMMM"];function wh(t){return null!==bd(t)}function Mh(t){return!eh(t)&&!Ch(t)&&!Nh(t)&&Gh(Od(t.data))&&Gh(Cd(t.data))}function kh(t,e){if(t.taxonomy&&!e)return;t.config=t.config||{},t.chartOptions=t.chartOptions||{};const n=60*(t.config.time_zone||0);const r=t.fields.map(t=>t.id);if(t.primaryAxis&&t.fields[0]&&Object.assign(t.fields[0],t.primaryAxis),t.secondaryAxis&&t.fields[1]&&Object.assign(t.fields[1],t.secondaryAxis),t.fields.forEach((t,e)=>{t.id=r[e]}),t.fields.forEach((function(e,r){var i={isContinuous:!0};e.taxonomy=e.taxonomy||i,0===r&&"numeric"===e.type&&Oh(e)&&(e.type="string",i.isYears=!0,Ph(e,t)),0===r&&"string"===e.type&&(t.chartOptions.dateInputFormat&&(e.taxonomy.customFormatter=t.chartOptions.dateInputFormat),i.forceCategorical=nh(0,t),Mh(e)?(i.isDate=!0,i.customFormatter=Zh(Od(e.data)),i.isContinuous=!0,i.duration=Vh(e),i.timeZoneOffset=n):!function(t){return!eh(t)&&wh(Od(t.data))&&wh(Cd(t.data))}(e)?(i.isContinuous=!1,Ch(e)?(i.isDate=i.isYears=!0,i.customFormatter="YYYY",i.duration=Vh(e),i.timeZoneOffset=n):Nh(e)&&(i.isContinuous=!0,i.isDate=i.isMonths=!0,i.noYears=!0,i.customFormatter=Zh(Od(e.data),_h),i.duration=Vh(e),i.timeZoneOffset=n)):(i.valueParser=_d(Od(e.data)),i.dateParser=Sd(i.valueParser),i.isQuarters=!0,i.isDate=!0,i.isContinuous=!1,i.duration=Xh(e,i.valueParser),i.timeZoneOffset=n)),"numeric"===e.type&&(e.defaultDecimals=Hh(e)),"jumble"===e.type&&(i.isContinuous=!1)})),!t.config.disable_date_sorting&&t.fields[0]&&t.fields[0].taxonomy&&t.fields[0].taxonomy.dateStart&&t.fields[0].taxonomy.dateEnd&&t.fields[0].taxonomy.dateEnd<t.fields[0].taxonomy.dateStart){sh(t,{sortPrimaryAxisTime:!0,reverse:!0});var i=t.fields[0].taxonomy.dateEnd;t.fields[0].taxonomy.dateEnd=t.fields[0].taxonomy.dateStart,t.fields[0].taxonomy.dateStart=i}t.taxonomy={version:"0.1"}}const Ah=/^\s*\+\d*\.?\d+\s*$/,Sh=/^\s*[+-]?\d*\.?\d+\s*$/;function Th(t){return null!=t&&"na"!==t&&""!==t}function Yh(t){if(t.type&&vh.indexOf(t.type)>=0)return t;if(t.displayFormat&&xh.hasOwnProperty(t.displayFormat))return t.type=xh[t.displayFormat],t;var e={};if(t.data.filter(Th).forEach((function(t){e[function(t){return Ah.exec(t)?"change":Sh.exec(t)?"numeric":"string"}(t)]=null})),2===(e=Object.keys(e).sort()).length&&-1!==e.indexOf("numeric")){if(-1!==e.indexOf("year"))return t.type="numeric",t;if(-1!==e.indexOf("change"))return t.type="numeric",t.displayChange=!0,t}return t.type=e.length>1?"jumble":e[0],t}function Dh(t){if(t._makeDataExecuted)return!0;if(!t.data||!t.data.length)return!1;if(!t.fields||!t.fields.length)return!1;if(t.fields.length<t.data[0].length)for(var e=0;e<=t.data[0].length-t.fields.length;e++)t.fields.push({name:""});var n,r,i;for(n=0;n<t.fields.length;++n){var a=Object.keys(t.fields[n]);for(r=0;r<a.length;++r){var o=a[r];o.indexOf("_")>=0&&(t.fields[n][(i=o,i.replace(/_([a-z])/g,(function(t){return t[1].toUpperCase()})))]=t.fields[n][o])}}return t.fields.forEach((function(e,n){if(e.data=t.data.map((function(t){return t[n]})),Yh(e),"string"!==e.type){var r=e.data.filter(t=>!isNaN(Number(t))&&null!==t);e.min=Math.min.apply(null,r),e.max=Math.max.apply(null,r)}})),t._makeDataExecuted=!0,!0}function Oh(t){return t.min>1800&&t.max<2200}function Ch(t){const e=t=>4===t.length&&!isNaN(Number(t))&&Number(t)>1800&&Number(t)<2200;return e(Od(t.data))&&e(Cd(t.data))}function Nh(t){const e=t=>null!==Zh(t,_h);return e(Od(t.data))&&e(Cd(t.data))}function Ph(t,e){t.data=t.data.map(t=>null==t?null:String(t)),e.data.forEach((e,n)=>{e[0]=t.data[n]})}function Hh(t){const e=t.data;let n=null;for(var r,i=0;i<e.length;i++)if(null!==e[i]){var a=Math.min(((r=e[i])&&r.split||(r=String(r)),(r.split(".")[1]||[]).length),3);null===n?n=a:n!==a&&a<n&&0!==a&&(n=a)}return ih(t)>5&&(n=Math.min(n,2)),ih(t)>10&&(n=Math.min(n,1)),n}function jh(t){return t.data.length>1}function Lh(t){return 2===t.fields.length}function Eh(t){return 3===t.fields.length}function Fh(t){return t.fields.length<=5}function Uh(t){return t.fields.length>2}function zh(t){return t.fields[0]&&t.fields[0].taxonomy&&t.fields[0].taxonomy.isDate}function Rh(t){return t.fields[0]&&t.fields[0].taxonomy&&t.fields[0].taxonomy.isContinuous&&t.fields[0].taxonomy.isDate}function Ih(t){var e=ah(Kd(t));return e[0]>=0&&e[1]>=0}function Wh(t){var e=ah(Kd(t));return e[0]<0&&e[1]<0}function Bh(t){return!Ih(t)&&!Wh(t)}function $h(t){if(2===t.fields.length)return!0;let e=!0;for(let n=0;n<t.data.length&&e;n++){const r=t.data[n];let i=0,a=0;for(let t=1;t<r.length;t++)r[t]&&(i+=r[t],a=r[t]);i!==a&&(e=!1)}return e}function Vh(t,e){var n=kd(t),r=n(String(Od(t.data))).toDate(),i=n(String(Cd(t.data))).toDate(),a=Math.abs(i-r)/864e5;return t.taxonomy.dateStart=r,t.taxonomy.dateEnd=i,a<2?"hours":a>=2&&a<16?"days":a>=14&&a<120?"weeks":a>=120&&a<730?"months":a>=730&&a<1825?"years":a>=1825&&a<5475?"decade":a>=5475&&a<36500?"multidecade":"century"}function Xh(t,e){var n=e(String(Od(t.data))),r=e(String(Cd(t.data)));return Math.abs(r-n)/864e5>=1825?"decade":"quarters"}function qh(t,e){return t.min&&t.max?Math.abs(t.max-t.min):Math.abs(e[1].getUTCFullYear()-e[0].getUTCFullYear())}function Gh(t){return(Ad(t,null,!0)||null!==Zh(t))&&!function(t){var e=!1;return Object.keys(xd).forEach((function(n){e||(e=xd[n].test(t))})),e}(t)}function Zh(t,e){let n=null;return(e=e||bh).forEach(e=>{const r=yd.utc(t,e);r.isValid()&&t.toUpperCase()===r.format(e).toUpperCase()&&(n=e)}),n}function Qh(t,e,n,r){if(t.validateData){const n=t.validateData(e);return n()||r(n.messages()),n()}return!0}function Jh(t,e,n,r){const i={};Object.keys(t).forEach((function(n){const r=t[n];if(r.validateData){const t=r.validateData(e);i[n]={valid:t(),messages:t.messages()}}else i[n]="no validation method provided"})),r(i)}function Kh(t){const e={valid:!0,messages:[]},n=function(n,r){if(!n||!r)return e.valid;r(t)||(e.valid=!1,e.messages.push(n))};return n.messages=function(){return e.messages},n}var tp=Object.freeze({getSeries:Kd,getField:th,isForceCategorical:eh,applyCategoricalAxis:nh,appliedDomain:rh,appliedDomainRange:ih,seriesDomain:ah,stackedDomain:oh,sortAllFields:sh,highlightSupported:hh,getInvalidSegments:lh,getValidSegments:function(t){return ch(t,t=>!0===t.is_valid)},getSegments:ch,interpolateBetweenValues:uh,fieldIndexOf:fh,valueHighlighter:dh,hasCustomDomain:ph,hasCustomDomainStep:gh,sortedDomain:mh,multilineDateFormatter:function(t,e){return e=e||Ad,n=>t.map(t=>t(e(n))).join("///")},dateFormatter:$d,displayAsMultiplier:Vd,formatDateAsQuarter:Xd,formatDateAsQuarterYear:function(t){const e=Ad(t);if(e.valueOf()){const t=Math.floor((e.format("M")-1)/3)+1;return 1===t?"Q"+t+" "+e.format("YYYY"):"Q"+t}return""},isSingleCharLabel:qd,valueFormatter:Gd,prepareFormatterOptions:Zd,singleUseFormatter:Qd,reduceNumericValues:Jd,getQuarterRegex:bd,buildValueParser:_d,getFieldValueParser:function(t,e=!0,n=!1){return Md(e?t.fields[0]:t.fields[1],n)},getFieldIndexValueParser:wd,fieldValueParser:Md,fieldDateParser:kd,parseDate:Ad,quarterlyDateParser:Sd,convertDisplayToValue:function(t){return"string"==typeof t?(t=t.toUpperCase().replace("T","x"+1e12).replace("B","x"+1e9).replace("M","x"+1e6).replace("K","x1000")).split("x").reduce((t,e)=>t*e):t},dateToUTCString:Td,testDate:Mh,buildTaxonomy:kh,makeData:Dh,isFieldNumericYear:Oh,isFieldStringYear:Ch,isFieldStringMonth:Nh,castNumericToString:Ph,readDecimalsFromData:Hh,isMultipleValues:jh,isSingleSeries:Lh,isDoubleSeries:Eh,isQuadSeries:Fh,isManySeries:Uh,isTimeSeries:zh,isContinuousTimeSeries:Rh,isPositiveDomain:Ih,isNegativeDomain:Wh,isMixedDomain:Bh,isSingleSeriesStackedDomain:$h,dateRange:Vh,quarterDateRange:Xh,getDurationYears:qh,isDate:Gh,getCustomDateFormat:Zh,determineType:function(t,e,n){let r=null;return Object.keys(t).forEach((function(i){var a=t[i];r||Qh(a,e,n,()=>null)&&(r=a)})),r},typeCheck:Qh,typeReport:Jh,validator:Kh});function ep(t,e,n){const r=np(t,e,n),i=zh(e),a=function(t){if(zh(t)){const e=t.fields[0];if("quarters"===e.taxonomy.duration)return!0;if(e.taxonomy.isYears)return!0;if("YYYY"===e.dateFormat||"YYYY"===e.customFormatter||"year"===e.type)return!0;if(t.chartOptions){if("Yearly"===t.chartOptions.dateOutputFormat)return!0;if("Quarterly"===t.chartOptions.dateOutputFormat)return!0;if("Monthly"===t.chartOptions.dateOutputFormat)return!0}return!1}return!0}(e);return!(e.chartOptions&&e.chartOptions.dateOutputFormat&&r>40)&&(!eh(e.fields[0])&&(!!i&&(!a&&!(r>50))))}function np(t,e,n){const r=n.stackedBand;let i=e.data.length*(e.fields.length-1);return r&&(i=e.data.length),t.node().offsetWidth/i}function rp(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ip(t,e,n){if(null==n)return t.classList.contains(e);n?t.classList.add(e):t.classList.remove(e)}function ap(t,e,n){const r=`${e}.${n}`;let i=t.querySelector(r);return i||(i=document.createElement(e),t.appendChild(i),i.classList.add(n)),i}function op(t,e){return t===e||t!=t&&e!=e}function sp(t,e){for(var n=t.length;n--;)if(op(t[n][0],e))return n;return-1}var lp=Array.prototype.splice;function cp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cp.prototype.clear=function(){this.__data__=[],this.size=0},cp.prototype.delete=function(t){var e=this.__data__,n=sp(e,t);return!(n<0)&&(n==e.length-1?e.pop():lp.call(e,n,1),--this.size,!0)},cp.prototype.get=function(t){var e=this.__data__,n=sp(e,t);return n<0?void 0:e[n][1]},cp.prototype.has=function(t){return sp(this.__data__,t)>-1},cp.prototype.set=function(t,e){var n=this.__data__,r=sp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var up="object"==typeof global&&global&&global.Object===Object&&global,fp="object"==typeof self&&self&&self.Object===Object&&self,dp=up||fp||Function("return this")(),hp=dp.Symbol,pp=Object.prototype,gp=pp.hasOwnProperty,mp=pp.toString,yp=hp?hp.toStringTag:void 0;var vp=Object.prototype.toString;var xp=hp?hp.toStringTag:void 0;function bp(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":xp&&xp in Object(t)?function(t){var e=gp.call(t,yp),n=t[yp];try{t[yp]=void 0;var r=!0}catch(t){}var i=mp.call(t);return r&&(e?t[yp]=n:delete t[yp]),i}(t):function(t){return vp.call(t)}(t)}function _p(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function wp(t){if(!_p(t))return!1;var e=bp(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Mp,kp=dp["__core-js_shared__"],Ap=(Mp=/[^.]+$/.exec(kp&&kp.keys&&kp.keys.IE_PROTO||""))?"Symbol(src)_1."+Mp:"";var Sp=Function.prototype.toString;function Tp(t){if(null!=t){try{return Sp.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Yp=/^\[object .+?Constructor\]$/,Dp=Function.prototype,Op=Object.prototype,Cp=Dp.toString,Np=Op.hasOwnProperty,Pp=RegExp("^"+Cp.call(Np).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hp(t){return!(!_p(t)||(e=t,Ap&&Ap in e))&&(wp(t)?Pp:Yp).test(Tp(t));var e}function jp(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Hp(n)?n:void 0}var Lp=jp(dp,"Map"),Ep=jp(Object,"create");var Fp=Object.prototype.hasOwnProperty;var Up=Object.prototype.hasOwnProperty;function zp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rp(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ip(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zp.prototype.clear=function(){this.__data__=Ep?Ep(null):{},this.size=0},zp.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zp.prototype.get=function(t){var e=this.__data__;if(Ep){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Fp.call(e,t)?e[t]:void 0},zp.prototype.has=function(t){var e=this.__data__;return Ep?void 0!==e[t]:Up.call(e,t)},zp.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ep&&void 0===e?"__lodash_hash_undefined__":e,this},Ip.prototype.clear=function(){this.size=0,this.__data__={hash:new zp,map:new(Lp||cp),string:new zp}},Ip.prototype.delete=function(t){var e=Rp(this,t).delete(t);return this.size-=e?1:0,e},Ip.prototype.get=function(t){return Rp(this,t).get(t)},Ip.prototype.has=function(t){return Rp(this,t).has(t)},Ip.prototype.set=function(t,e){var n=Rp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Wp(t){var e=this.__data__=new cp(t);this.size=e.size}Wp.prototype.clear=function(){this.__data__=new cp,this.size=0},Wp.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Wp.prototype.get=function(t){return this.__data__.get(t)},Wp.prototype.has=function(t){return this.__data__.has(t)},Wp.prototype.set=function(t,e){var n=this.__data__;if(n instanceof cp){var r=n.__data__;if(!Lp||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ip(r)}return n.set(t,e),this.size=n.size,this};var Bp=function(){try{var t=jp(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function $p(t,e,n){"__proto__"==e&&Bp?Bp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Vp=Object.prototype.hasOwnProperty;function Xp(t,e,n){var r=t[e];Vp.call(t,e)&&op(r,n)&&(void 0!==n||e in t)||$p(t,e,n)}function qp(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?$p(n,s,l):Xp(n,s,l)}return n}function Gp(t){return null!=t&&"object"==typeof t}function Zp(t){return Gp(t)&&"[object Arguments]"==bp(t)}var Qp=Object.prototype,Jp=Qp.hasOwnProperty,Kp=Qp.propertyIsEnumerable,tg=Zp(function(){return arguments}())?Zp:function(t){return Gp(t)&&Jp.call(t,"callee")&&!Kp.call(t,"callee")},eg=Array.isArray;var ng="object"==typeof t&&t&&!t.nodeType&&t,rg=ng&&"object"==typeof module&&module&&!module.nodeType&&module,ig=rg&&rg.exports===ng?dp.Buffer:void 0,ag=(ig?ig.isBuffer:void 0)||function(){return!1},og=/^(?:0|[1-9]\d*)$/;function sg(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&og.test(t))&&t>-1&&t%1==0&&t<e}function lg(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var cg={};function ug(t){return function(e){return t(e)}}cg["[object Float32Array]"]=cg["[object Float64Array]"]=cg["[object Int8Array]"]=cg["[object Int16Array]"]=cg["[object Int32Array]"]=cg["[object Uint8Array]"]=cg["[object Uint8ClampedArray]"]=cg["[object Uint16Array]"]=cg["[object Uint32Array]"]=!0,cg["[object Arguments]"]=cg["[object Array]"]=cg["[object ArrayBuffer]"]=cg["[object Boolean]"]=cg["[object DataView]"]=cg["[object Date]"]=cg["[object Error]"]=cg["[object Function]"]=cg["[object Map]"]=cg["[object Number]"]=cg["[object Object]"]=cg["[object RegExp]"]=cg["[object Set]"]=cg["[object String]"]=cg["[object WeakMap]"]=!1;var fg="object"==typeof t&&t&&!t.nodeType&&t,dg=fg&&"object"==typeof module&&module&&!module.nodeType&&module,hg=dg&&dg.exports===fg&&up.process,pg=function(){try{var t=dg&&dg.require&&dg.require("util").types;return t||hg&&hg.binding&&hg.binding("util")}catch(t){}}(),gg=pg&&pg.isTypedArray,mg=gg?ug(gg):function(t){return Gp(t)&&lg(t.length)&&!!cg[bp(t)]},yg=Object.prototype.hasOwnProperty;function vg(t,e){var n=eg(t),r=!n&&tg(t),i=!n&&!r&&ag(t),a=!n&&!r&&!i&&mg(t),o=n||r||i||a,s=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!e&&!yg.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sg(c,l))||s.push(c);return s}var xg=Object.prototype;function bg(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xg)}function _g(t,e){return function(n){return t(e(n))}}var wg=_g(Object.keys,Object),Mg=Object.prototype.hasOwnProperty;function kg(t){return null!=t&&lg(t.length)&&!wp(t)}function Ag(t){return kg(t)?vg(t):function(t){if(!bg(t))return wg(t);var e=[];for(var n in Object(t))Mg.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var Sg=Object.prototype.hasOwnProperty;function Tg(t){if(!_p(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=bg(t),n=[];for(var r in t)("constructor"!=r||!e&&Sg.call(t,r))&&n.push(r);return n}function Yg(t){return kg(t)?vg(t,!0):Tg(t)}var Dg="object"==typeof t&&t&&!t.nodeType&&t,Og=Dg&&"object"==typeof module&&module&&!module.nodeType&&module,Cg=Og&&Og.exports===Dg?dp.Buffer:void 0,Ng=Cg?Cg.allocUnsafe:void 0;function Pg(t,e){if(e)return t.slice();var n=t.length,r=Ng?Ng(n):new t.constructor(n);return t.copy(r),r}function Hg(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function jg(){return[]}var Lg=Object.prototype.propertyIsEnumerable,Eg=Object.getOwnPropertySymbols,Fg=Eg?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}(Eg(t),(function(e){return Lg.call(t,e)})))}:jg;function Ug(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zg=_g(Object.getPrototypeOf,Object),Rg=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ug(e,Fg(t)),t=zg(t);return e}:jg;function Ig(t,e,n){var r=e(t);return eg(t)?r:Ug(r,n(t))}function Wg(t){return Ig(t,Ag,Fg)}function Bg(t){return Ig(t,Yg,Rg)}var $g=jp(dp,"DataView"),Vg=jp(dp,"Promise"),Xg=jp(dp,"Set"),qg=jp(dp,"WeakMap"),Gg=Tp($g),Zg=Tp(Lp),Qg=Tp(Vg),Jg=Tp(Xg),Kg=Tp(qg),tm=bp;($g&&"[object DataView]"!=tm(new $g(new ArrayBuffer(1)))||Lp&&"[object Map]"!=tm(new Lp)||Vg&&"[object Promise]"!=tm(Vg.resolve())||Xg&&"[object Set]"!=tm(new Xg)||qg&&"[object WeakMap]"!=tm(new qg))&&(tm=function(t){var e=bp(t),n="[object Object]"==e?t.constructor:void 0,r=n?Tp(n):"";if(r)switch(r){case Gg:return"[object DataView]";case Zg:return"[object Map]";case Qg:return"[object Promise]";case Jg:return"[object Set]";case Kg:return"[object WeakMap]"}return e});var em=tm,nm=Object.prototype.hasOwnProperty;var rm=dp.Uint8Array;function im(t){var e=new t.constructor(t.byteLength);return new rm(e).set(new rm(t)),e}var am=/\w*$/;var om=hp?hp.prototype:void 0,sm=om?om.valueOf:void 0;function lm(t,e){var n=e?im(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function cm(t,e,n){var r,i,a,o=t.constructor;switch(e){case"[object ArrayBuffer]":return im(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?im(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return lm(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(a=new(i=t).constructor(i.source,am.exec(i))).lastIndex=i.lastIndex,a;case"[object Set]":return new o;case"[object Symbol]":return r=t,sm?Object(sm.call(r)):{}}}var um=Object.create,fm=function(){function t(){}return function(e){if(!_p(e))return{};if(um)return um(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function dm(t){return"function"!=typeof t.constructor||bg(t)?{}:fm(zg(t))}var hm=pg&&pg.isMap,pm=hm?ug(hm):function(t){return Gp(t)&&"[object Map]"==em(t)};var gm=pg&&pg.isSet,mm=gm?ug(gm):function(t){return Gp(t)&&"[object Set]"==em(t)},ym={};function vm(t,e,n,r,i,a){var o,s=1&e,l=2&e,c=4&e;if(n&&(o=i?n(t,r,i,a):n(t)),void 0!==o)return o;if(!_p(t))return t;var u=eg(t);if(u){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&nm.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return Hg(t,o)}else{var f=em(t),d="[object Function]"==f||"[object GeneratorFunction]"==f;if(ag(t))return Pg(t,s);if("[object Object]"==f||"[object Arguments]"==f||d&&!i){if(o=l||d?{}:dm(t),!s)return l?function(t,e){return qp(t,Rg(t),e)}(t,function(t,e){return t&&qp(e,Yg(e),t)}(o,t)):function(t,e){return qp(t,Fg(t),e)}(t,function(t,e){return t&&qp(e,Ag(e),t)}(o,t))}else{if(!ym[f])return i?t:{};o=cm(t,f,s)}}a||(a=new Wp);var h=a.get(t);if(h)return h;a.set(t,o),mm(t)?t.forEach((function(r){o.add(vm(r,e,n,r,t,a))})):pm(t)&&t.forEach((function(r,i){o.set(i,vm(r,e,n,i,t,a))}));var p=c?l?Bg:Wg:l?keysIn:Ag,g=u?void 0:p(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(g||t,(function(r,i){g&&(r=t[i=r]),Xp(o,i,vm(r,e,n,i,t,a))})),o}ym["[object Arguments]"]=ym["[object Array]"]=ym["[object ArrayBuffer]"]=ym["[object DataView]"]=ym["[object Boolean]"]=ym["[object Date]"]=ym["[object Float32Array]"]=ym["[object Float64Array]"]=ym["[object Int8Array]"]=ym["[object Int16Array]"]=ym["[object Int32Array]"]=ym["[object Map]"]=ym["[object Number]"]=ym["[object Object]"]=ym["[object RegExp]"]=ym["[object Set]"]=ym["[object String]"]=ym["[object Symbol]"]=ym["[object Uint8Array]"]=ym["[object Uint8ClampedArray]"]=ym["[object Uint16Array]"]=ym["[object Uint32Array]"]=!0,ym["[object Error]"]=ym["[object Function]"]=ym["[object WeakMap]"]=!1;function xm(t){return t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((t,e)=>{let[n,r]=e.split("=");return t[n]=r?function(t){return"true"===t||"false"===t||"True"===t||"False"===t?Boolean(t):!isNaN(parseFloat(t))&&isFinite(t)?Number(t):t}(decodeURIComponent(r.replace(/\+/g," "))):"",t},{}):{}}function bm(t){return t&&("true"===t||!0===t)}function _m(t,e){let n=t||{};var r;if(n=vm(Object.assign(xm(window.location.search),n),4),e&&e.config&&e.config.override_options)try{if("object"==typeof e.config.override_options){const t=e.config.override_options;n=Object.assign(t,n)}else if("string"==typeof e.config.override_options){const t=JSON.parse(e.config.override_options);n=Object.assign(t,n)}}catch(t){}return bm(n.hideTitles)&&(n.hideTitle=!0,n.hideFooter=!0),bm(n.widget)&&(n.disableScaffold=!0,n.customScaffold=Om,n.disableGrid=!0,n.disableTooltip=!0,n.disableAxis=!0,n.disableLabels=!0,n.disablePieLabels=!0,n.disableAnnotations=!0,n.forceVerticalColumns=!0,n.noPadding=!0,n.hideTitles=!0,n.hideTitle=!0,n.hideFooter=!0,n.screenshotMinHeight=0,n.layoutManager={minHeight:0}),(r=n.screenshotMode)&&"false"!==r&&(n.layoutManager={minHeight:Sm}),n}function wm(t,e,n){return null!=n[t]?n[t]:e.config&&null!=e.config[t]?e.config[t]:null}function Mm(t,e,n){const r=wm("variant_logo",e,n),i=wm("variant_color",e,n);void 0!==e.id&&t.hasAttribute("toaster-id")&&t.getAttribute("toaster-id")!==e.id&&rp(t),t.setAttribute("toaster-id",e.id),t.className=t.className.replace(/variant-/g,"x-"),ip(t,`variant-color-${i}`,!0),ip(t,"no-titles",n.hideTitle);const a=ap(t,"div","header");if(ip(a,"hide",n.hideTitle),n.hideTitle||(ap(a,"h1","title").innerHTML=e.title,ap(a,"h2","subtitle").innerHTML=e.subtitle),!n.hideLegend){!function(t,e,n){const r=Kd(e).map((t,e)=>(t.index=e,t)).filter(t=>t.name&&""!==t.name);e.config&&e.config.highlight_label&&r.push({name:e.config.highlight_label,isHighlight:!0});const i=ap(t,"ul","simple-legend");rp(i),r.forEach((t,e)=>{const n=document.createElement("li"),r=document.createElement("span"),a=document.createElement("label");i.appendChild(n),n.appendChild(r),n.appendChild(a),a.innerHTML=t.name,r.className="swatch bg series-"+t.index,ip(r,"highlight-legend",t.isHighlight)}),0===r.length&&ip(t,"hidden",!0)}(ap(t,"div","legend"),e)}ap(t,"div","chart"),(n.noPadding||n.hideTitle&&n.hideFooter)&&ip(t,"no-padding",!0);const o=ap(t,"div","footer");if(ip(o,"hide",n.hideFooter),!n.hideFooter&&(ap(o,"p","source").innerHTML=e.source,ap(o,"p","footnote").innerHTML=e.footnote,ap(o,"div","logo"),r)){ip(t,`variant-logo-${r}`,!0);const e=o.querySelector("div.logo");e&&ip(e,`variant-logo-${r}`,!0)}}const km="horizontal",Am="vertical",Sm=240,Tm={};function Ym(t){return!t.options.disableGrid&&("no-grid"!==t.data.config.grid_style&&("no-grid-no-domain"!==t.data.config.grid_style&&("force-grid-force-domain"===t.data.config.grid_style||("force-grid"===t.data.config.grid_style||(!t.data.annotations||!t.data.annotations.length)&&(!Bh(t.data)&&(!Wh(t.data)&&(-1!==["terminal","coth","bizweek"].indexOf(t.data.theme)||"line"===t.data.chartType)))))))}function Dm(t){return!t.options.disableDomain&&("no-grid-no-domain"!==t.data.config.grid_style&&("force-grid-force-domain"===t.data.config.grid_style||!Bh(t.data)&&!Wh(t.data)))}function Om(t){return function(t){t.each((function(t){const e=pt(this).classed("widget-mode",!0).classed("no-padding",!0);e.attr("toaster-id")&&e.attr("toaster-id")!==t.id&&e.selectAll("*").remove(),e.attr("toaster-id",t.id),e.selectAppend("div.chart")}))}}function Cm(t,e,n,r){let i=e||"5:2";return t.chartOptions&&t.chartOptions.aspectRatio&&(i=t.chartOptions.aspectRatio),"string"==typeof i&&(i=i.split(":")[0]/i.split(":")[1]),n&&n.maxAspectRatioForTerminal&&r.isDarkTheme&&"avmm"===r.screenshotMode&&(i=Math.max(i,n.maxAspectRatioForTerminal)),i}function Nm(t){const e=Array.prototype.slice.call(arguments,1),n=window.getComputedStyle(t,null);return e.map(t=>n.getPropertyValue(t))}function Pm(t){return Nm(t,"margin-top","margin-bottom").map(t=>Number(t.replace("px",""))).reduce((t,e)=>t+e)}Tm.top=cd,Tm.bottom=fd,Tm.left=dd,Tm.right=ud;const Hm="#000000",jm="#ffffff",Lm="#00aeff",Em="#ffc400",Fm="#0078ff",Um="#ff0000",zm="#0073ff",Rm="#ffa028",Im="#bebebe",Wm="#0051ba",Bm="#14eb1e",$m=["#14eb1e","#000000","#aaaaaa","#00b4d2","#2d82a5","#ffbe1e","#ffeb50","#ff4f00","#e1a05a"],Vm=["#14eb1e","#14d21e","#14b919","#14a014","#148714","#147819","#196919","#195a19","#0f4b0f"];function Xm(){let t="https://www.bloomberg.com/graphics/toaster/toaster-client-packages/assets";if("localhost"===window.location.hostname){let e=window.location.origin;"http://localhost:4000"===e&&(e="http://localhost:8088"),t=`${e}/assets`}else"toaster-staging.bloomberg.com"===window.location.hostname&&(t="https://www.bloomberg.com/graphics/toaster/toaster-client-packages/assets");return t}function qm(t,e){const n=t.split(" ")[0].replace("url(#","").replace(")",""),r=n[n.length-1],i=-1!==n.indexOf("dark");return{fileName:`${e}_${i?"dark":"light"}_pattern_${r}.png`,bareKey:n,pIndex:r,isDark:i}}function Gm(t){if(-1!==t.indexOf("pattern-green")){const{fileName:e,bareKey:n}=qm(t,"green");return`\n      <pattern id="${n}" patternUnits="userSpaceOnUse" width="50" height="50">\n        <image xlink:href="${Xm()}/patterns/green/${e}" x="0" y="0" width="50" height="50" />\n      </pattern>\n    `}return{"url(#gGradient1)":'\n    <linearGradient id="gGradient1" x1="0%" y1="0%" x2="0%" y2="100%">\n      <stop offset="0%" stop-color="#ffffff"></stop>\n      <stop offset="80%" stop-color="#14eb1e"></stop>\n    </linearGradient>\n    <linearGradient id="gGradientHorizontal1" x1="0%" y1="0%" x2="100%" y2="0%">\n      <stop offset="0%" stop-color="#ffffff"></stop>\n      <stop offset="80%" stop-color="#14eb1e"></stop>\n    </linearGradient>\n    ',"url(#gGradient2)":'\n    <linearGradient id="gGradient2" x1="0%" y1="0%" x2="0%" y2="100%">\n      <stop offset="0%" stop-color="#000000"></stop>\n      <stop offset="80%" stop-color="#14eb1e"></stop>\n    </linearGradient>\n    <linearGradient id="gGradientHorizontal2" x1="0%" y1="0%" x2="100%" y2="0%">\n      <stop offset="0%" stop-color="#000000"></stop>\n      <stop offset="80%" stop-color="#14eb1e"></stop>\n    </linearGradient>\n    '}[t]}const Zm={1:[[Rm],[zm],["#fa5a28"],["#db8922"]],2:[[Rm,zm],["#fa5a28",Wm],["#fa5a28",Im],[zm,Im]],3:[[Rm,Im,Wm],[Rm,Wm,"#b3401d"]],4:[[zm,Rm,Wm,"#b3401d"],[Im,"#ffd345","#d9a700","#7f6200"]],5:[[zm,Rm,Wm,"#b3401d","#1bbc3c"],[Im,"#ffd345",Em,"#d9a700","#7f6200"]],6:[["#db8922",Im,Wm,"#b3401d","#8f52b6","#d7be00"],[Im,"#7f6200","#d9a700",Em,"#ffd345","#ffe389","#fff2ce"]],all:[["#db8922",Im,Wm,"#b3401d","#8f52b6","#d7be00","#009eb0","#1bbc3c","#ae1d86"],[Im,"#7f6200","#d9a700",Em,"#ffd345","#ffe389","#fff2ce"]]},Qm={1:[[Rm],["#fa5a28"],[zm],[jm]],2:[[jm,zm],["#fa5a28",jm],[Rm,zm]],3:[["#fa5a28",jm,zm],[Rm,zm,"#50f06e"]],4:[[Rm,zm,"#f328bb",jm]],5:[[zm,"#fa5a28","#c873ff","#ffed66","#50f06e"]],6:[[zm,"#fa5a28","#c873ff","#ffed66","#00e6ff",Rm]],all:[[zm,"#fa5a28","#c873ff","#ffed66","#00e6ff",Rm,"#f328bb","#50f06e"]]},Jm={1:[[Hm],[{color:jm,stroke:Hm}]],2:[[Hm,Lm],[{color:jm,stroke:Hm},{color:Hm,stroke:Hm}],[Hm,Em]],3:[[Hm,"#ff008c",Em],[Hm,"#0079b2",Lm],[Hm,"#b28900",Em]],4:[[Hm,"#ff008c",Lm,Em],[Hm,"#00577f","#0094d9","#44c4ff"],[Hm,"#7f6200","#d9a700","#ffd345"]],5:[[Hm,"#ff008c",Lm,Em,"#3ef794"],[Hm,"#00577f","#0094d9",Lm,"#44c4ff"],[Hm,"#7f6200","#d9a700",Em,"#ffd345"]],6:[[Hm,"#ff008c","#cccccc",Lm,Em,"#3ef794"],[Hm,"#00577f","#0094d9",Lm,"#44c4ff","#89d9fe"],[Hm,"#7f6200","#d9a700",Em,"#ffd345","#ffe389"]],all:[[Hm,"#ff008c","#cccccc",Lm,Em,"#3ef794","#0037ff"],[Hm,"#00577f","#0094d9",Lm,"#44c4ff","#89d9fe","#cdeffe"],[Hm,"#7f6200","#d9a700",Em,"#ffd345","#ffe389","#fff2ce"]]},Km={1:[[Hm],[{color:jm,stroke:Hm}]],2:[[jm,Hm],[Hm,Fm],[Hm,Um]],3:[[Hm,"#008800","#dca0ff"],[Hm,"#003eb2",Fm],[Hm,"#b20000",Um]],4:[[Hm,Fm,Um,"#008800"],[Hm,"#003eb2",Fm,"#89baff"],[Hm,"#b20000",Um,"#ff8282"]],5:[[Hm,Fm,Um,"#008800","#dca0ff"],[Hm,"#002a7f","#0052d9",Fm,"#89baff"],[Hm,"#7f0000","#d90000",Um,"#ff8282"]],6:[[Hm,Fm,Um,"#008800","#dca0ff","#ffff00"],[Hm,"#002a7f","#0052d9",Fm,"#4499ff","#cddcff"],[Hm,"#7f0000","#d90000",Um,"#ff4141","#ffc3c3"]],all:[[Hm,Fm,Um,"#008800","#dca0ff","#ffff00",jm],[Hm,"#003eb2","#0052d9",Fm,"#4499ff","#89baff","#cddcff"],[Hm,"#b20000","#d90000",Um,"#ff4141","#ff8282","#ffc3c3"]]},ty={1:[[Bm],[{color:Bm,stroke:Hm}]],2:[[$m[1],$m[0]],[{color:jm,stroke:Hm},{color:Bm,stroke:Hm}]],3:[[$m[1],$m[0],$m[2]],[{color:Vm[0],stroke:Hm},{color:Vm[2],stroke:Hm},{color:Vm[4],stroke:Hm}]],4:[[$m[0],$m[1],$m[2],$m[3]],[{color:Vm[0],stroke:Hm},{color:Vm[2],stroke:Hm},{color:Vm[4],stroke:Hm},{color:Vm[6],stroke:Hm}]],5:[[$m[0],$m[1],$m[2],$m[3],$m[4]],[{color:Vm[0],stroke:Hm},{color:Vm[2],stroke:Hm},{color:Vm[4],stroke:Hm},{color:Vm[6],stroke:Hm},{color:Vm[8],stroke:Hm}]],6:[[$m[0],$m[1],$m[2],$m[3],$m[4],$m[5]],[{color:Vm[0],stroke:Hm},{color:Vm[2],stroke:Hm},{color:Vm[3],stroke:Hm},{color:Vm[5],stroke:Hm},{color:Vm[6],stroke:Hm},{color:Vm[8],stroke:Hm}]],all:[[$m[0],$m[1],$m[2],$m[3],$m[4],$m[5],$m[6],$m[7],$m[8]],[{color:Vm[0],stroke:Hm},{color:Vm[1],stroke:Hm},{color:Vm[2],stroke:Hm},{color:Vm[3],stroke:Hm},{color:Vm[4],stroke:Hm},{color:Vm[5],stroke:Hm},{color:Vm[6],stroke:Hm},{color:Vm[7],stroke:Hm},{color:Vm[8],stroke:Hm}]]},ey={1:[[Bm],[{color:Bm,stroke:jm}]],2:[[jm,$m[0]],[{color:Hm,stroke:jm},{color:Bm,stroke:jm}]],3:[[jm,$m[0],$m[2]],[{color:Vm[0],stroke:jm},{color:Vm[2],stroke:jm},{color:Vm[4],stroke:jm}]],4:[[$m[0],jm,$m[2],$m[3]],[{color:Vm[0],stroke:jm},{color:Vm[2],stroke:jm},{color:Vm[4],stroke:jm},{color:Vm[6],stroke:jm}]],5:[[$m[0],jm,$m[2],$m[3],$m[4]],[{color:Vm[0],stroke:jm},{color:Vm[2],stroke:jm},{color:Vm[4],stroke:jm},{color:Vm[6],stroke:jm},{color:Vm[8],stroke:jm}]],6:[[$m[0],jm,$m[2],$m[3],$m[4],$m[5]],[{color:Vm[0],stroke:jm},{color:Vm[2],stroke:jm},{color:Vm[3],stroke:jm},{color:Vm[5],stroke:jm},{color:Vm[6],stroke:jm},{color:Vm[8],stroke:jm}]],all:[[$m[0],jm,$m[2],$m[3],$m[4],$m[5],$m[6],$m[7],$m[8]],[{color:Vm[0],stroke:jm},{color:Vm[1],stroke:jm},{color:Vm[2],stroke:jm},{color:Vm[3],stroke:jm},{color:Vm[4],stroke:jm},{color:Vm[5],stroke:jm},{color:Vm[6],stroke:jm},{color:Vm[7],stroke:jm},{color:Vm[8],stroke:jm}]]},ny={1:[[{color:iy(1),stroke:Hm}]],2:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm}]],3:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm},{color:iy(3),stroke:Hm}]],4:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm},{color:iy(3),stroke:Hm},{color:iy(4),stroke:Hm}]],5:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm},{color:iy(3),stroke:Hm},{color:iy(4),stroke:Hm},{color:iy(5),stroke:Hm}]],6:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm},{color:iy(3),stroke:Hm},{color:iy(4),stroke:Hm},{color:iy(5),stroke:Hm},{color:iy(6),stroke:Hm}]],all:[[{color:iy(1),stroke:Hm},{color:iy(2),stroke:Hm},{color:iy(3),stroke:Hm},{color:iy(4),stroke:Hm},{color:iy(5),stroke:Hm},{color:iy(6),stroke:Hm},{color:iy(7),stroke:Hm}]]},ry={1:[[{color:ay(1),stroke:Bm}]],2:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm}]],3:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm},{color:ay(3),stroke:Bm}]],4:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm},{color:ay(3),stroke:Bm},{color:ay(4),stroke:Bm}]],5:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm},{color:ay(3),stroke:Bm},{color:ay(4),stroke:Bm},{color:ay(5),stroke:Bm}]],6:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm},{color:ay(3),stroke:Bm},{color:ay(4),stroke:Bm},{color:ay(5),stroke:Bm},{color:ay(6),stroke:Bm}]],all:[[{color:ay(1),stroke:Bm},{color:ay(2),stroke:Bm},{color:ay(3),stroke:Bm},{color:ay(4),stroke:Bm},{color:ay(5),stroke:Bm},{color:ay(6),stroke:Bm},{color:ay(7),stroke:Bm}]]};function iy(t){return`url(#pattern-green-light${t}) #fff`}function ay(t){return`url(#pattern-green-dark${t}) #fff`}const oy={business:Jm,bizweek:Km,green:ty,"green-dark":ey,terminalX:Zm};function sy(t){const e={};return["line","barline"].forEach(n=>{e[n]=function(t,e){if(!e)return null;let n={};Object.keys(e).forEach(t=>{n[t]=e[t].slice()}),"bizweek"===t?(delete n[1][1],delete n[2][0],delete n.all[1],delete n.all[2]):"terminal"===t?n=Qm:(delete n[1][1],delete n[2][1],delete n[2][2],delete n[5][1],delete n[5][2],delete n[6][1],delete n[6][2],delete n.all[1],delete n.all[2]);return n[1]=n[1].filter(t=>t),n[2]=n[2].filter(t=>t),n[5]=n[5].filter(t=>t),n[6]=n[6].filter(t=>t),n.all=n.all.filter(t=>t),n}(t,oy[t])}),["bar","hbar","stackedVbar","stackedHbar","area"].forEach(n=>{e[n]=oy[t]}),["pie"].forEach(n=>{e[n]=function(t,e){if(!e)return null;let n={};Object.keys(e).forEach(t=>{n[t]=e[t].slice()}),"green"===t?Object.keys(ny).forEach(t=>{n[t]=n[t].slice(1).concat(ny[t])}):"green-dark"===t&&Object.keys(ry).forEach(t=>{n[t]=n[t].slice(1).concat(ry[t])});return n}(t,oy[t])}),e}const ly=["pie"];function cy(t,e,n){const r=sy(e.theme),i=e.config.highlight_values;let a=!1,o=null,s=0;if(e.config.series_color_style&&(s=Number(e.config.series_color_style)),null!=n.colorSeries&&(s=Number(n.colorSeries)),!n.colorVariableSet&&r&&e.data[0]&&r[e.chartType]){a=!0,o=r[e.chartType][function(t,e){let n=e?t.data[0].length:t.data[0].length-1;ly.includes(t.chartType)&&(n=t.data.length);return n>6?"all":n}(e,i)],function(t,e,n=1,r=!1){if(!e)return;const i=(e,n)=>{t[e]||(t[e]=n)};e.forEach((e,a)=>{"string"==typeof e?i(`color${a+n}`,e):(i(`color${a+n}`,e.color),i(`stroke${a+n}`,e.stroke)),r&&a+n===1&&(i("colorh",t.color1),e.stroke&&i("strokeh",e.stroke))})}(n,o[s],0,i)}n.seriesColorStyleSet=a,n.seriesColorStyles=o,n.editorHooks&&n.editorHooks.colorSeries&&n.editorHooks.colorSeries(o,s)}function uy(t,e,n){(void 0===n||op(t[e],n))&&(void 0!==n||e in t)||$p(t,e,n)}var fy,dy=function(t,e,n){for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var s=a[fy?o:++r];if(!1===e(i[s],s,i))break}return t};var hy=Function.prototype,py=Object.prototype,gy=hy.toString,my=py.hasOwnProperty,yy=gy.call(Object);function vy(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function xy(t,e,n,r,i,a,o){var s=vy(t,n),l=vy(e,n),c=o.get(l);if(c)uy(t,n,c);else{var u,f=a?a(s,l,n+"",t,e,o):void 0,d=void 0===f;if(d){var h=eg(l),p=!h&&ag(l),g=!h&&!p&&mg(l);f=l,h||p||g?eg(s)?f=s:Gp(u=s)&&kg(u)?f=Hg(s):p?(d=!1,f=Pg(l,!0)):g?(d=!1,f=lm(l,!0)):f=[]:function(t){if(!Gp(t)||"[object Object]"!=bp(t))return!1;var e=zg(t);if(null===e)return!0;var n=my.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&gy.call(n)==yy}(l)||tg(l)?(f=s,tg(s)?f=function(t){return qp(t,Yg(t))}(s):_p(s)&&!wp(s)||(f=dm(l))):d=!1}d&&(o.set(l,f),i(f,l,r,a,o),o.delete(l)),uy(t,n,f)}}function by(t,e,n,r,i){t!==e&&dy(e,(function(a,o){if(i||(i=new Wp),_p(a))xy(t,e,o,n,by,r,i);else{var s=r?r(vy(t,o),a,o+"",t,e,i):void 0;void 0===s&&(s=a),uy(t,o,s)}}),Yg)}function _y(t){return t}function wy(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var My=Math.max;var ky=Bp?function(t,e){return Bp(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:_y,Ay=Date.now;var Sy,Ty,Yy,Dy=(Sy=ky,Ty=0,Yy=0,function(){var t=Ay(),e=16-(t-Yy);if(Yy=t,e>0){if(++Ty>=800)return arguments[0]}else Ty=0;return Sy.apply(void 0,arguments)});function Oy(t,e){return Dy(function(t,e,n){return e=My(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=My(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),wy(t,this,s)}}(t,e,_y),t+"")}var Cy,Ny=(Cy=function(t,e,n){by(t,e,n)},Oy((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(i=Cy.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(t,e,n){if(!_p(n))return!1;var r=typeof e;return!!("number"==r?kg(n)&&sg(e,n.length):"string"==r&&e in n)&&op(n[e],t)}(e[0],e[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&Cy(t,o,n,i)}return t})));const Py=["terminal","coth","opinion-dark","green-dark","bizweek-dark"],Hy={gadfly:{renderAreaChart:!0},bizweek:{linearAxis:{tickLabelAlternate:!1}},coth:{columnWidthBreakpointMin:20,columnWidthLongTextBreakpoint:50,screenshotMinHeight:340,ratioHeightOffset:!0},bi:{screenshotMinHeight:385,layoutManager:{aspectDrivenHeight:!1,fixedHeightSizing:!0,fixedHeight:385}},green:{mobileBreakpoint:480,linearAxis:{tickStepVertical:180},layoutManager:{aspectRatio:"4:3",maxAspectHeight:465}},"green-dark":{mobileBreakpoint:480,linearAxis:{tickStepVertical:180},layoutManager:{aspectRatio:"4:3",maxAspectRatioForTerminal:2.25}}};const jy=t=>null,Ly={gadfly:function(t,e){const n=(parseInt("0x"+e.id)+3)%5;ip(t,"color-set-0",!1),ip(t,"color-set-1",!1),ip(t,"color-set-2",!1),ip(t,"color-set-3",!1),ip(t,"color-set-4",!1),ip(t,`color-set-${n}`,!0)}};const Ey=["color0","color1","color2","color3","color4","color5","color6","color7","color8","color9","colorbg","colorfg","colorh","stroke0","stroke1","stroke2","stroke3","stroke4","stroke5","stroke6","stroke7","stroke8","stroke9","strokeh"];function Fy(t,e,n){if(t=pt(t),!function(t,e){return(!e.theme||e.theme===t.theme)&&((!t.originalTheme||t.theme===t.originalTheme)&&(!t.config.original_theme||t.theme===t.config.original_theme))}(e,n)&&!0!==n.applyColorsOnAllThemes)return!1;Ey.forEach(r=>{if(n[r]){const i=n[r],a=function(t){if(-1!==t.indexOf("gPattern")){const{fileName:e}=qm(t,"green");return`url(${Xm()}/patterns/green/${e}) repeat;`}return{"url(#gGradient1)":"linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(20,235,30,1) 66%, rgba(20,235,30,1) 100%);","url(#gGradient2)":"linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(20,235,30,1) 66%, rgba(20,235,30,1) 100%);"}[t]}(r)||i,o=n.theme||e.theme;if("url(#"===i.substring(0,5)&&function(t,e){if(Gm(e)){const n=e.replace("url(","").replace(")","");if(t.select(n).size())return;t.select("svg").append("defs").html(Gm(e))}}(t,i),"colorbg"===r)pt("body.toaster-iframe, body.framed-viewer").style("background",i),t.style("background",i),t.selectAll(`.toaster-theme-${o}`).style("background",i),t.selectAll(".pie-container.highlighted path").style("stroke",i),t.selectAll(".tooltip-label-box, .toaster-iframe, .logo").style("background-color",i),t.selectAll(".tooltip-valueline").style("color",i),t.selectAll(".tooltip-anchor, .axis-label-box > rect").style("fill",i),t.selectAll(".annotations text").style("text-shadow",`-1px -1px 0px ${i}, \n            -1px 1px 0px ${i}, \n            1px -1px 0px ${i},\n            1px 1px 0px ${i},\n            -2px -2px 0px ${i},\n            -2px 2px 0px ${i},\n            2px -2px 0px ${i},\n            2px 2px 0px ${i}`);else if("colorfg"===r)t.selectAll("h1, h2, a, th, .source, .logo, label, .tooltip-value, .title, .footnote, .label-bottom, .annotations-footer").style("color",i),t.selectAll(".tooltip-gridline, .tooltip-anchor, .grid line, rect.column").style("stroke",i),t.selectAll("text, text.column-label").style("fill",i),t.selectAll(".axis path.domain, .axis .tick > line, .zero-line, .label line, .annotations line").style("stroke",i),t.selectAll(".tooltip-label-box").style("border-color",i).style("color",i),t.selectAll(".swatch").style("border-color",i);else if("colorh"===r)t.selectAll(".highlight, .f.highlight").style("fill",i),t.selectAll(".highlight-legend").style("background-color",i);else if("strokeh"===r)t.selectAll(".highlight, .f.highlight").style("stroke",i),t.selectAll(".highlight-legend").style("border-color",i);else if(-1!==r.indexOf("stroke")){const e=Number(r.replace("stroke",""));t.selectAll(`.bg.series-${e}`).style("border-style","solid").style("border-width","1px").style("border-color",i),t.selectAll(`.f.series-${e}, .bg.series-${e}, .s.series-${e}, .series-${e}-stroke`).style("stroke",i)}else{const e=Number(r.replace("color",""));t.selectAll(`.bg.series-${e}`).style("background",a),t.selectAll(`.c.series-${e}`).style("color",i),t.selectAll(`.s.series-${e}, .series-${e}-stroke`).style("stroke",i),t.selectAll(`.f.series-${e}, .line-area.series-${e}`).style("fill",i)}}})}function Uy(t,e,n,r){r=_m(r,n),Dh(n);let i=()=>null;if(r.forceResize=()=>i(t,r),!e)throw new Error("Chart Type not recognized");if(!n.data||!n.data.length)throw new Error("No Data supplied");e.makeOptions&&(r=e.makeOptions(r));let a=n.theme;const o=n.chartType||r.typeClass;r.themeMap&&r.themeMap.hasOwnProperty(n.theme)&&(a=r.themeMap[n.theme]),r=function(t,e,n){n=n||{};const r=Hy[e]||{};return("coth"===t.originalTheme||t.config&&"coth"===t.config.original_theme)&&(r.ratioHeightOffset=!0),n.isDarkTheme=Py.includes(e),Ny(n,r)}(n,a,r);const s="toaster-theme-"+a,l="toaster-type-"+o;t.classList.add("toaster-chart"),t.classList.add(s),t.classList.add(l),t.__data__=n,(r.customScaffold||Mm)(t,n,r);const c=function(){const i=e(t,n,r);var o;return(Ly[o=a]?Ly[o]:jy)(t,n,r),function(t,e,n){cy(0,e,n),wm("variant_color",e,n)||Fy(t,e,n)}(t,n,r),i&&i.postRender&&i.postRender(),i},u=c();return i=function(){let t=window._toasterWindowId||"",e=window._toasterIframeUseString||!1;const n=(n,r)=>{let i=pd(n.offsetHeight,0)+pd(n.getBoundingClientRect().top,0);if(!r.noResizePropagation&&window.parent&&md()&&(window.parent.postMessage({sentinel:"amp",type:"embed-size",height:i},"*"),""!==t)){const n={method:"resize",windowId:t,height:i};window.parent.postMessage(e?JSON.stringify(n):n,"*")}return n.setAttribute("phantomheight",i+"px"),t};return n.setWindowId=e=>{t=e,window._toasterWindowId=e},n.setUseString=t=>{e=t,window._toasterIframeUseString=t},n}(),function(t,e,n){pt(window).on("message.toaster",null).on("message.toaster",(function(){var r=nt.data;if(r.substring){e.setUseString(!0);try{r=JSON.parse(r)}catch(t){return}}"register"===r.method&&(e.setWindowId(r.windowId),e(t,n))}))}(t,i,r),gd(t,c,i,n,r),setTimeout(()=>i(t,r),50),{renderer:u,render:c,onResize:i}}function zy(t){let e=(t=Object.assign({verticalColumnMinLength:1,horizontalColumnMinLength:2},t)).xScale,n=t.yScale;const r=t.seriesOffset||0;function i(i){i.each((function(i){const a=pt(this).classed("simple-column",!0);a.selectAll(".bounding-rect").remove(),a.append("rect").classed("bounding-rect",!0).attr("x",e.range()[0]).attr("width",e.range()[1]).attr("y",n.range()[1]).attr("height",n.range()[0]).attr("fill","transparent");const o=wd(i,!0,!0),s=t.seriesData||Kd(i),l=mr().domain(ho(s.length));t.orientation===km?l.rangeRound([0,e.bandwidth()]):l.rangeRound([0,n.bandwidth()]),window.seriesScale=l;const c=dh(i);l.bandwidth();let u=a.selectAll(".series").data(s);u.exit().remove(),u=u.enter().append("g").attr("class",(function(t,e){return"series f series-"+(e+r)})).merge(u),t.orientation===km?u.attr("transform",(function(t,e){return"translate("+l(e)+",0)"})):u.attr("transform",(function(t,e){return"translate(0, "+l(e)+")"}));const f=u.selectAll(".column").data((function(t){return t.data}));f.exit().remove(),t.orientation===km?f.enter().append("rect").attr("class","column").merge(f).classed("highlight",c).attr("x",(t,n)=>e(o(n))).attr("y",(function(t){return n(Math.max(0,Yd(t)))})).attr("width",Math.max(1,l.bandwidth())).attr("height",(function(e){return null==e?0:Math.max(Math.abs(n(Yd(e))-n(0)),t.verticalColumnMinLength)})):f.enter().append("rect").attr("class","column").merge(f).classed("highlight",c).attr("y",(function(t,e){return n(o(e))})).attr("x",(function(t,n){return e(Math.min(0,Yd(t)))})).attr("height",l.bandwidth()).attr("width",(function(n){return null==n?0:Math.max(Math.abs(e(Yd(n))-e(0)),t.horizontalColumnMinLength)}))}))}return i.xScale=function(t){return arguments.length?(e=t,i):e},i.yScale=function(t){return arguments.length?(n=t.copy(),i):n},i}function Ry(t,e,n){return{el:t,data:e,x:null,y:null,z:null,r:null,layout:null,layers:[],options:Object.assign({},n)}}function Iy(t,e){var n=!1;function r(){n||(t.selectAll(".tooltip").classed("tooltip-hidden",!1),n=!0)}function i(){n&&(t.selectAll(".tooltip").classed("tooltip-hidden",!0),n=!1)}t.style("pointer-events","all").on("mouseover.tooltip",null).on("mouseout.tooltip",null).on("mousemove.tooltip",null).on("mouseover.tooltip",r).on("mouseout.tooltip",i).on("mousemove.tooltip",(function(t){e(bt(this),r,i)})).on("touchstart.tooltip",null).on("touchend.tooltip",null).on("touchmove.tooltip",null).on("touchstart.tooltip",r).on("touchend.tooltip",i).on("touchmove.tooltip",(function(t){const n=wt(this)[0];n&&e(n,r,i)}))}function Wy(t){t.chart.selectAll(".tooltip").remove();const e=t.env;if(e.options.labelCaps)return;const n=Kd(t.env.data),r=Lh(t.env.data),i=t.chart.selectAppend("div.tooltip-container"),a=i.append("div").attr("class","tooltip tooltip-hidden tooltip-label-box"),o=a.append("div").attr("class","tooltip-label"),s=a.selectAppend("div.tooltip-values"),l=e.layout.margin(),c=e.options.stackedBand||e.y.stackedDomain(),u=c||t.barline,f=t.area.selectAppend("g.tooltip-container"),d=f.append("line").attr("class","tooltip tooltip-hidden tooltip-gridline"),h=f.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor");Fy(i.node(),e.data,e.options);let p=!1;Iy(t.chart,(function(i,f,g){var m=t.area.node().getBoundingClientRect(),y=[(i[0]-l.left)/e.x.rangeLength(),1-(i[1]-l.top)/e.y.rangeLength()];c&&null==e.options.singleSeriesStacked&&(p=$h(e.data),e.options.singleSeriesStacked=p);var v,x,b=e.layout.orientation()===Am,_=b?e.y:e.x,w=b?e.x:e.y,M={defaultDecimals:1,isTooltip:!0},k=Gd(_,e,M),A=Gd(w,e,M);if(b?(y[1]=1-y[1],v=e.y.getDataAtPosition(y[1])):v=e.x.getDataAtPosition(y[0]),v&&void 0!==e.data.data[v.dataIndex]){f(),x=b?e.y.getPositionFromIndex([v.dataIndex,v.seriesIndex],u):e.x.getPositionFromIndex([v.dataIndex,v.seriesIndex],u),t.barline&&(v.seriesIndex=0);var S=e.data.data[v.dataIndex][0],T=v.data[v.seriesIndex];c&&(T=v.data.reduce((t,e)=>Math.max(t,0)+Math.max(e,0),0),v.seriesIndex="X");var Y=x*e.x.rangeLength(),D=e.y.scale(T);b&&(D=x*e.y.rangeLength(),Y=e.x.scale(T));var O=n.map((function(t){return t.data[v.dataIndex]}));if(!isNaN(D)&&!isNaN(Y)){b?d.attr("x1",Y).attr("x2",Y).attr("y1",e.y.scale.range()[0]).attr("y2",e.y.scale.range()[1]):d.attr("x1",e.x.scale.range()[0]).attr("x2",e.x.scale.range()[1]).attr("y1",D).attr("y2",D),h.attr("r",e.options.tooltipAnchorSize).attr("cx",Y||0).attr("cy",D||0);var C=e.layout.yAxisInnerPadding(),N=Y+C+l.left+e.options.tooltipOffsetX,P=D+l.top+e.options.tooltipOffsetY,H=null,j=e.options.tooltipLineHeight*(n.length+1),L=e.options.tooltipMaxWidth,E=!1,F=!1;c&&(j=e.options.tooltipLineHeight*(n.length+2)),N+L>m.width&&(N=Math.max(Y+C+l.left-e.options.tooltipOffsetX,L),H="flipHorizontal",E=!0),P+j>m.height&&(P=Math.max(D+l.top-e.options.tooltipOffsetY,j),H="flipVertical",F=!0),F&&E&&(H="flipVH"),a.style("left",N+"px").style("top",P+"px").classed("flipHorizontal","flipHorizontal"===H).classed("flipVertical","flipVertical"===H).classed("flipVH","flipVH"===H).classed("single-series",r||p),o.text(k(S));var U=s.selectAll(".tooltip-value").data(O);U.exit().remove(),U.enter().append("div").classed("tooltip-value",!0).merge(U).classed("active",(function(t,e){return e===v.seriesIndex})).html((function(t,e){return`\n            <span class="swatch bg series-${e}"></span>\n            <span class="val">${A(t)}</span>\n          `})).style("display",(function(t){return p?t?"flex":"none":"flex"})),c&&!p&&(a.classed("stacked",!0),s.append("div").classed("tooltip-value",!0).classed("total",!0).html((function(){return`\n            <span class="left">Total</span>\n            <span class="val">${A(T)}</span>\n          `}))),Fy(a.node(),e.data,e.options)}}else g()}))}const By=[{x:-10,y:-5,alignX:"right",alignY:"bottom"},{x:-10,y:5,alignX:"right",alignY:"top"},{x:10,y:-5,alignX:"left",alignY:"bottom"},{x:10,y:5,alignX:"left",alignY:"top"},{x:-10,y:-30,alignX:"right",alignY:"bottom"},{x:-10,y:30,alignX:"right",alignY:"top"},{x:10,y:-30,alignX:"left",alignY:"bottom"},{x:10,y:30,alignX:"left",alignY:"top"},{x:-10,y:-60,alignX:"right",alignY:"bottom"},{x:-10,y:60,alignX:"right",alignY:"top"},{x:10,y:-60,alignX:"left",alignY:"bottom"},{x:10,y:60,alignX:"left",alignY:"top"},{x:-10,y:-100,alignX:"right",alignY:"bottom"},{x:-10,y:100,alignX:"right",alignY:"top"},{x:10,y:-100,alignX:"left",alignY:"bottom"},{x:10,y:100,alignX:"left",alignY:"top"},{x:-10,y:-180,alignX:"right",alignY:"bottom"},{x:-10,y:180,alignX:"right",alignY:"top"},{x:10,y:-180,alignX:"left",alignY:"bottom"},{x:10,y:180,alignX:"left",alignY:"top"}],$y=[{x:10,y:-5,alignX:"left",alignY:"bottom"},{x:10,y:-30,alignX:"left",alignY:"bottom"},{x:10,y:-60,alignX:"left",alignY:"bottom"},{x:10,y:-100,alignX:"left",alignY:"bottom"},{x:10,y:-180,alignX:"left",alignY:"bottom"}],Vy=[{x:-10,y:-5,alignX:"right",alignY:"bottom"},{x:-10,y:-30,alignX:"right",alignY:"bottom"},{x:-10,y:-60,alignX:"right",alignY:"bottom"},{x:-10,y:-100,alignX:"right",alignY:"bottom"},{x:-10,y:-180,alignX:"right",alignY:"bottom"}],Xy={north:[{x:-10,y:-5,alignX:"right",alignY:"bottom"},{x:10,y:-5,alignX:"left",alignY:"bottom"},{x:-10,y:-30,alignX:"right",alignY:"bottom"},{x:10,y:-30,alignX:"left",alignY:"bottom"},{x:-10,y:-60,alignX:"right",alignY:"bottom"},{x:10,y:-60,alignX:"left",alignY:"bottom"},{x:-10,y:-100,alignX:"right",alignY:"bottom"},{x:10,y:-100,alignX:"left",alignY:"bottom"},{x:-10,y:-180,alignX:"right",alignY:"bottom"},{x:10,y:-180,alignX:"left",alignY:"bottom"}],northwest:Vy,northeast:$y,east:Vy,west:$y,south:[{x:-10,y:5,alignX:"right",alignY:"top"},{x:10,y:5,alignX:"left",alignY:"top"},{x:-10,y:30,alignX:"right",alignY:"top"},{x:10,y:30,alignX:"left",alignY:"top"},{x:-10,y:60,alignX:"right",alignY:"top"},{x:10,y:60,alignX:"left",alignY:"top"},{x:-10,y:100,alignX:"right",alignY:"top"},{x:10,y:100,alignX:"left",alignY:"top"},{x:-10,y:180,alignX:"right",alignY:"top"},{x:10,y:180,alignX:"left",alignY:"top"}],southwest:[{x:-10,y:5,alignX:"right",alignY:"top"},{x:-10,y:30,alignX:"right",alignY:"top"},{x:-10,y:60,alignX:"right",alignY:"top"},{x:-10,y:100,alignX:"right",alignY:"top"},{x:-10,y:180,alignX:"right",alignY:"top"}],southeast:[{x:10,y:5,alignX:"left",alignY:"top"},{x:10,y:30,alignX:"left",alignY:"top"},{x:10,y:60,alignX:"left",alignY:"top"},{x:10,y:100,alignX:"left",alignY:"top"},{x:10,y:180,alignX:"left",alignY:"top"}]},qy=[{x:0,y:-66,alignX:"middle",alignY:"bottom"},{x:0,y:-33,alignX:"middle",alignY:"bottom"},{x:0,y:-16,alignX:"middle",alignY:"bottom"}],Gy=[{x:46,y:0,alignX:"left",alignY:"middle"}];function Zy(t,e,n){if(n.options.disableAnnotations)return;e=e||[];const r=n.data.config.annotation_options||{},i=t.selectAppend("g.annotations");i.selectAll("*").remove(),n.layout.container().selectAll(".annotations-footer *").remove();const a=t.node().getBoundingClientRect(),o=[a.left+n.layout.yAxisInnerPadding(),a.top+n.layout.xAxisInnerPadding()];e.forEach((function(t,e){const a=fh(n.data.fields[0],t.categorical_value);if(-1===a)return;const s=r[e]||{},l=s.type||"line",c="hide-on-mobile"===s.mobile_display;if(null==n.data.data[a])return;const u=n.data.data[a][t.series],f=n.y.scale(u),d=n.x.getPositionFromIndex(a,!0),h=Xy[t.direction]||By,p=n.options.annotationAnchorSize||4;let g;"line"===l&&i.append("line").classed("annotation-hide-on-mobile",c).attr("x1",d*n.x.rangeLength()).attr("x2",d*n.x.rangeLength()).attr("y1",n.y.scale.range()[0]).attr("y2",n.y.scale.range()[1]),"short-line"===l&&(g=i.append("line").classed("annotation-hide-on-mobile",c).attr("x1",d*n.x.rangeLength()).attr("x2",d*n.x.rangeLength()).attr("y1",f).attr("y2",f)),"text-only"!==l&&i.append("circle").classed("annotation-hide-on-mobile",c).classed("f",!0).classed("series-"+(t.series-1),!0).attr("cx",d*n.x.rangeLength()).attr("cy",f).attr("r",p);const m=i.append("text").classed("annotation-hide-on-mobile",c).attr("x",d*n.x.scale.range()[1]+h[0].x).attr("y",f+h[0].y).text(t.caption);let y=180;hd(n.layout.width(),n.options)&&(y=120),m.each(jd(y));let v=null,x=m.node().getBoundingClientRect(),b=!1;const _=function(t,e,r){if(b)return;if(!t)return;const i=d*n.x.scale.range()[1]+t.x;let a=f+t.y;a=Math.min(n.y.scale.range()[0]-x.height-6,a),"bottom"===t.alignY&&(a=f+t.y-x.height,a=Math.max(x.height+6,a)),m.attr("x",i).attr("y",a).style("text-anchor",(function(){return"right"===t.alignX?"end":"start"})),m.selectAll("tspan").attr("x",i).attr("y",a),g&&g.attr("y2",a),x=m.node().getBoundingClientRect(),v=[x.left-o[0],x.top-o[1]-12,x.right-o[0],x.bottom-o[1]+12],"force"!==r&&(function(t,e){const n=[t[0]/e.x.scale.range()[1],t[2]/e.x.scale.range()[1]];if(t[0]<0-e.layout.xAxisInnerPadding()||t[2]>e.x.scale.range()[1]+e.layout.xAxisInnerPadding()||t[1]<0-e.layout.yAxisInnerPadding()||t[1]>e.y.scale.range()[0]+e.layout.yAxisInnerPadding())return!0;const r=[99999,-99999],i=[0,1,2,3,4,5,6,7,8,9];return i.forEach((function(t){const a=n[0]+t/(i.length-1)*(n[1]-n[0]),o=e.x.getDataAtPosition(a);null!=o&&o.data.forEach((function(t){if(!t)return;const n=e.y.scale(t);isNaN(n)||(r[0]=Math.min(r[0],n),r[1]=Math.max(r[1],n))}))})),r[0]>=t[1]&&r[0]<=t[3]||r[1]>=t[1]&&r[1]<=t[3]}(v,n)||(b=t))};if(s.offset_x||s.offset_y){const t=Object.assign({},h[0]);s.offset_x&&(t.x=Number(s.offset_x)),s.offset_y&&(t.y=-1*Number(s.offset_y)),_(t,0,"force"),b=t}else h.forEach(_);if(!b&&"auto"===t.direction){const t=h[h.length-1];t.alignX="right",t.x=10,_()}}))}function Qy(t,e,n){if(n.options.disableAnnotations)return;e=e||[];const r=n.data.config.annotation_options||{},i=[],a=t.selectAppend("g.annotations");a.selectAll("*").remove(),n.layout.container().selectAll(".annotations-footer *").remove();const o=n.layout.orientation()===Am,s=n.options.stackedBand,l=s||n.options.barline;e.forEach((function(t,e){const c=fh(n.data.fields[0],t.categorical_value);if(null==n.data.data[c])return;let u=n.data.data[c][t.series];var f,d,h,p,g,m,y;s&&(u=Pd(n.data.data[c].slice(1)));const v=u<0,x=r[e]||{},b=x.type||"line",_="hide-on-mobile"===x.mobile_display;if(o){if(u=Math.max(0,u),d=n.x.scale(u)+8,f=n.y.getPositionFromIndex([c,t.series-1],l)*n.y.rangeLength(),g=Gy,n.options.labelCaps){const t=pt(".label-"+c);if(t.node()){const e=t.node().getBoundingClientRect().width;d+=e+8}}}else f=n.y.scale(u)-8,d=n.x.getPositionFromIndex([c,t.series-1],l)*n.x.rangeLength(),v&&(f+=16),g=qy;let w=!1;const M=e=>{if(w)return;if(o)h=a.append("text").attr("x",d+e.x).attr("y",f+e.y).style("text-anchor","start").text(t.caption).classed("annotation-hide-on-mobile",_),"line"===b&&(p=a.append("line").attr("x1",d).attr("x2",d+e.x-8).attr("y1",f).attr("y2",f).classed("annotation-hide-on-mobile",_));else{h=a.append("text").attr("x",d+e.x).attr("y",f+e.y).style("text-anchor","middle").text(t.caption).classed("annotation-hide-on-mobile",_),-1!==t.direction.indexOf("west")?h.style("text-anchor","end"):-1!==t.direction.indexOf("east")&&h.style("text-anchor","start");let n=e.y+8;u<0&&(n*=-1),"line"===b&&(p=a.append("line").attr("x1",d).attr("x2",d).attr("y1",f).attr("y2",f+n).classed("annotation-hide-on-mobile",_))}let r=180;hd(n.layout.width(),n.options)&&(r=120),h.each(jd(r)),o?(m=h.node().getBoundingClientRect(),y=f+e.y-m.height/2+2,h.attr("y",y),h.selectAll("tspan").attr("y",y),d+e.x+m.width>n.x.rangeLength()?(h&&h.remove(),p&&p.remove()):w=!0):(m=h.node().getBoundingClientRect(),v?(y=f-e.y,h.attr("y",y),h.selectAll("tspan").attr("y",y),f-e.y+m.height>n.y.rangeLength()?(h&&h.remove(),p&&p.remove()):w=!0):(y=f+e.y-m.height,h.attr("y",y),h.selectAll("tspan").attr("y",y),f+e.y-m.height<0?(h&&h.remove(),p&&p.remove()):w=!0))};if(x.offset_x||x.offset_y){const t=Object.assign({},g[0]);x.offset_x&&(t.x=Number(x.offset_x)),x.offset_y&&(t.y=-1*Number(x.offset_y)),M(t)}else g.forEach(M);w||i.push(t)})),n.options.preventCondensedAnnotations||function(t,e,n){if(!(e=e||[]).length)return;const r=t.selectAppend("g.annotations"),i=n.layout.container().selectAppend("div.annotations-footer");i.selectAll("*").remove();const a=n.layout.orientation()===Am,o=n.options.stackedBand,s=o||n.options.barline;e.forEach((function(t,e){const l=fh(n.data.fields[0],t.categorical_value);if(-1===l)return;let c=n.data.data[l][t.series];o&&(c=Pd(n.data.data[l].slice(1)));let u=null,f=null;const d=c<0;if(a){if(f=n.x.scale(c)+8,u=n.y.getPositionFromIndex([l,t.series],s)*n.y.rangeLength(),u-=n.y.scale.bandwidth()/2,u+=4,n.options.labelCaps){const t=pt(".label-"+l);if(t.node()){f+=t.node().getBoundingClientRect().width+8}}}else u=n.y.scale(c)-8-8,f=n.x.getPositionFromIndex([l,t.series],s)*n.x.rangeLength(),d&&(u+=16);const h=r.append("text").classed("condensed-annotation",!0).classed("horizontal",a).attr("x",f).attr("y",u+8+4).text(Array(e+2).join("*"));a||h.style("text-anchor","middle").attr("x",f),i.append("div").html('<span class="star">'+Array(e+2).join("*")+"</span> "+t.caption)}))}(t,i,n)}function Jy(t,e){return Math.min(5,Math.max(3,3/(t/e/32)))}function Ky(t,e,n){const r=t.append("g.label").attr("index",e.index).attr("orientation",e.orientation).attr("extend",e.extend).classed("highlight",e.highlight).translate(e.position);let i=[0,0],a=[0,0],o=n.options.labelLineOffset;if("top"===e.extend||"bottom"===e.extend){let t=[0,0],a=[0,0],s=e.extendLength||n.options.labelExtendLength;"top"===e.extend?(t[1]-=o,a=t.slice(0),a[1]-=s):"bottom"===e.extend&&(t[1]+=o,a=t.slice(0),a[1]+=s),r.append("line").attr("x1",t[0]+"px").attr("y1",t[1]+"px").attr("x2",a[0]+"px").attr("y2",a[1]+"px"),i=a,o=0}"right"===e.orientation?(i[0]+=o,a=i.slice(0),a[0]+=n.options.labelLineLength):"left"===e.orientation&&(i[0]-=o,a=i.slice(0),a[0]-=n.options.labelLineLength),r.append("line").attr("x1",i[0]+"px").attr("y1",i[1]+"px").attr("x2",a[0]+"px").attr("y2",a[1]+"px"),function(t,e,n){const r=t.append("g").classed(e.orientation,!0).classed("text-group",!0);if("right"===e.orientation?e.position[0]+=n.options.labelLineOffset:e.position[0]-=n.options.labelLineOffset,r.append("text").classed("line1",!0).attr("dy",0).attr("y",0).text(e.line1),e.line2){const t=r.append("text").classed("line2",!0).attr("dy",0).attr("y",n.options.labelLine2Height).text(e.line2);t.each(jd(n.options.labelTextWrapWidth,{margin:0})),t.selectAll("tspan").attr("x",0)}r.translate(e.position)}(r,{orientation:e.orientation,position:a,line1:e.valueText,line2:e.labelText},n)}function tv(t,e,n){return t.selections=()=>e,t.getEnv=()=>e[0]&&e[0].env?e[0].env:null,t.getEl=()=>e[0]&&e[0].el?e[0].el:null,t.postRender=()=>{n.layers&&n.layers.forEach((t,r)=>{e.forEach((e,i)=>{const{env:a,el:o}=e,s=a.g.select(".draw-container"),l=Object.assign({seriesOffset:r,selectIndex:i},n);t(s,o,a,l)})}),n.onRenderComplete&&n.onRenderComplete(t.getEl(),t.getEnv(),n)},t}function ev(t){const e={orientation:"x",verticalGridLength:8};return t=Object.assign(e,t),function(e,n){const r="x"===t.orientation,i=r?n.y:n.x,a=Tm[i.position()](i.scale);let o=t.length;return"left"===i.position()&&(o*=-1),i.model().tickValues()?a.tickValues(i.model().tickValues()):a.ticks(i.numTicks()),a.tickSize(o).tickFormat(""),e.call(a).classed("vertical-grid",!r).translate([-1*n.layout.yAxisInnerPadding(),-1*n.layout.xAxisInnerPadding()]),e.selectAll("g.tick").filter((function(t){return 0===t})).select("line").attr("class","zero-line"),e.selectAll("g.tick").filter((function(t){return Math.abs(i.range()[0]-i.scale(t))<5})).select("line").attr("class","hide-line"),r||e.selectAll("g.tick").select("line").attr("y1",(function(){return Number(pt(this).attr("y2"))-t.verticalGridLength})),e}}function nv(t){if(t.fields[0]&&t.fields[0].taxonomy){if("hours"===t.fields[0].taxonomy.duration||"days"===t.fields[0].taxonomy.duration||"weeks"===t.fields[0].taxonomy.duration)return 25;if("quarters"===t.fields[0].taxonomy.duration)return 0;if(eh(t.fields[0]))return 0}return 18}function rv(t,e,n){const r=n||{},i=r.checkOnly,a=r.ignoreStartEnd,o=av(t);if(o.length<3)return;let s=!1,l=null,c=null;return o.forEach((t,e)=>{if(!l)return l=t,void(c=t.getBoundingClientRect());if(i&&s)return;const n=t.getBoundingClientRect();if(c.right+4>n.left){if(s=!0,i)return;const e=pt(t);a?e.classed("hide-tick",!0):(e.classed("start-tick")||e.classed("end-tick")?l&&pt(l).classed("hide-tick",!0):e.classed("hide-tick",!0),e.classed("end-tick")&&e.classed("hide-tick",!1))}else l=t,c=n}),s}function iv(t,e){const n=av(t);e.rangeLength()/n.length<70&&n.forEach((t,e)=>{0!==e&&e!==n.length-1&&pt(t).select("tspan").text((function(){return`'${pt(this).text().slice(2)}`})),0===e?pt(t).classed("tick-start",!0):e===n.length-1&&pt(t).classed("tick-end",!0)})}function av(t){const e=t.selectAll(".tick").nodes().filter((t,e)=>{const n=pt(t);return!(n.classed("hide-text")||n.classed("hide-tick")||n.classed("start-tick")||n.classed("end-tick"))}),n=t.select(".start-tick"),r=t.select(".end-tick");return n.size()&&e.unshift(n.node()),r.size()&&e.push(r.node()),e}function ov(t,e){if(e.rangeLength()<=375)if(t.select(".start-tick").size())t.selectAll(".tick").classed("hide-tick",!0),t.select(".start-tick").classed("hide-tick",!1),t.select(".end-tick").classed("hide-tick",!1);else{const e=t.selectAll(".tick");e.filter((t,n)=>0!==n&&n!==e.size()-1).classed("hide-tick",!0)}}function sv(t,e){const n=av(t);let r=null;n.forEach(t=>{t=pt(t),r&&t.text()===r?t.classed("hide-tick",!0):r=t.text()})}function lv(t,e){const n=av(t),r=e.field();if(r.taxonomy&&r.taxonomy.noYears)return void t.selectAll(".tick").classed("hide-line2",!0);let i=null;n.forEach(t=>{(t=pt(t)).select(".line2").size()&&(i&&t.select(".line2").text()===i?t.classed("hide-line2",!0):i=t.select(".line2").text())})}function cv(t,e){const n=uv(e);if(1===n)return;let r=av(t);r=r.slice(1,r.length-1),r.forEach((t,e)=>{(e+1)%n!=0&&((t=pt(t)).classed("do-not-hide")||t.classed("hide-tick",!0))})}function uv(t){const e=t.field();return!e.auto_density&&e.label_density?Math.max(e.label_density,1):1}function fv(t,e){if(uv(e)>1){const n=uv,r=av(t);r.forEach(t=>{t=pt(t),1!==Number(t.attr("quarter"))&&t.classed("hide-tick",!0)}),pt(r[r.length-1]).classed("do-not-hide",!0),n>2&&cv(t,e)}}function dv(t,e,n){e.orientation()===Am?t.select(".domain").attr("d","M"+-1*n.layout.xAxisInnerPadding()+",0V0H"+(e.axisScale.range()[0]+n.layout.xAxisInnerPadding())+"V0").classed("vertical-baseline",!0):t.select(".domain").attr("d","M"+-1*n.layout.yAxisInnerPadding()+",0L"+(e.axisScale.range()[1]+n.layout.yAxisInnerPadding())+",0").classed("horizontal-baseline",!0)}function hv(t,e){return e.data.config&&e.data.config.hide_year_display?[t[0]]:t}function pv(t,e,n,r,i){i=i||{};const a=kd(e.field()),o=t.selectAll("g.tick"),s=pt(o.nodes()[0]),l=pt(o.nodes()[o.size()-1]),c=i.labelGutter||10;let u,f,d;dv(t,e,r),i.noStartCap||(u=t.append("g").classed("start-tick",!0),gv(u));let h="";e.axisScale.domain()[0]&&e.axisScale.domain()[0].toUTCString&&(h=Td(e.axisScale.domain()[0],e.field()));let p="";e.axisScale.domain()[1]&&e.axisScale.domain()[1].toUTCString&&(p=Td(e.axisScale.domain()[1],e.field())),i.noStartCap||u.select("text").classed("start-text",!0).text(h),null==i.noEndCap&&(i.noEndCap=!0),i.noEndCap||(f=t.append("g").classed("end-tick",!0).attr("transform","translate("+e.axisScale.range()[1]+",0)"),gv(f),f.select("text").classed("end-text",!0).text(p)),d=t.selectAll("g.tick").select("text").each((function(t,r){const o=pt(this),s=o.text(),l=o.attr("y");let c=n;i.startCapFormatters&&o.classed("start-text")&&(i.requiresFormatting?i.requiresFormatting(s)&&(c=i.startCapFormatters):c=i.startCapFormatters),o.text(null),o.append("tspan").attr("x",0).attr("y",l).attr("dy",e.axisTextMarginHorizontal()+"px").classed("line1",!0).text(c[0](a(s))),c[1]&&!i.axisTextSingleLine&&o.append("tspan").attr("x",0).attr("y",l).attr("dy",e.axisTextMarginHorizontal()+e.axisTextLineHeight()+"px").classed("line2",!0).text(c[1](a(s)))}));let g=2+o.size();return o.each((function(){!i.noStartCap&&(u.node().getBoundingClientRect().right>this.getBoundingClientRect().left-c||u.text()===pt(this).text())&&(pt(this).classed("hide-tick",!0),g--),!i.noEndCap&&(this.getBoundingClientRect().right+c>f.node().getBoundingClientRect().left||f.text()===pt(this).text())&&(i.endCapPriority?pt(this).classed("hide-tick",!0):f.classed("hide-tick",!0),g--)})),{initial:o,all:d,first:s,last:l,start:u,end:f,visibleCount:g}}function gv(t){t.classed("tick",!0),t.append("line").attr("x1",.5).attr("x2",.5).attr("y2",6),t.append("text").attr("y",9).attr("x",.5).attr("dy","0.71em").attr("text-anchor","middle")}function mv(t,e,n,r){var i=Math.max(2,Math.floor(e.range()[1]/e.tickStepHorizontal()));return e.range()[1]<600&&(i*=1.5),i/=uv(e),e.model().ticks(i).tickFormat((function(t,n){return Td(t,e.field())})),t.call(e.model()),pv(t,e,[t=>t.format("HH:mm"),t=>t.format("MMM D")],n),rv(t),lv(t,e),t}function yv(t,e,n,r){var i=Math.max(2,Math.floor(e.rangeLength()/e.tickStepHorizontal()));return i/=uv(e),e.model().ticks(i).tickFormat((function(t,n){return Td(t,e.field())})),t.call(e.model()),pv(t,e,[t=>t.format("ddd"),t=>t.format("MMM D")],n,{noEndCap:!1}),sv(t),rv(t),lv(t,e),t}function vv(t,e,n){var r,i=hv([t=>t.format("MMM D"),t=>t.format("YYYY")],n);e.model().ticks(Fl).tickFormat((function(t,n){return Td(t,e.field())})),t.call(e.model()),r=pv(t,e,i,n,{noEndCap:!1,endCapPriority:!0});return r.initial.each((function(){var t,e,n=pt(this);n.classed("hide-tick")||(t=n.select(".line1").text(),e=t.split(" "),-1===["1","15"].indexOf(e[e.length-1])&&n.classed("hide-tick",!0))})),sv(t),rv(t),cv(t,e),lv(t,e),t}function xv(t,e,n,r){r=r||{};var i=Math.max(2,Math.floor(e.rangeLength()/e.tickStepHorizontal())),a=hv([t=>t.format("MMM"),t=>t.format("YYYY")],n),o=uv(e);return i/=o,o>2&&(r.noEndCap=!1),n.data.chartOptions&&n.data.chartOptions.dateOutputFormat&&("Quarterly"===n.data.chartOptions.dateOutputFormat?a[0]=Xd:"Yearly"===n.data.chartOptions.dateOutputFormat&&(a=[t=>t.format("YYYY")])),e.model().ticks(i).tickFormat((function(t,n){return Td(t,e.field())})),t.call(e.model()),pv(t,e,a,n,r),sv(t),rv(t),lv(t,e),t}function bv(t,e,n){let r=Math.max(2,Math.floor(e.range()[1]/e.tickStepHorizontal()));const i=qh(e.field(),e.axisScale.domain()),a={noStartCap:!1,noEndCap:!0,endCapPriority:!1},o=e.rangeLength()<=375,s=e.orientation()===Am,l=o||eh(e.field());return r=Math.min(r,i),r/=uv(e),a.noStartCap=!function(t,e,n){const r=t.scale.domain(),i=t.rangeLength()/e;return Number(Ad(r[0]).format("M"))<7&&i>80}(e,r),o&&(a.noEndCap=!1,a.noStartCap=!1),e.model().ticks(r).tickFormat((function(t,n){return Td(t,e.field())})),t.call(e.model()),pv(t,e,[t=>t.format("YYYY")],n,a),l||s||iv(t,e),o?ov(t,e):(rv(t),sv(t)),t}function _v(t,e,n){var r=Math.max(2,Math.floor(e.rangeLength()/(2*e.tickStepHorizontal()))),i=qh(e.field(),e.axisScale.domain());return r=Math.min(r,i),r/=uv(e),e.model().ticks(r).tickFormat((function(t,n){if(t.toUTCString)return Td(t,e.field())})),t.call(e.model()),pv(t,e,[t=>t.format("YYYY")],n,{axisTextSingleLine:!0,labelGutter:30,noEndCap:!1,endCapPriority:!1}),ov(t,e),sv(t),t}const wv=(t,e)=>{const n=td(Math.floor(Math.min(14,Math.max(2,Math.abs(e[1]-e[0])/t)))+1).map(n=>e[0]+n*t);return[n,[n[0],n[n.length-1]]]};function Mv(t,e,n,r){const i=(t=>{let e=1;return t.field().display_as&&Rd[t.field().display_as]&&(e=Rd[t.field().display_as]),t=>t*e})(e),a=e.orientation()===Am,o=a?e.range()[0]:e.range()[1],s=a?e.tickStepVertical():e.tickStepHorizontal(),l=ph(n.data),c=l||n.options.forceTickAtDomainTop,u=null==n.options.minimumTicks?3:n.options.minimumTicks,f=n.options.forceNoTicks;let d,h,p,g={bareValue:!0,voidDecimals:!0,forceCommaDisplay:n.options.forceCommaDisplay||n.data.config.force_comma_display},m=Gd(e,n,g),y=e.axisScale.domain(),v=Math.min(8,Math.max(u,Math.floor(o/s)));if(l||(e.axisScale.nice(Math.max(v,u)),y=e.axisScale.domain()),e.numTicks(v),e.model().ticks(v).tickFormat(m),c){if(v=((t,e)=>{let n=!1;for(;!n&&t<8;){let r=yo(e[0],e[1],t);r[r.length-1]===e[1]?n=!0:t++}return t})(u,y),p=yo(y[0],y[1],v),p.length>v&&Bh(n.data)){const t=function(t,e){for(t=Math.abs(t),e=Math.abs(e);e;){var n=e;e=t%e,t=n}return t}(y[0],y[1]),[e]=wv(t,y);e.length<p.length&&(v=e.length,p=e)}e.numTicks(v),e.model().tickValues(p)}if(gh(n.data)){const t=n.data.chartOptions.scaleStep;y=e.axisScale.domain();const[r,i]=wv(t,y);v=r.length,e.numTicks(v),e.model().tickValues(r),e.axisScale.domain(i)}const x=y.map(i);p=yo(x[0],x[1],v),f&&(p=x,e.model().tickValues(p)),g=Zd(p,g,e,n),m=Gd(e,n,g),e.model().tickFormat(m),d=t.call(e.model()).classed(e.position(),!0).classed("vcenter",!!e.val("axisTextCenterVertical"));const b=e.rangeLength()/p.length>25;if(a&&!b){Kh(n.data)("Too many ticks for proper grid display. Please set custom step.",()=>!0)}if(a&&d.classed("no-domain",!0),a&&b){let t=0,r=8;d.classed("no-line",e.noDomainLine()),d.classed("variant-above",!0);const i=d.selectAll(".tick text");i.each((function(t,e){const n=pt(this),r=n.text(),a=r.replace(/[^\d,.-]/g,""),o=r.split(a);0===Number(a)&&pt(n.node().parentElement).classed("zero-line",!0),e===i.size()-1?n.html(`<tspan class="pre">${o[0]}</tspan><tspan class="val">${a}</tspan><tspan class="post">${o[1]}</tspan>`):n.html(`<tspan class="val">${a}</tspan>`)})),d.selectAll(".tick tspan.val").each((function(e,n){this.getComputedTextLength&&(t=Math.max(t,this.getComputedTextLength()))})),d.select(".tick").classed("base",!0),d.selectAll(".tick").each((function(e,n){const i=0===n?-.5:0,a=pt(this),{translateY:o}=lo(a.attr("transform"));a.translate([t-r,o+i])})),d.selectAll(".tick text").attr("dy","-9px"),d.selectAll(".tick line").style("visibility","visible").style("display","block").attr("x1",-1*t+r).attr("x2",8),function(t,e,n){Dm(n)&&n.layout.addPostLayoutHandler((n,r,i)=>{const a=r.g.select(".axis-x .domain"),o=a.attr("d").split("L");let s=i.outerWidth()-i.yAxisInnerPadding();s+=e,a.attr("d",`${o[0]}L${s},0`),a.attr("tick-extend-has-executed",!0),t.select("line").style("display","none")})}(d.select(".tick.base"),t,n)}t.node().getBoundingClientRect(),h=t.selectAll("g.tick");const _=e.axisScale.domain()[0]<0;if(e.tickLabelAlternate()){const t=h.size()%2==0?0:1,e=h.size()>5;h.each((function(n,r){_?r%2===t&&pt(this).classed("hide-text",!0):(e&&0===r||r%2===t)&&pt(this).classed("hide-text",!0)}))}return 1===av(t).length&&pt(h.nodes()[0]).classed("hide-text",!1),t}function kv(t,e,n,r){var i=e.orientation()===Am,a=e.axisTextPadding();if(e.model().tickFormat((function(t){return n.options.categoricalFormatter?n.options.categoricalFormatter(t):t})),t.call(e.model()).classed("no-ticks",!1),t.selectAll("g.tick text").each((function(t,e){const n=pt(this),r=n.text();pt(n.node().parentNode).attr("tick-value",r)})),function(t,e){e.orientation()===km?t.selectAppend("line.bounds").attr("y",0).attr("x1",e.scale.range()[0]).attr("x2",e.scale.range()[1]).style("stroke","transparent"):t.selectAppend("line.bounds").attr("x",0).attr("y1",e.scale.range()[0]).attr("y2",e.scale.range()[1]).style("stroke","transparent")}(t,e),dv(t,e,n),i)if(t.selectAll("g.tick line").attr("display","none"),n.options.multilineFormatter&&t.selectAll("g.tick text").each(Ld({margin:e.axisTextMarginHorizontal(),lineHeight:e.axisTextLineHeight(),isHorizontalText:!0})),n.options.mobileColumnChart){var o=e.axisScale.bandwidth()/2*-1;o-=n.options.mobileColumnOffset||0,t.selectAll("g.tick text").classed("left-align",!0).attr("dy",o+"px")}else e.verticalAxisWrapWidth&&t.selectAll("g.tick text").each(Av(e.verticalAxisWrapWidth(),e));else n.options.multilineFormatter?t.selectAll("g.tick text").each(Ld({margin:e.axisTextMarginHorizontal(),lineHeight:e.axisTextLineHeight()})):e.axisScale.step&&t.selectAll("g.tick text").each(Av(e.axisScale.step()-a,e)),Dm(n)&&!function(t){return!!Bh(t.data)||(-1!==["line","area","barline"].indexOf(t.data.chartType)||(np(t.el,t.data,t.options)<50||!!ep(t.el,t.data,t.options)))}(n)&&(t.classed("no-ticks",!0),t.selectAll("g.tick").each((function(){const t=pt(this),{translateX:e}=lo(t.attr("transform"));t.translate([e,-6])})));return i||(sv(t),lv(t,e),1===uv(e)?function(t,e,n){const r=n||{minDensity:38},i=av(t),a=t.node().getBBox().width,o=i.length/a;!(i.length<3)&&(!(o>r.minDensity)&&rv(t,0,r))}(t):cv(t,e)),t}function Av(t,e){return function(n){var r,i=Number(t),a=pt(this),o=a.text().replace(/\n|<br>/g," <N> ").trim().split(/\s+/).reverse(),s=[],l=0,c=e.orientation()===Am,u=e.axisTextLineHeight(),f=a.attr("y"),d=e.axisTextMarginHorizontal();e.orientation()===Am&&(d=e.axisTextMarginVertical());var h=a.text(null).append("tspan").attr("x",0).attr("y",f).attr("dy",d+"px"),p=!1;c&&(u=e.axisTextLineHeightHorizontal()),1===o.length&&(i=9999);for(var g=0;r=o.pop();)s.push(r),g++,h.text(s.join(" ")),h.classed("line-"+(l+1)),h.attr("yval",l*u+d),(h.node().getComputedTextLength()>i&&g>1||"<N>"===r)&&("<N>"===r&&(r=""),p=!0,s.pop(),h.text(s.join(" ").trim()),s=[r],h=a.append("tspan").attr("x",0).attr("y",f).attr("dy",++l*u+d+"px").attr("yval",l*u+d).text(r));if(p&&e.orientation()===Am){var m=a.node().getBoundingClientRect().height;a.selectAll("tspan").attr("dy",(function(){return pt(this).attr("yval")-m/4+4+"px"}))}}}function Sv(t,e,n,r){kv(t,e,n);const i=e.orientation()===Am,a=eh(e.field());return a||i||iv(t,e),function(t){const e=t.selectAll(".tick").nodes();e[0]&&pt(e[0]).classed("start-tick",!0),e[e.length-1]&&pt(e[e.length-1]).classed("end-tick",!0)}(t),ov(t,e),cv(t,e),function(t,e,n){if((n=n||{}).spacing=n.spacing||40,n.forceFormat||rv(t,0,{checkOnly:!0})){const r=av(t),i=t=>Number(Ad(t).format("YYYY")),a=e.scale.domain(),o=[i(a[0]),i(a[a.length-1])],s=e.rangeLength()/n.spacing,l=yo(o[0],o[1],s),c={};r.forEach((t,e)=>{const r=pt(t),i=Number(r.attr("tick-value"));-1===l.indexOf(i)||c[i]?r.classed("hide-tick",!0):(c[i]=!0,r.classed("hide-tick",!1)),n.abbreviations&&i===l[0]&&r.classed("start-tick",!0).select("tspan").text(i),n.abbreviations&&i===l[l.length-1]&&r.classed("end-tick",!0).select("tspan").text(i)}),rv(t)}}(t,e,{abbreviations:!a}),t}function Tv(t,e,n,r){const i=e.field();e.model().tickFormat(t=>t),t.call(e.model()),dv(t,e,n);var a=t.selectAll("g.tick text"),o=pt(a.nodes()[0]).text(),s=i.taxonomy.valueParser(o)[1]%2==0?0:1;return a.each((function(t,n){var r,a,o,l,c=pt(this),u=c.text(),f=c.attr("y");[a,r]=i.taxonomy.valueParser(u),l="Q"+r,0!==n&&e.axisScale.bandwidth()<=25&&e.axisScale.bandwidth()>15?l=n%2===s?"":l:0!==n&&e.axisScale.bandwidth()<=15&&(l=1===r?l:""),pt(this.parentNode).attr("quarter",r),c.text(null),c.append("tspan").attr("x",0).attr("y",f).attr("dy",e.axisTextMarginHorizontal()+"px").classed("line1",!0).text(l),o=a,c.append("tspan").attr("x",0).attr("y",f).attr("dy",e.axisTextMarginHorizontal()+e.axisTextLineHeight()+"px").classed("line2",!0).text(o),""===l&&pt(c.node().parentNode).classed("hide-tick",!0)})),rv(t),fv(t,e),lv(t,e),t}function Yv(t,e,n,r){r=r||{};var i=e.field(),a=kd(i),o=n.data.chartOptions.dateOutputFormat,s=function(t,e,n){return"Yearly"===t?t=>e(t).format("YYYY"):"Monthly"===t?n.data.config&&n.data.config.hide_year_display?t=>e(t).format("MMM"):function(t){const n=e(t);return`${n.format("MMM")}//${n.format("YYYY")}`}:"Intraday"===t?function(t){const n=e(t);return`${n.format("H:mm")}//${n.format("MMM D")}`}:"Daily"===t?function(t){const n=e(t);return`${n.format("ddd")}//${n.format("MMM D")}`}:"Quarterly"===t?n.data.config&&n.data.config.hide_year_display?t=>Xd(e(t)):function(t){const n=e(t);return`${Xd(n)}//${n.format("YYYY")}`}:t=>t}(o,a,n),l=[],c=[],u=null;i.data.forEach((t,e)=>{if(t){var n=s(t);n!==u&&(c.push([t,e]),l.push(n),u=n)}}),e.model().ticks(0),t.call(e.model()),dv(t,e,n);var f=t.selectAll(".tick").data(c);return f.exit().remove(),f.enter().append("g").attr("class","tick").translate(t=>[e.axisScale(a(t[0])),0]).append("line").attr("stroke","#000").attr("y2",6),t.selectAll(".tick").each((function(t,n){var i=pt(this);i.select("text").remove();var a=l[n].split("//"),o=i.append("text").attr("fill","#000").attr("y",9).attr("dy","0.71em");o.append("tspan").attr("x",0).attr("y",9).attr("dy",e.axisTextMarginHorizontal()+"px").classed("line1",!0).text(a[0]),a[1]&&!r.axisTextSingleLine&&o.append("tspan").attr("x",0).attr("y",9).attr("dy",e.axisTextMarginHorizontal()+e.axisTextLineHeight()+"px").classed("line2",!0).text(a[1])})),rv(t),lv(t,e),"Quarterly"===o?fv(t,e):cv(t,e),t}function Dv(t,e){const n=t.data.chartOptions||{},r=e?t.x.field():t.y.field(),i=r.display_as;let a="";const o=r.label||r.caption||n.label||"";let s=r["label-left"]||r.unit_before||n.unitBefore||"",l=r["label-right"]||r.unit_after||n.unitAfter||"",c="",u="";const f=e?"middle":"end";let d;if(t.layout.g().select("g.axis-label-box").remove(),t.options.labelCaps)return;let h=t.layout.yAxis();const p=qd(r);e&&(h=t.layout.xAxis()),d=h.selectAll("g.tick");let g=pt(d.nodes()[d.nodes().length-1]);if(!g.size())return;g.select("text .val").size()?(a=g.select("text .val").text(),g.select("text .pre").size()&&(c=g.select("text .pre").text()),g.select("text .post").size()&&(u=g.select("text .post").text())):a=g.select("text").text(),g.classed("hide-text",!1),i&&"%"!==i&&i===l&&(l=""),s=s.replace(/ /g,"&nbsp;"),l=l.replace(/ /g,"&nbsp;");const m=s+c,y=`\n    <tspan class="pre">${m}</tspan>\n    <tspan class="val" dx="-3">${a}</tspan>\n    <tspan class="post" dx="${-3-(function(t){return-1!==["terminal","coth"].indexOf(t.data.theme)}(t)?1.5:0)}">${u}${o?`&nbsp;${o}`:l}</tspan>\n  `;if(p){const t=g.select("text");t.html(y);const e=Number(t.attr("x")),n=m.length&&!(u+l).length?0:3;let r=0;t.select(".post").node()&&(r=t.select(".post").node().getComputedTextLength()+n),t.attr("x",e+r)}else if(e)g.select("text").html(y);else{const n=t.layout.draw().node().getBoundingClientRect(),r=t.layout.extents().node().getBoundingClientRect(),i=h.node().getBoundingClientRect(),a=h.classed("variant-above"),o=g.node().getBoundingClientRect(),s=t.layout.yAxisInnerPadding(),l=t.layout.xAxisInnerPadding(),c=r.top-n.top;let u=i.right-n.left-s,d=o.bottom-n.top-l-9.5-c;const p=t.layout.draw().selectAppend("g.axis-label-box");m||(u+=3),a||(d+=5),p.translate([u,d]);const v=p.selectAppend("text").attr("text-anchor",f).html(y),x=v.node().getBoundingClientRect().width,b=e?x/2:0,_=document.createElementNS("http://www.w3.org/2000/svg","rect");_.setAttribute("x",0-x-4-b),_.setAttribute("y",-17),_.setAttribute("width",x+4),_.setAttribute("height",19),p.node().insertBefore(_,v.node())}}function Ov(t,e,n,r){r=r||{};var i=e.field();if(i){if(e.isPrimaryAxis()&&n.data.chartOptions.dateOutputFormat&&"line"===n.data.chartType&&!r.forceBand)return Yv.apply(this,arguments);if(e.isPrimaryAxis()&&n.data.chartOptions.dateOutputFormat){var a=n.data.chartOptions.dateOutputFormat,o=$d;if("Categorical"!==a)return"Yearly"===a?(n.options.categoricalFormatter=o("YYYY"),Sv.apply(this,arguments)):Yv.apply(this,arguments)}if(r.forceBand){if(n.layout.orientation()!==Am&&i.taxonomy&&i.taxonomy.isDate){if("quarters"===i.taxonomy.duration)return Tv.apply(this,arguments);if(i.taxonomy.isYears)return Sv.apply(this,arguments)}return kv.apply(this,arguments)}return i.taxonomy&&i.taxonomy.isDate?"months"===i.taxonomy.duration?xv.apply(this,arguments):"years"===i.taxonomy.duration||"decade"===i.taxonomy.duration?bv.apply(this,arguments):"multidecade"===i.taxonomy.duration||"century"===i.taxonomy.duration?_v.apply(this,arguments):"weeks"===i.taxonomy.duration?vv.apply(this,arguments):"days"===i.taxonomy.duration?yv.apply(this,arguments):"hours"===i.taxonomy.duration?mv.apply(this,arguments):bv.apply(this,arguments):i.taxonomy.isContinuous?Mv.apply(this,arguments):kv.apply(this,arguments)}}function Cv(t,e){Object.keys(e).forEach((function(n){t[n]=function(r){return void 0===r?e[n]:(e[n]=r,t)}})),t.val=function(e,n){return void 0===n?t[e]:(t[e]=n,t)}}function Nv(t,e){let n={type:"linear",orientation:Am,position:"right",range:[0,500],rangeMax:null,data:null,model:null,series:null,field:null,isPrimaryAxis:!1,tickStepVertical:100,tickStepHorizontal:100,tickLabelAlternate:!1,axisTextMarginHorizontal:19,axisTextMarginVertical:2,axisTextLineHeight:16,axisTextPadding:6,axisTextCenterVertical:!0,axisLabelPaddingVertical:16,labelReducer:null,noDomainLine:!0,stackedDomain:!1,defaultHeight:30,lineDensityBreakpoint:250,lineDensityMultiplier:.75,padLabelLineHeight:16,numTicks:1};n=Object.assign(n,t||{}),e=e||{};const r=function(t,e){return t.selectAll("*").remove(),r.rangeLength()<n.lineDensityBreakpoint&&(n.tickStepVertical*=n.lineDensityMultiplier,n.tickStepHorizontal*=n.lineDensityMultiplier),e.options.disableAxis||Ov(t,r,e),t};return Cv(r,n),r.scale=Wr(),r.axisScale=null,r.data=function(t){if(t){r.series(Kd(t)),r.field(e.field||th(t,n.isPrimaryAxis));var i=null;return i=r.stackedDomain()?oh(t):ah(r.series(),n.domainFromZero),r.scale.domain(i).nice(),i=r.scale.domain(),t.chartOptions&&null!=t.chartOptions.scaleStart&&(i[0]=t.chartOptions.scaleStart),t.chartOptions&&null!=t.chartOptions.scaleEnd&&(i[1]=t.chartOptions.scaleEnd),r.scale.domain(i).rangeRound(n.range),r.axisScale=r.scale,r.model(Tm[n.position](r.axisScale)),n.data=t,r}return n.data},n.data&&r.data(n.data),r.scaleIndex=function(t){return r.scale(r.field()[t])},r.getDataAtPosition=function(t){},r.rangeLength=function(){return Math.abs(r.scale.range()[1]-r.scale.range()[0])},r}function Pv(t){let e={type:"band",isPrimaryAxis:!0,orientation:km,position:"bottom",range:[0,500],data:null,model:null,series:null,field:null,domain:[0,100],padding:.3,outerPadding:0,tickStep:30,tickStepHorizontal:100,tickStepVertical:60,axisTextMarginHorizontal:16,axisTextMarginVertical:4,axisTextLineHeight:18,axisTextLineHeightMobile:14,axisTextLineHeightHorizontal:15,axisTextPadding:6,horizontalBarHeight:32,horizontalBarPadding:.2,verticalAxisWrapWidth:300,tickLabelAlternate:!1,stackedBand:!1,stackedDomain:!1,isDateAxis:!1,numTicks:1};e=Object.assign(e,t||{});const n=function(t,r){return t.selectAll("*").remove(),hd(r.el.node().offsetWidth,r.options)&&(n.axisTextMarginHorizontal(10),n.axisTextLineHeight(e.axisTextLineHeightMobile)),r.options.disableAxis||Ov(t,n,r,{forceBand:!n.isDateAxis()}),t};return Cv(n,e),n.scale=mr(),n.seriesScale=mr(),n.axisScale=null,n.data=function(t){if(t){n.series(Kd(t)),n.field(th(t,e.isPrimaryAxis));const r=n.field();if(n.scale.domain(r.data).paddingInner(e.padding).paddingOuter(e.outerPadding).range(e.range),e.orientation===Am){let t=e.horizontalBarHeight*n.series().length;n.stackedBand()&&(t=e.horizontalBarHeight),e.range[0]=0,e.range[1]=e.field.data.length*t,n.scale.range(e.range).padding(e.horizontalBarPadding).bandwidth(t)}return n.seriesScale.domain(ho(n.series().length)).range([0,n.scale.bandwidth()]),n.isDateAxis()&&(n.axisScale=Ia().domain([r.taxonomy.dateStart,r.taxonomy.dateEnd]).range(n.range())),n.axisScale=n.axisScale||n.scale,n.model(Tm[e.position](n.axisScale)),e.data=t,n}return e.data},e.data&&n.data(e.data),n.scaleIndex=function(t){return n.scale(n.field()[t])},n.getDataAtPosition=function(t){const e=Hv(n.scale,t),r=[];let i={index:0};return n.series().length>1&&(i=Hv(n.seriesScale,e.position)),-1===e.index||void 0===n.data().fields[i.index+1]?null:(n.series().forEach((function(t){r.push(t.data[e.index])})),{dataIndex:e.index,seriesIndex:i.index,data:r})},n.getPositionFromIndex=function(t,e){let r,i=t,a=0;return 1===n.series().length&&(e=!0),t.length&&(i=t[0],a=t[1]||0),r=n.scale(n.field().data[i]),e?r+=.5*n.scale.bandwidth():(r+=n.seriesScale(a),r+=.5*n.seriesScale.bandwidth()),r/n.rangeLength()},n.rangeLength=function(){return Math.abs(n.scale.range()[1]-n.scale.range()[0])},n}function Hv(t,e){const n=t.step()*t.paddingOuter();let r,i,a,o=e*Math.abs(t.range()[1]-t.range()[0]);return o-=n,r=Math.floor(o/t.step()),a=t.domain()[r],i=o-t(a)+n,i>t.bandwidth()?{index:-1,position:0}:{index:r,position:i/t.bandwidth()}}function jv(t,e){let n={primaryAxis:Nv(),secondaryAxis:Nv(),orientation:km,secondaryOrientation:Am,xAxisPosition:"bottom",yAxisPosition:"right",yAxisPadding:8,yAxisInnerPadding:10,yAxisTickWidth:0,xAxisInnerPadding:0,xAxisMinHeight:30,yAxisForceZeroWidth:!1,xAxisForceZeroWidth:!1,xAxisExtendRight:0,width:0,outerWidth:0,height:0,minHeight:null,minHeightHorizontal:240,minHeightVertical:0,outerHeight:0,legend:null,xAxis:null,yAxis:null,container:null,svg:null,g:null,draw:null,extents:null,aspectDrivenHeight:!0,aspectRatio:"5:2",maxAspectHeight:620,maxAspectRatioForTerminal:1,isMobile:!1,isMedium:!1,isLarge:!0,chartFrameMarginWidth:30,verticalAxisShift:5,padding:0,verticalBandHeight:80,expectedFrameHeight:160,margin:{top:10,right:0,bottom:0,left:0},padBottom:8,fixedHeightSizing:!1,fixedHeight:385};n=Object.assign(n,t);const r=[],i=function(t,e){const r=t,a=i.margin();let o=r.node().offsetWidth,s=o,l=s+n.chartFrameMarginWidth,c=r.node().offsetHeight,u=c,f=i.primaryAxis(),d=i.secondaryAxis();if(e.layout=i,i.aspectDrivenHeight()){const t=Cm(e.data,i.aspectRatio(),n,e.options);let r=0;e.options.ratioHeightOffset&&(r=n.expectedFrameHeight),c=Math.min(i.maxAspectHeight(),Math.round(i.heightOrMin(o/t-r)))}if(i.fixedHeightSizing()){const t=pt(r.node().parentNode),e=t.select(".header").node(),i=t.select(".simple-legend").node(),a=t.select(".footer").node();let o=Nm(t.node(),"padding-top","padding-bottom").map(t=>Number(t.replace("px",""))).reduce((t,e)=>t+e);e.offsetHeight&&(o+=e.offsetHeight+Pm(e)),o+=i.offsetHeight+Pm(i),a.offsetHeight&&(o+=a.offsetHeight+Pm(a)),c=Math.round(n.fixedHeight-o),r.style("height",c+"px")}i.orientation()===Am&&(f=i.secondaryAxis(),d=i.primaryAxis(),c=i.verticalBandHeight()*e.data.data.length,c+=a.top+a.bottom,c=Math.round(c));const h=e.options.mobileBreakpoint||600;l<=(e.options.largeBreakpoint||880)&&l>h?i.isLarge(!1).isMedium(!0):l<=h&&i.isLarge(!1).isMobile(!0),c=i.heightOrMin(c);const p=r.selectAppend("svg").style("width",o+"px").style("height",c+"px"),g=p.selectAppend("g.margin");c-=a.top+a.bottom+i.padBottom(),i.orientation()===km&&(c-=i.xAxisMinHeight()),d.orientation(Am).position(i.yAxisPosition()).range([c,0]).data(e.data);const m=g.selectAppend("g.axis.axis-y").call(d,e);let y=m.node().getBoundingClientRect().width;i.yAxisForceZeroWidth()&&(y=0),"right"===i.yAxisPosition()?(a.right=Math.max(a.right,Math.ceil(y+i.yAxisPadding())),s-=a.right+a.left,m.attr("transform","translate("+s+", 0)")):(a.left=Math.max(a.left,Math.ceil(y)),s-=a.right+a.left),i.orientation()===Am&&(c=i.heightOrMin(d.rangeLength()),u=c,p.style("width",o+"px").style("height",Math.round(c+a.top+a.bottom+i.padBottom())+"px"),"left"===i.yAxisPosition()&&m.translate([n.verticalAxisShift,0])),g.attr("transform","translate("+[a.left,a.top]+")").attr("data-transform-x",a.left).attr("data-transform-y",a.top),o=s-2*i.yAxisInnerPadding(),f.orientation(km).position(i.xAxisPosition()).range([0,o-i.xAxisExtendRight()]).data(e.data),c=Math.round(c);const v=g.selectAppend("g.axis.axis-x").translate([i.yAxisInnerPadding(),c]).call(f,e),x=v.node().getBoundingClientRect().height;i.orientation()===km&&x>i.xAxisMinHeight()&&(c=Math.round(c-(x-i.xAxisMinHeight())),v.translate([i.yAxisInnerPadding(),c]),d.range([c,0]).data(e.data),m.call(d,e)),i.orientation()===Am&&(d.range([0,c]),v.translate([0,c]).classed("axis-secondary",!0));const b=g.selectAppend("g.draw-container").translate([i.yAxisInnerPadding(),0]),_=b.selectAppend("rect.extents").attr("x",0).attr("y",0).attr("width",f.rangeLength()).attr("height",d.rangeLength());return i.g(g),i.draw(b),i.extents(_),i.container(r),i.xAxis(v),i.yAxis(m),i.svg(p),i.margin(a),i.width(o),i.outerWidth(s),i.height(c),i.outerHeight(u),e.y=d,e.x=f,e.g=g,i.emitPostLayout(t,e),t};return i.update=function(){},i.overflowScale=function(){const t=i.svg().node().getBoundingClientRect(),e=i.g().node().getBBox(),n=i.margin(),r=Math.max(t.height,e.height);let a=Math.max(n.top,-1*e.y),o=0;e.x<0&&(o+=-1*e.x);let s=`translate(${o}, ${a})`;if(e.width>t.width){s=`translate(${o}, ${a}) scale(${t.width/e.width})`}i.svg().style("height",`${r}px`),i.g().style("transform-origin","top left").style("-webkit-transform-origin","top left").attr("transform",s).style("transform",s).style("-webkit-transform",s)},i.getMinHeight=()=>null!==i.minHeight()?i.minHeight():i.orientation()===km?i.minHeightHorizontal():i.minHeightVertical(),i.heightOrMin=t=>Math.round(Math.max(i.getMinHeight(),t)),i.addPostLayoutHandler=t=>{r.push(t)},i.emitPostLayout=(t,e)=>{r.forEach(n=>{n(t,e,i)})},Cv(i,n),i}function Lv(t){const e="localhost"===window.location.hostname;(t.options.debug||e)&&(window.env=t,window.d3select=pt,window.moment=yd)}function Ev(t,e,n){n=Ny({fontSizeRatio:1,columnWidthBreakpointMin:30,columnWidthBreakpointMax:1250,textLengthBreakpoint:20,columnWidthLongTextBreakpoint:80,smallWidthBreakpoint:500,mobileWidthBreakpoint:380,mobileColumnOffset:6,tooltipOffsetX:7,tooltipOffsetY:7,tooltipLineHeight:30,tooltipMaxWidth:160,tooltipAnchorSize:4,dateAxisInnerPadding:15,maxLinesBeforeCondense:15,maxLinesBeforeCondenseSingle:15,columnLabelOffset:8,layoutManager:{yAxisInnerPadding:0,xAxisExtendRight:7,margin:{top:10,right:0,bottom:0,left:0}},bandAxis:{horizontalBarHeight:32,horizontalBarHeightCondensed:24,horizontalBarPadding:.2,horizontalBarPaddingCondensed:.12,horizontalBarHeightMin:10,axisTextLineHeight:18,axisTextLineHeightHorizontal:18},dateAxis:{},linearAxis:{}},n);const r=pt(t).classed("toaster-chart-column",!0).classed("bar-colors",!0).classed("quad-colors",Fh(e));Wv(e);const i=Ry(r,e,n);let a=km,o="right",s=Iv(r,e,i.options),l=!1;if(s||(l=Rv(r,e,i.options)),s){e.config&&e.config.sort_by_value&&!zh(e)&&(Wh(e)?sh(e,{direction:"ascending"}):sh(e)),a=Am,o="left",i.options.labelCaps=!0,i.options.tableLabels=!1,i.options.disableGrid=!0,i.options.layoutManager.margin.top=0,i.options.layoutManager.margin.bottom=20,i.options.layoutManager.margin.right=30,i.options.layoutManager.margin.left=0,i.options.layoutManager.yAxisInnerPadding=0,i.options.layoutManager.verticalAxisShift=0;const t=Kd(e),n=function(t,e){let n="5:2";t.data.chartOptions&&t.data.chartOptions.aspectRatio&&(n=t.data.chartOptions.aspectRatio);"string"==typeof n&&(n=n.split(":")[0]/n.split(":")[1]);t.options.ratioHeightOffset&&(n+=1);return Math.max(.6,Math.min(3,2.3/n))}(i),{minHeight:s}=i.options.layoutManager;let l=0;if(s&&(l=s/Bv(i.data)),i.options.mobileColumnChart)i.options.bandAxis.horizontalBarHeight=30+25/t.length,i.options.bandAxis.horizontalBarPadding=.2+.35/t.length,i.options.layoutManager.yAxisInnerPadding=0,i.options.layoutManager.yAxisForceZeroWidth=!0,i.options.layoutManager.verticalAxisShift=8;else{const t=r.node().offsetWidth;i.options.bandAxis.verticalAxisWrapWidth=t/2,i.options.bandAxis.horizontalBarHeight*=n,i.options.screenshotMode&&(i.options.bandAxis.horizontalBarHeight=Math.max(l,i.options.bandAxis.horizontalBarHeight)),hd(t,i.options)&&(i.options.bandAxis.axisTextLineHeightHorizontal=12)}!i.options.mobileColumnChart&&(t.length>1&&e.data.length*t.length>i.options.maxLinesBeforeCondense||e.data.length>i.options.maxLinesBeforeCondenseSingle)&&(i.options.condensedView=!0,i.options.labelCaps=!1,i.options.disableGrid=!1,i.options.bandAxis.horizontalBarHeight=Math.max(l,i.options.bandAxis.horizontalBarHeightMin,i.options.bandAxis.horizontalBarHeightCondensed*n/t.length),i.options.bandAxis.horizontalBarPadding=i.options.bandAxis.horizontalBarPaddingCondensed),i.options.labelCaps&&!i.options.mobileColumnChart?i.options.layoutManager.yAxisInnerPadding=8:i.options.labelCaps||i.options.mobileColumnChart||(i.options.layoutManager.verticalAxisShift=-5),i.options.labelCaps&&Bh(e)&&(i.options.labelCaps=!1,i.options.tableLabels=!0,i.options.layoutManager.margin.right=60,i.options.bandAxis.horizontalBarPadding=.4,i.options.bandAxis.horizontalBarHeight*=.8),i.options.labelCaps&&Wh(e)&&(o="right")}r.classed("vertical-flow",s),r.attr("toaster-flow")&&r.attr("toaster-flow")!==a&&r.select(".chart").selectAll("*").remove(),r.attr("toaster-flow",a);const c={orientation:a,yAxisPosition:o};Object.assign(c,i.options.layoutManager);const u={isPrimaryAxis:!0};l&&(c.yAxisInnerPadding=i.options.dateAxisInnerPadding,u.isDateAxis=!0),Object.assign(u,i.options.bandAxis),c.primaryAxis=Pv(u);const f={isPrimaryAxis:!1,domainFromZero:!0};Object.assign(f,i.options.linearAxis),c.secondaryAxis=Nv(f);const d=jv(c),h=r.selectAppend("div.chart");h.selectAll("*").remove(),h.call(d,i);const p=d.draw().classed("column",!0);let g=i.x.rangeLength()+d.xAxisExtendRight()+2*d.yAxisInnerPadding();const m=s&&!i.options.disableGrid||Ym(i);return r.classed("no-grid",!m).classed("no-domain",!Dm(i)).classed("no-axis",i.options.disableGrid),s?(g=i.y.rangeLength()+2*d.xAxisInnerPadding(),p.selectAppend("g.grid").call(ev({length:g,orientation:"y"}),i)):p.selectAppend("g.grid").call(ev({length:g}),i),p.call(zy({xScale:i.x.scale,yScale:i.y.scale,orientation:a}),i),i.options.labelCaps?function(t,e){const n=e.x,r=e.y,i=t.selectAppend("g.label-container"),a=Qd(Gd(e.x,e,{defaultDecimals:1}),Gd(e.x,e,{bareValue:!0,defaultDecimals:1}));i.selectAll("*").remove(),n.field().data.forEach((function(t,o){n.series().forEach((function(t,s){const l=e.data.data[o][0];let c=r.scale(l);c+=r.seriesScale(s);const u=e.data.data[o][1+s],f=n.scale(Yd(u)),d=n.series().length,h=Jy(r.scale.bandwidth(),d),p=i.append("text").classed("column-label",!0).classed("label-"+o,!0).text(a(u)).attr("x",f+e.options.columnLabelOffset).attr("y",c+r.scale.bandwidth()/(2*d)+h);u<0&&p.attr("x",f-e.options.columnLabelOffset).style("text-anchor","end")}))}))}(p,i):i.options.tableLabels&&function(t,e){const n=e.x,r=e.y,i=t.selectAppend("g.label-container"),a=Qd(Gd(e.x,e,{defaultDecimals:1}),Gd(e.x,e,{bareValue:!0,defaultDecimals:1}));i.selectAll("*").remove(),n.field().data.forEach((function(t,o){n.series().forEach((function(t,s){const l=e.data.data[o][0];let c=r.scale(l);c+=r.seriesScale(s);const u=e.data.data[o][1+s],f=e.layout.width(),d=n.series().length,h=Jy(r.scale.bandwidth(),d);i.append("text").classed("column-label",!0).classed("label-"+o,!0).text(a(u)).style("text-anchor","start").attr("x",f+e.options.columnLabelOffset).attr("y",c+r.scale.bandwidth()/(2*d)+h)}))}))}(p,i),Dv(i,s),Qy(p,e.annotations,i),h.call((function(t,e){e.options.disableLabels||(t.selectAll(".label-bottom").remove(),e.data.primaryAxis&&e.data.primaryAxis.caption&&t.selectAppend("div.chart-footer").append("div").classed("label-bottom",!0).text(e.data.primaryAxis.caption))}),i),d.overflowScale(),i.options.disableTooltip||Wy({chart:h,area:p,env:i}),Lv(i),tv(p,[{el:r,env:i}],n)}function Fv(t){if(zh(t)){const e=t.fields[0];if("quarters"===e.taxonomy.duration)return!0;if(e.taxonomy.isYears)return!0;if("YYYY"===e.dateFormat||"YYYY"===e.customFormatter||"year"===e.type)return!0;if(t.chartOptions){if("Yearly"===t.chartOptions.dateOutputFormat)return!0;if("Quarterly"===t.chartOptions.dateOutputFormat)return!0;if("Monthly"===t.chartOptions.dateOutputFormat)return!0}return!1}return!0}function Uv(t){return!zh(t)||t.data.length<=12}function zv(t){if(t.data.length<50&&t.data[0].length>2){let e=0;return t.data.forEach(t=>{t.slice(1).filter(t=>null!=t).length>1&&(e+=1)}),e>0}return!0}function Rv(t,e,n){const r=function(t,e,n){const r=n.stackedBand;let i=e.data.length*(e.fields.length-1);return r&&(i=e.data.length),t.node().offsetWidth/i}(t,e,n),i=zh(e),a=Fv(e);return!(e.chartOptions&&e.chartOptions.dateOutputFormat&&r>40)&&(!eh(e.fields[0])&&(!!i&&(!a&&!(r>50))))}function Iv(t,e,n){let r=!1;if(r=r||"hbar"===e.chartType,r=r||"stackedHbar"===e.chartType,r=r||n.forceHorizontalColumns,n.forceVerticalColumns)return!1;if(e.config.force_vertical_bars)return!1;if(r)return r;const i=n.stackedBand;let a=e.data.length*(e.fields.length-1);i&&(a=e.data.length);const o=t.node().offsetWidth,s=o/a;if(a<=2)return!0;if(e.chartOptions.isCategoricalTime)return!1;if(zh(e))return!1;if(s<n.columnWidthBreakpointMin||s>n.columnWidthBreakpointMax)return!0;const l=e.fields[0];if(l.taxonomy&&l.taxonomy.isDate)return!1;let c=0;return e.fields[0].data.forEach(t=>{null!=t&&null!=t.length&&(c=Math.max(c,t.length))}),c>n.textLengthBreakpoint&&s<n.columnWidthLongTextBreakpoint&&(r=!0),o<n.smallWidthBreakpoint&&(r=!0,(o<n.mobileWidthBreakpoint||c>n.textLengthBreakpoint)&&!i&&Ih(e)&&(n.mobileColumnChart=!0)),r}function Wv(t){t.chartOptions=t.chartOptions||{},t.chartOptions.isCategorical=!0,null==t.chartOptions.isCategoricalTime&&(t.chartOptions.isCategoricalTime=zh(t)),(Rh(t)&&t.data.length>=5||zh(t)&&t.data.length>=12)&&(t.chartOptions.isCategorical=!1),kh(t,!0)}function Bv(t,e){return e?t.data.length:t.data.length*Kd(t).length}function $v(t,e,n){n=Ny({columnWidthBreakpointMin:30,columnWidthBreakpointMax:1250,textLengthBreakpoint:12,columnWidthLongTextBreakpoint:110,smallWidthBreakpoint:500,mobileWidthBreakpoint:380,tooltipOffsetX:7,tooltipOffsetY:7,tooltipLineHeight:30,tooltipMaxWidth:160,tooltipAnchorSize:4,dateAxisInnerPadding:15,stackedBand:!0,layoutManager:{yAxisInnerPadding:0,xAxisExtendRight:7,margin:{top:10,right:0,bottom:0,left:0}},bandAxis:{horizontalBarPadding:.2,horizontalBarPaddingCondensed:.12,horizontalBarHeight:32,horizontalBarHeightLarge:50,horizontalBarHeightCondensed:24,axisTextLineHeightHorizontal:15,axisTextLineHeight:18,verticalAxisWrapWidth:300},linearAxis:{}},n);const r=pt(t).classed("toaster-chart-column",!0).classed("bar-colors",!0).classed("quad-colors",Fh(e));Wv(e);const i=Ry(r,e,n),a=r.node().offsetWidth;let o=km,s="right",l=Iv(r,e,i.options),c=!1;l||(c=Rv(r,e,i.options));const{minHeight:u}=i.options.layoutManager;let f=0;u&&(f=u/Bv(i.data,!0)),l&&(e.config&&e.config.sort_by_value&&!zh(e)&&(Wh(e)?sh(e,{stacked:!0,direction:"ascending"}):sh(e,{stacked:!0})),o=Am,s="left",i.options.labelCaps=!1,i.options.disableGrid=!1,e.data.length<=5?i.options.bandAxis.horizontalBarHeight=i.options.bandAxis.horizontalBarHeightLarge:e.data.length>15&&(i.options.bandAxis.horizontalBarHeight=i.options.bandAxis.horizontalBarHeightCondensed),i.options.screenshotMode&&(i.options.bandAxis.horizontalBarHeight=Math.max(f,i.options.bandAxis.horizontalBarHeight)),i.options.bandAxis.verticalAxisWrapWidth=a/2,hd(a,i.options)&&(i.options.bandAxis.axisTextLineHeightHorizontal=12),i.options.layoutManager.margin.top=0,i.options.layoutManager.margin.bottom=20,i.options.layoutManager.margin.right=30,i.options.layoutManager.margin.left=0,i.options.layoutManager.yAxisInnerPadding=0,i.options.layoutManager.verticalAxisShift=-5),r.classed("vertical-flow",l);let d={orientation:o,yAxisPosition:s};d=Object.assign(d,i.options.layoutManager);let h={isPrimaryAxis:!0,stackedBand:!0};c&&(d.yAxisInnerPadding=i.options.dateAxisInnerPadding,h.isDateAxis=!0),h=Object.assign(h,i.options.bandAxis);let p={isPrimaryAxis:!1,domainFromZero:!0,stackedDomain:!0};p=Object.assign(p,i.options.linearAxis),d.primaryAxis=Pv(h),d.secondaryAxis=Nv(p);const g=jv(d),m=r.selectAppend("div.chart");m.selectAll("*").remove(),m.call(g,i);const y=g.draw().classed("column",!0);let v=i.x.rangeLength()+g.xAxisExtendRight()+2*g.yAxisInnerPadding();const x=l&&!i.options.disableGrid||Ym(i);return r.classed("no-grid",!x).classed("no-domain",!Dm(i)).classed("no-axis",i.options.disableGrid),o===km?y.selectAppend("g.grid").call(ev({length:v}),i):(v=i.y.rangeLength()+2*g.xAxisInnerPadding(),y.selectAppend("g.grid").call(ev({length:v,orientation:"y"}),i)),y.call(function(t){let e=(t=t||{}).xScale,n=t.yScale;function r(r){r.each((function(r){const i=pt(this).classed("simple-column-stacked",!0),a=wd(r,!0,!0);let o=r.fields.length>1?r.fields.slice(1):r.fields;var s=o[0].data.map((function(t,e){var n={};return r.data[e].forEach((function(t,e){n[e-1]=t})),n})),l=Nl().keys(ho(0,o.length)).offset(Pl)(s);o=i.selectAll(".series").data(l),o.exit().remove(),o=o.enter().append("g").attr("class",(function(t,e){return"series f series-"+e})).merge(o);var c=o.selectAll(".column").data((function(t){return t}));c.exit().remove(),t.orientation===km?c.enter().append("rect").attr("class","column").merge(c).attr("x",(function(t,n){return e(a(n))})).attr("y",(function(t,e){return n(t[1])})).attr("width",Math.max(1,e.bandwidth())).attr("height",(function(t){return n(t[0])-n(t[1])})):c.enter().append("rect").attr("class","column").merge(c).attr("y",(function(t,e){return n(a(e))})).attr("x",(function(t,n){return e(t[0])})).attr("height",n.bandwidth()).attr("width",(function(t){return e(t[1])-e(t[0])}))}))}return r.xScale=function(t){return arguments.length?(e=t,r):e},r.yScale=function(t){return arguments.length?(n=t.copy(),r):n},r}({xScale:i.x.scale,yScale:i.y.scale,orientation:o}),i),Dv(i,l),Qy(y,e.annotations,i),m.call((function(t,e){e.options.disableLabels||(t.selectAll(".label-bottom").remove(),e.data.primaryAxis&&e.data.primaryAxis.caption&&t.selectAppend("div.chart-footer").append("div").classed("label-bottom",!0).text(e.data.primaryAxis.caption))}),i),g.overflowScale(),i.options.disableTooltip||Wy({chart:m,area:y,env:i}),Lv(i),tv(y,[{env:i,el:r}],n)}Ev.validateData=function(t,e){const n=Kh(t);return n("Bar chart must have more than one value.",jh),n("Bar charts cannot have more than 50 colummns",t=>t.data.length<=50),n("Multi-series bar charts that have no rows in common should be stacked bar charts",zv),n("Bar charts with time series data should not have more than 20 columns (use a line).",Uv),n("Bar charts with time series data should be years or quarters.",Fv),n},$v.validateData=function(t){const e=Kh(t);return e("Stacked bar chart requires at least 2 fields of data (3 columns minimum).",Uh),e("Stacked bar chart cannot contain negative values.",Ih),e("Bar charts cannot have more than 50 colummns",t=>t.data.length<=50),e("Bar charts with time series data should not have more than 20 columns (use a line).",Uv),e("Bar charts with time series data should be years or quarters.",Fv),e};const Vv={step:Sl,stepAfter:Yl,stepBefore:Tl,smooth:vl};function Xv(t){var e=t.xScale,n=t.yScale,r=t.seriesOffset||0;function i(i){i.each((function(i,a){const o=pt(this).classed("simple-line",!0),s=wd(i,!0,t.forceCategorical),l=t.seriesData||Kd(i),c=o.selectAppend("g.line-group"),u=c.selectAll(".line").data(l);t.xOffset&&c.translate([t.xOffset]);const f=ul().x((t,n)=>e(s(n))).y(t=>n(t)).defined(Nd);t.curve&&Vv[t.curve]&&f.curve(Vv[t.curve]),u.exit().remove(),u.enter().append("path").attr("class",(function(t,e){return"line s series-"+(e+r)})).merge(u).attr("d",(function(t){return f(t.data)}))}))}return i.xScale=function(t){return arguments.length?(e=t,i):e},i.yScale=function(t){return arguments.length?(n=t,i):n},i}const qv={step:Sl,stepAfter:Yl,stepBefore:Tl,smooth:vl};function Gv(t,e,n){n=Ny({tooltipOffsetX:7,tooltipOffsetY:7,tooltipLineHeight:30,tooltipMaxWidth:160,tooltipAnchorSize:4,annotationAnchorSize:4,displayValueTags:!1,curveType:null,layoutManager:{},dateAxis:{},bandAxis:{outerPadding:0},linearAxis:{}},n);const r=pt(t).classed("toaster-chart-line",!0).classed("bar-colors",!1).classed("quad-colors",Fh(e));kh(e);const i=Ry(r,e,n),a=i.options.renderAreaChart,o=a&&!Lh(e),s=e.fields[0],l=lh(e),c=e.config.fill_empty_segments;let u=0,f=eh(s)||s.taxonomy&&!s.taxonomy.isContinuous;"numeric"===s.type&&(f=!0);const d={orientation:km,yAxisInnerPadding:nv(e)};Object.assign(d,i.options.layoutManager);const h={isPrimaryAxis:!1,domainFromZero:a,stackedDomain:o};if(Object.assign(h,i.options.linearAxis),d.secondaryAxis=Nv(h),f){const t={isPrimaryAxis:!0};Object.assign(t,i.options.bandAxis),d.primaryAxis=Pv(t)}else{const t={isPrimaryAxis:!0};Object.assign(t,i.options.dateAxis),d.primaryAxis=function(t){let e={type:"date",isPrimaryAxis:!0,orientation:km,position:"bottom",data:null,model:null,field:null,series:null,range:[0,500],domain:[0,100],padding:0,tickStep:30,tickStepHorizontal:80,axisTextMarginHorizontal:16,axisTextLineHeight:18,axisTextPadding:6,tickLabelAlternate:!1,numTicks:1};e=Object.assign(e,t||{});const n=function(t,e){return t.selectAll("*").remove(),hd(e.el.offsetWidth,e.options)&&(n.axisTextMarginHorizontal(10),n.axisTextLineHeight(14)),e.options.disableAxis||Ov(t,n,e),t};return Cv(n,e),n.scale=yr(),n.axisScale=null,n.data=function(t){if(t){n.series(Kd(t)),n.field(th(t,e.isPrimaryAxis));const r=n.field();if(n.scale.domain(r.data).range(n.range()),r.taxonomy&&r.taxonomy.isDate&&r.taxonomy.isContinuous){const e=[r.taxonomy.dateStart,r.taxonomy.dateEnd],i=Wa().domain(e).range(n.range());t.config.forceDateScale&&n.scale.domain(e),n.scale=i}return n.axisScale=n.scale,n.model(Tm[e.position](n.axisScale)),e.data=t,n}return e.data},n.scaleIndex=function(t){return n.scale(n.field()[t])},n.getDataAtPosition=function(e){const r=[],i=e*n.rangeLength(),a=Md(n.field(),t.forceCategorical);let o=0,s=9999999;return n.field().data.forEach((t,e)=>{const r=a(t);Math.abs(n.scale(r)-i)<s&&(s=Math.abs(n.scale(r)-i),o=e)}),n.series().forEach((function(t){r.push(t.data[o])})),{dataIndex:o,data:r}},n.getPositionFromIndex=function(t){const r=wd(e.data,e.isPrimaryAxis);return n.scale(r(t))/n.rangeLength()},n.rangeLength=function(){return Math.abs(n.scale.range()[1]-n.scale.range()[0])},n}(t)}const p=jv(d),g=r.selectAppend("div.chart");g.selectAll("*").remove(),g.call(p,i);const m=p.draw().classed("line-container",!0),y=n.curveType||e.config.curve_type;return r.classed("no-grid",!Ym(i)).classed("no-domain",!Dm(i)).classed("no-axis",i.options.disableGrid),m.selectAppend("g.grid").call(ev({length:p.outerWidth()}),i),f&&(u=i.x.scale.bandwidth()/2),a&&(r.classed("toaster-chart-area",!0),r.classed("toaster-chart-area-stacked",o),r.classed("area-colors",!0),o?m.call(function(t){return t=t||{},function(e,n){return e.each((function(e,r){const i=pt(this).classed("simple-area",!0),a=n.x.scale,o=wd(e),s=t=>Math.min(n.y.scale(t),Math.floor(n.y.rangeLength())),l=ho(1,e.data[0].length),c=Nl().keys(l)(e.data),u=i.selectAppend("g.area-group"),f=u.selectAll(".line-area").data(c);t.xOffset&&u.translate([t.xOffset]);const d=fl().x((t,e)=>a(o(e))).y0(t=>s(t[0])).y1(t=>s(t[1])).defined(t=>(l.forEach(e=>!isNaN(t[e])&&(null!==t[e]&&void 0!==t[e]&&void 0)),!0));f.exit().remove(),f.enter().append("path").attr("class",(t,e)=>`line-area f series-${e}`).merge(f).attr("d",t=>d(t))})),e}}({xOffset:u}),i):m.call(function(t){return t=t||{},function(e,n){return e.each((function(e,r){const i=pt(this).classed("simple-area",!0),a=Kd(e).slice(0),o=wd(e),s=n.x.scale,l=t=>Math.min(n.y.scale(t),Math.floor(n.y.rangeLength()));let c=n.y.scale.domain()[0];const u=mh(n.y.scale.domain());(0===u[0]||0===u[1]||u[0]<0&&u[1]>0)&&(c=0);const f=i.selectAppend("g.area-group"),d=f.selectAll(".line-area").data(a);t.xOffset&&f.translate([t.xOffset]);const h=fl().x((t,e)=>s(o(e))).y1(l(c)).y0(t=>l(t)).defined(Nd);d.exit().remove(),d.enter().append("path").attr("class",(t,e)=>`line-area f series-${e}`).merge(d).attr("d",t=>h(t.data))})),e}}({xOffset:u}),i)),a||o||(m.call(Xv({xScale:i.x.scale,yScale:i.y.scale,drawArea:i.options.renderSingleSeriesAreaChart,xOffset:u,curve:y}),i),l&&m.call(function(t){const{xScale:e,yScale:n,segments:r,curve:i,seriesOffset:a=0,isSolid:o=!1}=t;return function(t){t.each((function(t,s){const l=pt(this).classed("simple-line",!0),c=wd(t),u=l.selectAppend("g.line-group").selectAll(".dashed-line").data(r),f=ul().x(t=>e(c(t.index))).y(t=>n(t.value));i&&qv[i]&&f.curve(qv[i]),u.exit().remove(),u.enter().append("path").attr("class",(t,e)=>`dashed-line s series-${e+a}`).merge(u).classed("show-solid-line",o).attr("d",(function(t){return t.reduce((t,e)=>t+=f(e.data),"")}))}))}}({xScale:i.x.scale,yScale:i.y.scale,drawArea:i.options.renderSingleSeriesAreaChart,xOffset:u,segments:l,isSolid:c,curve:y}),i),n.displayValueTags&&m.call(function(t){const e=t.xScale,n=t.yScale,r=t.seriesOffset||0;return function(i){i.each((function(i,a){const o=pt(this).classed("simple-line",!0),s=Gd(t.env.y,t.env,{defaultDecimals:1,bareValue:!0,isTooltip:!0}),l=wd(i),c=t.seriesData||Kd(i),u=o.selectAppend("g.value-tag-group"),f=u.selectAll(".tags").data(c);t.xOffset&&u.translate([t.xOffset]);const d=t=>`M${t-1},0.8c0,7.5,0,15,0,22.5c-22,0-${t/2+4},0-${t-14},0c-4-3.8-8-7.7-12-11.5c4-3.7,8-7.3,12-11C35,0.8,${t-23},0.8,${t-1},0.8z`;f.exit().remove();const h=f.enter().append("g").attr("class","tag").merge(f).style("display",t=>t.data[t.data.length-1]?"block":"none").translate(t=>{const r=t.data.length-1,i=t.data[r];return[e(l(r)),n(i)]});h.append("path").attr("class",(t,e)=>"f series-"+(e+r)).style("transform","translate(-2px, -10px) scale(0.85)").merge(h).attr("d",d(64)),h.append("text").merge(h).style("fill","white").attr("x",13).attr("y",5).text(t=>s(t.data[t.data.length-1])),u.selectAll("g.tag").each((function(){const t=pt(this).select("text").node().getComputedTextLength();pt(this).select("path").attr("d",d(t+30))}))}))}}({env:i,xScale:i.x.scale,yScale:i.y.scale,drawArea:i.options.renderSingleSeriesAreaChart,xOffset:u}),i)),Dv(i),Zy(m,e.annotations,i),g.call((function(t,e){e.options.disableLabels||(t.selectAll(".label-bottom").remove(),e.data.primaryAxis&&e.data.primaryAxis.caption&&t.selectAppend("div.chart-footer").append("div").classed("label-bottom",!0).text(e.data.primaryAxis.caption))}),i),p.overflowScale(),i.options.disableTooltip||function(t){const{env:e,chart:n,area:r}=t,i=e.x,a=e.y;n.selectAll(".tooltip").remove();const o=Kd(e.data),s=Lh(e.data),l=n.selectAppend("div.tooltip-container"),c=l.append("div").attr("class","tooltip tooltip-hidden tooltip-label-box"),u=c.append("div").attr("class","tooltip-label"),f=c.selectAppend("div.tooltip-values"),d=e.layout.margin(),h=e.y.stackedDomain(),p=r.selectAppend("g.tooltip-container"),g=p.append("line").attr("class","tooltip tooltip-hidden tooltip-gridline"),m=[];m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-0-stroke")),m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-1-stroke")),m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-2-stroke")),m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-3-stroke")),m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-4-stroke")),m.push(p.append("circle").attr("class","tooltip tooltip-hidden tooltip-anchor series-5-stroke"));const y={defaultDecimals:1,isTooltip:!0},v=Gd(e.x,e,y),x=Gd(e.y,e,y);Fy(l.node(),e.data,e.options),Iy(n,(function(t,n,l){var p=r.node().getBoundingClientRect(),y=e.layout.yAxisInnerPadding(),b=[(t[0]-y)/i.scale.range()[1],1-t[1]/a.scale.range()[0]],_=i.getDataAtPosition(b[0]);if(n(),_){null==_.seriesIndex&&(_.seriesIndex=0);var w=i.getPositionFromIndex(_.dataIndex,"ignoreSeries");if(e.data.data[_.dataIndex]){var M=e.data.data[_.dataIndex][0],k=_.data.map((t,n)=>null==Dd(t)?uh(e,_.dataIndex,n):t);if(k.filter(t=>null!=t).length){var A=w*i.scale.range()[1],S=k.map(t=>a.scale(t));if(h){var T=0,Y=0;S=S.map((t,e)=>k[e]<0?Y+=t:(T+=a.rangeLength()-t,a.rangeLength()-T))}var D=S.reduce((t,e)=>Math.min(t,e));g.attr("x1",A).attr("x2",A).attr("y1",a.scale.range()[0]).attr("y2",a.scale.range()[1]),m.forEach((function(t,n){const r=i.series()[n]&&null!=k[n];t.attr("r",e.options.tooltipAnchorSize).attr("cx",A||0).attr("cy",S[n]||0).style("display",r?"block":"none")}));var O=e.layout.yAxisInnerPadding(),C=A+d.left+O+e.options.tooltipOffsetX,N=D+d.top+e.options.tooltipOffsetY,P=null,H=e.options.tooltipLineHeight*(o.length+1),j=e.options.tooltipMaxWidth,L=!1,E=!1;C+j>p.width&&(C=Math.max(A+O+d.left-e.options.tooltipOffsetX,j),P="flipHorizontal",L=!0),N+H>p.height&&(N=Math.max(D+d.top-e.options.tooltipOffsetY,H),P="flipVertical",E=!0),E&&L&&(P="flipVH"),c.style("left",C+"px").style("top",N+"px").classed("flipHorizontal","flipHorizontal"===P).classed("flipVertical","flipVertical"===P).classed("flipVH","flipVH"===P).classed("single-series",s),u.text(v(M));var F=f.selectAll(".tooltip-value").data(k);F.exit().remove(),F.enter().append("div").classed("tooltip-value",!0).merge(F).style("display",t=>null==t?"none":"block").html((function(t,e){return`\n            <span class="swatch bg series-${e}"></span>\n            <span class="val">${x(t)}</span>\n          `})),Fy(c.node(),e.data,e.options),e.options.tooltipPostRender&&e.options.tooltipPostRender(e,c,k,_.dataIndex)}}}}))}({chart:g,area:m,env:i}),i.options.renderAreaChart||r.selectAll(".simple-legend .swatch").classed("line",!0),Lv(i),tv(m,[{el:r,env:i}],n)}function Zv(t,e,n){return Gv(t,e,n=Object.assign({renderAreaChart:!0,areaChartMultiseries:!0},n))}function Qv(t,e,n){n=(n=Ny({barline:!0,tooltipOffsetX:7,tooltipOffsetY:7,tooltipLineHeight:30,tooltipMaxWidth:160,tooltipAnchorSize:4,dateAxisInnerPadding:8,layoutManager:{yAxisInnerPadding:0,xAxisExtendRight:7},dateAxis:{},bandAxis:{},linearAxis:{}},n))||{};const r=pt(t).classed("toaster-chart-barline",!0).classed("bar-colors",!0).classed("quad-colors",Fh(e));Wv(e);const i=Ry(r,e,n),a=Rv(r,e,i.options),o={orientation:km};Object.assign(o,i.options.layoutManager);const s={isPrimaryAxis:!1,domainFromZero:!0};Object.assign(s,i.options.linearAxis);const l={isPrimaryAxis:!0};a&&(o.yAxisInnerPadding=i.options.dateAxisInnerPadding,l.isDateAxis=!0),Object.assign(l,i.options.bandAxis),o.secondaryAxis=Nv(s),o.primaryAxis=Pv(l);const c=jv(o),u=r.selectAppend("div.chart");u.selectAll("*").remove(),u.call(c,i);const f=c.draw().classed("line-container",!0),d=i.x.rangeLength()+2*c.yAxisInnerPadding();r.classed("no-grid",!Ym(i)).classed("no-domain",!Dm(i)).classed("no-axis",i.options.disableGrid),f.selectAppend("g.grid").call(ev({length:d}),i);const h={xScale:i.x.scale,yScale:i.y.scale,seriesData:[e.fields[1]],orientation:km},p={xScale:i.x.scale,yScale:i.y.scale,seriesData:e.fields.slice(2),seriesOffset:1,xOffset:i.x.scale.bandwidth()/2,curve:e.config.curve_type,forceCategorical:!0};return e.config&&e.config.barline_bar_series?(p.seriesOffset=0,p.seriesData=[e.fields[1]],h.seriesOffset=1,h.seriesData=e.fields.slice(2),r.selectAll(".simple-legend .swatch").each((function(t,e){pt(this).classed("line",0===e)}))):r.selectAll(".simple-legend .swatch").each((function(t,e){pt(this).classed("line",e>0)})),f.call(zy(h),i),f.call(Xv(p),i),Dv(i),Qy(f,e.annotations,i),u.call((function(t,e){e.options.disableLabels||(t.selectAll(".label-bottom").remove(),e.data.primaryAxis&&e.data.primaryAxis.caption&&t.selectAppend("div.chart-footer").append("div").classed("label-bottom",!0).text(e.data.primaryAxis.caption))}),i),c.overflowScale(),i.options.disableTooltip||Wy({chart:u,area:f,env:i,barline:!0}),Lv(i),tv(Qv,[{env:i,el:r}],n)}Gv.validateData=function(t,e){const n=Kh(t);return n("Line chart must have more than one value.",jh),n("Line should be a time series",zh),n},Qv.validateData=function(t){var e=Kh(t);return e("Barline chart must have more than one value.",jh),e("Barline chart requires a series of 2 fields of data.",Eh),e("Barline chart must be time series data",zh),e};function Jv(t){return"symbol"==typeof t||Gp(t)&&"[object Symbol]"==bp(t)}var Kv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tx=/^\w*$/;function ex(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ex.Cache||Ip),n}ex.Cache=Ip;var nx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rx=/\\(\\)?/g,ix=function(t){var e=ex(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nx,(function(t,n,r,i){e.push(r?i.replace(rx,"$1"):n||t)})),e}));function ax(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ox=hp?hp.prototype:void 0,sx=ox?ox.toString:void 0;function lx(t){if("string"==typeof t)return t;if(eg(t))return ax(t,lx)+"";if(Jv(t))return sx?sx.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function cx(t,e){return eg(t)?t:function(t,e){if(eg(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Jv(t))||(tx.test(t)||!Kv.test(t)||null!=e&&t in Object(e))}(t,e)?[t]:ix(function(t){return null==t?"":lx(t)}(t))}function ux(t){if("string"==typeof t||Jv(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fx(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=cx(e,t)).length;null!=t&&n<r;)t=t[ux(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r}function dx(t){return t!=t}var hx=/^\s+|\s+$/g,px=/^[-+]0x[0-9a-f]+$/i,gx=/^0b[01]+$/i,mx=/^0o[0-7]+$/i,yx=parseInt;function vx(t){if("number"==typeof t)return t;if(Jv(t))return NaN;if(_p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(hx,"");var n=gx.test(t);return n||mx.test(t)?yx(t.slice(2),n?2:8):px.test(t)?NaN:+t}function xx(t){var e=function(t){return t?(t=vx(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}function bx(t){return null==t?[]:function(t,e){return ax(e,(function(e){return t[e]}))}(t,Ag(t))}var _x,wx=Math.max;function Mx(t,e,n,r){t=kg(t)?t:bx(t),n=n&&!r?xx(n):0;var i=t.length;return n<0&&(n=wx(i+n,0)),function(t){return"string"==typeof t||!eg(t)&&Gp(t)&&"[object String]"==bp(t)}(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}(t,dx,n)}(t,e,n)>-1}function kx(t){return t}function Ax(t){return""}function Sx(t,e){return function(n){switch(t.displayFormat){case"Y":case"M":case"D":"Y"===t.displayFormat?n=yd.utc(n).format("YYYY"):"M"===t.displayFormat?n=yd.utc(n).format("MMM YYYY"):"D"===t.displayFormat&&(n=yd.utc(n).format("MMM DD, YYYY"));break;case"K":n/=1e3;break;case"ML":n/=1e6;break;case"B":n/=1e9;break;case"T":n/=1e12}return e(n)}}function Tx(t){var e=function(t,e){if(null!=t)return t;var n={percent:2,change:1,numeric:0};return e in n?n[e]:0}(t.decimalPlaces,t.type);switch("number"!=typeof e&&(e=0),t.type){case"percent":return Sx(t,As(",."+e+"%",t));case"numeric":return Sx(t,As(",."+e+"f",t));default:return Sx(t,kx)}}function Yx(t){var e=t.type;return t.displayChange&&(e+=" change"),t.displayAsSymbol&&(e+=" arrow"),function(n){var r=e;return(t.displayChange||t.displayAsSymbol)&&(r+=" ",r+=0===n?"no-change":n>0?"positive":"negative"),r}}function Dx(t){var e,n,r,i,a=t.unitBefore&&t.unitBefore.length?t.unitBefore:void 0,o=t.unitAfter&&t.unitAfter.length?t.unitAfter:void 0;return(a||o)&&(_x||((r=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(r),i=r.sheet,_x={addCSSRule:function(t,e){for(var n=Math.max(i.cssRules.length-1,0),r=n;r>0;r--){var a=i.cssRules[r];a.selectorText===t&&(e=a.style.cssText+e,i.deleteRule(r),n=r)}return i.insertRule?i.insertRule(t+"{"+e+"}",n):i.addRule(t,e,n),i.cssRules[n].cssText}}),a&&(e="prefix-"+Fd(a),_x.addCSSRule("."+e+".top .value::before",'color: inherit; content: "\\'+Ed(a)+'"')),o&&(n="postfix-"+Fd(o),_x.addCSSRule("."+n+" .value::after",'color: transparent; content: "\\'+Ed(o)+'"'),_x.addCSSRule("."+n+".top .value::after",'color: inherit; content: "\\'+Ed(o)+'"'))),function(){return a?e:o?n:""}}function Ox(t){if(t.displayBar){var e=Wr().domain([t.min,t.max]).range([5,75]);return function(t){return e(t)}}return Ax}function Cx(t){return t=t||{},function(e){e.each((function(e){pt(this).selectAppend("div.chart").selectAppend("div.toaster-chart-table").call(function(t){var e=(t=Object.assign({hideAfter:null,hideHeaders:!1,sortHeaders:!0,hideMobile:!1},t)).hideAfter,n=t.hideHeaders,r=t.sortHeaders,i=t.hideMobile;function a(t){t.each((function(t){var e=pt(this);return i||e.each(c),e.each(l)}))}function o(t,e,n){var r,i,a;(a=void 0!==t?pt("thead th:nth-child("+(t+1)+")"):_t("thead th").filter((function(){return pt(this).classed("ascending")||pt(this).classed("descending")})))&&a.each((function(a){r=void 0!==t?t:pt(this).attr("data-index"),i=pt(this).classed("ascending")?!n:!pt(this).classed("descending")||Boolean(n),_t("th").classed("ascending",!1).classed("descending",!1);var o=t=>t;pt(this).classed("numeric")&&(o=t=>Number(t)),i?e.sort((function(t,e){return o(t[r])>o(e[r])?1:-1})):e.sort((function(t,e){return o(e[r])>o(t[r])?1:-1})),pt(this).classed("ascending",i),pt(this).classed("descending",!i)}))}function s(){_t("td").classed("top",!1),_t("tr:nth-child(1) td").classed("top",!0)}function l(t){var i=pt(this),a=t.fields.map(Tx),l=t.fields.map(Yx),c=t.fields.map(Dx),u=t.fields.map(Ox),f=fx(t,"chartOptions.table.highlightRows",[]),d=i.selectAppend("table.simple-table"),h=d.selectAppend("thead"),p=d.selectAppend("tbody");if(!n){var g=h.selectAppend("tr").selectAll("th").data((function(t){return t.fields}));g.exit().remove(),g.merge(g.enter().append("th")).attr("scope","col").attr("data-index",(function(t,e){return e})).attr("class",(function(t){return t.type+(pt(this).classed("ascending")?" ascending":pt(this).classed("descending")?" descending":"")})).html((function(t){return"<span "+(r?'class="sortable"':"")+">"+t.name+"</span>"})).style("cursor",r?"pointer":"").on("click",(function(t,e){r&&(o(e,m,!0),s())}))}var m=p.selectAll("tr").data((function(t){return t.data})).order();m.exit().remove();var y=(m=m.enter().append("tr").merge(m).classed("highlight",(function(t,e){return Mx(f,e)})).classed("hidden",(function(t,n){return e&&n>e}))).selectAll("td").data((function(t){return t}));y.exit().remove(),y.enter().append("td").merge(y).attr("class",(function(t,e){return l[e](t)+" "+c[e]()})).html((function(t,e){var n,r=u[e](t),i=0;return""!==r?(isNaN(t)||(i=25*t.toString().length),n='<div class="bar-container" style="min-width:'+i+'px"><span class="bar" style="width: '+r+'px"></span>'):n="<div>",n+'<span class="value">'+a[e](t)+"</span></div></div>"})),r&&o(void 0,m),s()}function c(t){var e=pt(this),n=fx(t,"chartOptions.table.labelFieldIndex",-1),r=function(t){if(t>-1)return function(e){return e.splice(t,1),e};return function(t){return t}}(n),i=fx(t,"chartOptions.table.highlightRows",[]),a=r(t.fields.slice()),o=a.map(Tx),s=a.map(Yx),l=e.selectAppend("table.simple-table-mobile").selectAll("tbody").data((function(t){return t.data})).enter().append("tbody");n>-1&&l.append("tr.label-field").append("th").attr("colspan",2).text((function(t){return t[n]})),l.classed("highlight",(function(t,e){return Mx(i,e)}));var c=a.some((function(t){return t.displayInList})),u=l.selectAll("tr.row").data((function(t){return r(t.slice())})).enter().append("tr.row").classed("hidden",(function(t,e){return c&&!a[e].displayInList}));u.append("th").text((function(t,e){return a[e].name})),u.append("td").attr("class",(function(t,e){return s[e](t)})).text((function(t,e){return o[e](t)}))}return a.hideHeaders=function(t){return arguments.length?(n=t,a):n},a}(t))}))}}const Nx=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?5:0;function Px(t,e,n){n=Ny({disablePieLabels:!1,sortPieSeries:!0,labelLineLength:50,labelExtendLength:30,labelLineOffset:2,labelLine1Height:26,labelLine2Height:16,labelTextWrapWidth:200,verticalMargin:40,pieOuterRadius:120,pieMaxRadius:150,pieMinRadius:60,automaticRadius:!0,phabletOptions:{labelLine1Height:20,labelLine2Height:13,labelTextWrapWidth:130,labelLineLength:35},mobileOptions:{labelLine1Height:18,labelLine2Height:13,labelTextWrapWidth:130,labelLineLength:35}},n);const r=pt(t).classed("toaster-chart-pie",!0).classed("pie-colors",!0),i=Ry(r,e,n);if(t.offsetWidth<=880&&t.offsetWidth>600?Object.assign(i.options,n.phabletOptions):t.offsetWidth<=600&&Object.assign(i.options,n.mobileOptions),i.options.labelLine2Height+=Nx,Object.assign(e.fields[1],e.secondaryAxis),e.data.length>6)throw new Error("Pie chart only supports up to 6 values");const a=r.selectAppend("div.chart").classed("toaster-chart-pie",!0);a.selectAll("*").remove();const o=a.node().offsetWidth,s=a.selectAppend("svg").style("width",o+"px").style("height","380px");if(i.options.automaticRadius){const t=6/(3+Cm(e));i.options.pieOuterRadius=Math.max(Math.min(o*(1/8),i.options.pieMaxRadius),i.options.pieMinRadius)*t}const l=s.selectAppend("g.pie-container");return l.selectAll("*").remove(),l.call(function(t){t=Object.assign({pieInnerRadius:0,pieOuterRadius:120,piePadAngle:0,pieSort:(t,e)=>e-t},t);var e=al(),n=pl();return function(r){r.each((function(r){r.chartOptions&&r.chartOptions.pie&&Object.assign(t,r.chartOptions.pie);var i=Kd(r)[0];n.padAngle(t.piePadAngle),t.sortPieSeries?n.sort(t.pieSort):n.sort(null),e.innerRadius(t.pieInnerRadius).outerRadius(t.pieOuterRadius);var a=dh(r),o=pt(this).classed("not-highlighted",!hh(r)).classed("highlighted",hh(r)).selectAll("path.sector"),s=n(i.data);(o=o.data(s)).exit().remove(),o.enter().append("path").attr("d",e).merge(o).attr("class",t=>"sector f series-"+t.index).classed("highlight",t=>a(t,t.index))}))}}(i.options)),i.options.disablePieLabels||function(t,e){const n=[],r=Kd(e.data)[0],i=pl()(r.data);let a=[];e.data.config&&e.data.config.highlight_label&&(a=e.data.config.highlight_label.split(",").map(t=>Number(t)));const o={},s=Math.max(Math.abs(r.max),Math.abs(r.min));s>=1e3&&s<1e5&&(o.forceCommaDisplay=!0);const l=Gd((c=e.data,{field:()=>c.fields[1]}),e,o);var c;t.selectAll(".label").remove();const u=al().outerRadius(e.options.pieOuterRadius).innerRadius(e.options.pieOuterRadius);e.data.data.forEach((function(t,r){const o=i[r],s=(o.startAngle+o.endAngle)/2,c=Math.PI/8,f={position:u.centroid(o),orientation:"right",extend:null,extendLength:e.options.labelExtendLength,valueText:l(o.value),labelText:t[0],centerAngle:s,pieIndex:o.index,highlight:-1!==a.indexOf(o.index+1)};o.value<=0||isNaN(o.value)||(s<c?(f.orientation="right",f.extend="top"):s>2*Math.PI-c?(f.orientation="left",f.extend="top"):s>Math.PI-c&&s<=Math.PI?(f.orientation="right",f.extend="bottom"):s<Math.PI+c&&s>Math.PI?(f.orientation="left",f.extend="bottom"):s<Math.PI?f.orientation="right":f.orientation="left",n.push(f))})),e.options.sortPieSeries&&n.sort((t,e)=>t.pieIndex-e.pieIndex);const f=n.filter(t=>"top"===t.extend);if(f.length>1){const t=e.options.labelLine1Height+e.options.labelLine2Height+2*e.options.labelLineOffset;f.forEach((n,r)=>{n.extendLength=e.options.labelExtendLength+t*r})}n.forEach(n=>Ky(t,n,e))}(l,i),function(t,e,n,r,i){const a=t.node().getBBox(),o=Math.abs(a.y-i.options.verticalMargin/2);let s=n/2,l="scale(1.0)";r=a.height,r+=i.options.verticalMargin,e.style("width",n+"px").style("height",r+"px"),a.width>n&&(l=`scale(${n/a.width}) `);t.attr("transform",`translate(${s}, ${o}) ${l}`)}(l,s,o,380,i),Lv(i),tv(Px,[{env:i,el:r}],n)}Px.makeOptions=function(t){return Object.assign({hideLegend:!0},t)};function Hx(t){return vm(t,5)}function jx(t){return t=Object.assign({},t),function(e){e.each((function(e){e.chartOptions&&e.chartOptions.pie&&Object.assign(t,e.chartOptions.pie);const n=pt(this);n.html('<svg id="dial-chart" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 620 310">\n  <defs>\n    <marker id="arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0" \n      markerUnits="userSpaceOnUse" markerWidth="20" markerHeight="20" stroke-width="1" orient="auto">\n      <polyline stroke-linejoin="bevel" points="-6,-4 0,0 -6,4" fill="#000"></polyline>\n    </marker>\n    <style>\n      .cls-1{fill:#00AEFF;}\n      .cls-2{fill:#44C4FF;}\n      .cls-3{fill:#89D9FE;}\n      .cls-4{fill:#d4d4d4;}\n      .cls-5{fill:#feb98d;}\n      .cls-6{fill:#ff8d46;}\n      .cls-7{fill:#ff6200;}\n      .cls-12,.cls-8{fill:#fff;}\n      .cls-10,.cls-11,.cls-13,.cls-14,.cls-9{fill:none;}\n      .cls-10,.cls-11,.cls-12,.cls-13,.cls-14,.cls-9{stroke:#000;}.cls-10,.cls-11,.cls-12,.cls-9{stroke-linecap:round;stroke-linejoin:round;}.cls-12,.cls-9{stroke-width:2px;}.cls-10,.cls-11,.cls-13,.cls-14{stroke-width:0.75px;}.cls-11{stroke-dasharray:1.01 3.03;}.cls-13,.cls-14{stroke-miterlimit:10;}.cls-14{stroke-dasharray:1.02 4.09;}.cls-15{font-size:15.4px;}.cls-15,.cls-16{font-family:BWHaasText-55Roman, BW Haas Text;}.cls-16{font-size:15.4px;}.cls-30{fill: #000;}\n    </style>\n  </defs>\n  <path class="cls-2" d="M309,294.73,86,187.22a250.28,250.28,0,0,1,68.37-86.55Z"/>\n  <path class="cls-3" d="M309,294.73,154.33,100.67a248.64,248.64,0,0,1,99.28-48.78Z"/>\n  <path class="cls-7" d="M560.7,294.73H309L535.63,185.59A248.46,248.46,0,0,1,560.7,294.73Z"/>\n  <path class="cls-6" d="M535.63,185.59,309,294.73,465.43,98.58A250.71,250.71,0,0,1,535.63,185.59Z"/>\n  <path class="cls-5" d="M465.43,98.58,309,294.73,364.65,51A248.55,248.55,0,0,1,465.43,98.58Z"/>\n  <path class="cls-4" d="M364.65,51,309,294.73,253.61,51.89a251.45,251.45,0,0,1,111-.93Z"/>\n  <path class="cls-1" d="M309,294.73H61.67A248.33,248.33,0,0,1,86,187.22Z"/>\n  <path id="dial-pad" class="cls-8" d="M310.43,295.43l-120.76,1v-1c0-66.25,54.51-120.76,120.76-120.76S431.2,229.18,431.2,295.43Z"/>\n  \n  <line id="end-line" class="cls-9" x1="310" y1="293" x2="346.67" y2="110.33"/>\n  <line id="start-line" class="cls-11" x1="310" y1="293" x2="413.66" y2="142.82" />\n\n  <path class="cls-12" d="M310.75,266.25a28.47,28.47,0,0,0-28.47,28.48h56.94A28.47,28.47,0,0,0,310.75,266.25Z"/>\n  <path id="transition-path" class="cls-14" d="M370.13,44.87A247.14,247.14,0,0,1,452.44,80" marker-end="url(#arrowhead)"/>\n\n  <rect id="start-mark" class="cls-30" x="-2.5" y="0" width="5" height="0.75" transform="translate(140.64 420.06) rotate(-57.32)"/>\n\n  <text id="val-1" class="cls-15" transform="translate(45.73 236.73) rotate(-75.59)">1</text>\n  <text id="val-2" class="cls-15" transform="translate(97.12 130.37) rotate(-53.2)">2</text>\n  <text id="val-3" class="cls-16" transform="matrix(0.9, -0.44, 0.44, 0.9, 189.61, 54.57)">3</text>\n  <text id="val-4" class="cls-16" transform="translate(304.16 26.78) rotate(-1.45)">4</text>\n  <text id="val-5" class="cls-16" transform="matrix(0.92, 0.4, -0.4, 0.92, 418.04, 48.77)">5</text>\n  <text id="val-6" class="cls-15" transform="translate(513.14 119.17) rotate(50.3)">6</text>\n  <text id="val-7" class="cls-16" transform="matrix(0.25, 0.97, -0.97, 0.25, 570.66, 230.77)">7</text>\n</svg>');const r=t=>(7-t)*(Math.PI/7)+Math.PI/14,i=Number(e.fields[1].data[0]),a=Number(e.fields[1].data[1]),o=(a+i)/2,s=i===a,l=[310+256*Math.cos(r(i)),293-256*Math.sin(r(i))],c=[310+256*Math.cos(r(o)),293-256*Math.sin(r(o))],u=[310+256*Math.cos(r(a)),293-256*Math.sin(r(a))];n.select(`#val-${a}`).classed("active",!0),n.select("#end-line").attr("x2",310+200*Math.cos(r(a))).attr("y2",293-200*Math.sin(r(a))),n.select("#start-line").attr("x2",310+200*Math.cos(r(i))).attr("y2",293-200*Math.sin(r(i))),n.select("#transition-path").attr("d",function(t,e,n){const r=Lx(e,n),i=Lx(n,t),a=Lx(t,e),o=Math.acos((r*r+i*i-a*a)/(2*r*i)),s=.5*r*i*Math.sin(o);let l=r*i*a/4/s;l=Math.round(1e3*l)/1e3;const c=+(Math.PI/2>o),u=+((e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])<0);return["M",t,"A",l,l,0,c,u,e].join(" ")}(l,u,c)).style("display",s?"none":"block"),n.select("#start-mark").attr("transform",`translate(${l[0]}, ${l[1]}) rotate(${r(i)*(180/Math.PI)*-1})`).attr("d",`M${l[0]},${l[1]}l.41.28`).style("display",s?"none":"block")}))}}function Lx(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}const Ex={line:Gv,area:Zv,bar:Ev,pie:function t(e,n,r){Px(r=Ny({legendOffsetTop:-15,legendLineHeight:16,customPieDisableLegend:!1,customPieLegendPercentage:!1,sortPieSeries:!1},r));const i=pt(e),a=Kd(n)[0],o={data:n,options:Object.assign({},r)};if(!o.options.customPieDisableLegend){const t=Gd((s=o.data,{field:()=>s.fields[1]}),o),e=t=>As("3d")(100*t).replace(/ /g,""),n=i.selectAppend("div.legend-container-outer"),r=n.selectAppend("div.legend-container");n.style("height",a.data.length*o.options.legendLineHeight+"px");const l=r.selectAll(".legend-value").data(a.data),c=a.data.reduce((t,e)=>t+e);l.exit().remove(),l.enter().append("div").classed("legend-value",!0).merge(l).html((function(n,r){if(0===n||"0"===n)return"";let i="";return o.options.customPieLegendPercentage&&(i=`(${e(n/c)}%)`),`\n            <span class="swatch bg series-${r}"></span>\n            <span class="val">\n              ${t(n)} ${i}\n            </span>\n          `}))}var s;return tv(t,[{el:i,env:o}],r)}};function Fx(t,e,n){n=Ny({defaultBoxType:"line",minimumBoxWidth:200,minimumBoxHeight:200,gutterWidth:25,disableGrid:!0,disablePieLabels:!0,pieOuterRadius:120,pieMinRadius:20,automaticRadius:!1,forceTickAtDomainTop:!0,layoutManager:{minHeight:300}},n);const r=[],i={x:null,y:null,r:null,layout:null,layers:[],options:Object.assign({},n)},a=pt(t).classed("toaster-chart-spread",!0);kh(e),i.data=e;const o=e.config.multiples_type||i.options.defaultBoxType;if("area"===o&&a.classed("area-colors",!0),"pie"===o){var s=e.data.map(t=>({name:t[0]}));a.select(".legend").call(function(t){return function(e){e.each((function(e){var n=pt(this).selectAppend("ul.simple-legend").selectAll("li").data(t);n.exit().remove(),(n=n.merge(n.enter().append("li"))).selectAppend("span").attr("class",(function(t,e){return"swatch bg series-"+e})).classed("highlight-legend",t=>t.isHighlight),n.selectAppend("label").text((function(t){return t.name})),0===t.length&&pt(this).classed("hidden",!0)}))}}(s))}else a.select(".legend").style("display","none");a.classed("no-grid",!Ym(i)).classed("no-domain",!Dm(i)),e.config.force_vertical_bars=!0;const l=function(t,e){let n=t.fields.slice(1).map((t,e)=>[e+1]);if(t.config.splitMultiples||e.splitMultiples){const r=e.splitMultiples||t.config.splitMultiples;n=r.split(",").map(t=>t.trim().split("-").map(t=>Number(t)))}return n.map(e=>{let[n,r]=e;r=r||n;const i=Hx(t);t.fields[n].caption=null,i.fields=[t.fields[0]];for(let e=n;e<=r;e++)i.fields.push(t.fields[e]),t.annotations&&(i.annotations=t.annotations.filter(t=>t.series===e+1).map(t=>(t.series=e-n+1,t)));return i.data=i.data.map(t=>{const e=[t[0]];for(let i=n;i<=r;i++)e.push(t[i]);return e}),i}).map((t,n)=>Ux(t,e,n))}(e,i.options),c=a.select(".chart"),u=c.node().offsetWidth,f=Ex[o];let d=l,h=Math.ceil(c.node().offsetWidth/d.length)-6,p=c.node().offsetWidth/Cm(e);if(h<i.options.minimumBoxWidth){let t=Math.ceil(i.options.minimumBoxWidth*d.length/c.node().offsetWidth);h=c.node().offsetWidth/Math.ceil(d.length/t)-6,p/=t}p=Math.max(p,i.options.minimumBoxHeight);const g=Math.floor(u/h),m=i.options.gutterWidth*(g-1)/g;i.options.pieOuterRadius=Math.max(i.options.pieMinRadius||0,Math.min(i.options.pieMaxRadius||1e3,(h-50)/2-20)),i.options.layoutManager.minHeight=p;const y=c.selectAll(".spread").data(l);return y.exit().remove(),y.enter().append("div").attr("class",(function(t,e){return"spread spread-"+e})).merge(y).style("width",h-m+"px").style("padding-right",(t,e)=>e%g==g-1?0:i.options.gutterWidth+"px"),c.selectAll(".spread").each((function(t,e){const n=pt(this);n.selectAppend("div.title").text(l[e].fields[1].name);const a=n.selectAppend("div.toaster-chart"),o=f(a.node(),l[e],i.options);r.push({el:n,env:o.getEnv()})})),Lv(i),tv(Fx,r,n)}function Ux(t,e,n){if(e.multiples&&(e.multiples[n+1]||e.multiples[n+1+""])){const r=e.multiples[n+1]||e.multiples[n+1+""];return function(t,e){return t.secondaryAxis=t.secondaryAxis||{},e.hasOwnProperty("precision")&&(t.chartOptions.decimalPlaces=e.precision,t.secondaryAxis.decimal_places=e.precision),e.hasOwnProperty("tooltipPrecision")&&(t.chartOptions.tooltipDecimals=e.tooltipPrecision,t.secondaryAxis.tooltip_decimals=e.tooltipPrecision),e.hasOwnProperty("prefix")&&(t.fields[1].unit_before=e.prefix,t.secondaryAxis.unit_before=e.prefix),e.hasOwnProperty("postfix")&&(t.fields[1].unit_after=e.postfix,t.secondaryAxis.unit_after=e.postfix),e.hasOwnProperty("isPercent")&&(t.fields[1].display_as=e.isPercent?"%":"",t.secondaryAxis.display_as=e.isPercent?"%":""),["scaleEnd","scaleStart","scaleStep","unitBefore","unitAfter","label"].forEach(n=>{e.hasOwnProperty(n)&&(t.chartOptions[n]=e[n])}),t}(t,Ny(Hx(e),r))}return t}function zx(t,e,n){n=Ny({defaultBoxType:"line",minimumBoxWidth:170,minimumBoxHeight:180,disableGrid:!0,disableDomain:!0,gutterWidth:25,renderStyleBreakpoint:250,disablePieLabels:!0,pieOuterRadius:120,pieMinRadius:20,automaticRadius:!1,forceTickAtDomainTop:!0,minimumTicks:2,layoutManager:{minHeight:300}},n);const r=[],i={x:null,y:null,r:null,options:Object.assign({},n)},a=pt(t).classed("toaster-chart-spread",!0);kh(e),i.data=e,e.config.force_vertical_bars=!0;const o=a.select(".chart"),s=o.node().offsetWidth,l=Gv;let c=e.fields.slice(1).filter((t,e)=>e%2==0);i.options.widget&&(c=[c[0]]);let u=Math.ceil(s/c.length)-6,f=s/Cm(e),d=1;u<i.options.minimumBoxWidth&&(d=Math.ceil(i.options.minimumBoxWidth*c.length/s),u=s/Math.ceil(c.length/d)-6,f/=d),f=Math.max(f,i.options.minimumBoxHeight);let h=Math.floor(s/u);const p=i.options.gutterWidth*(h-1)/h;if(i.options.pieOuterRadius=(u-50)/2-20,i.options.widget&&(i.options.pieOuterRadius=55),i.options.layoutManager.minHeight=f,a.select(".legend").style("display","none"),a.classed("no-grid",!Ym(i)).classed("no-domain",!Dm(i)),2===e.fields.length)o.call(jx(i.options)),r.push({env:i,el:a});else{const t=u<i.options.renderStyleBreakpoint;n.layers=[Rx(e,t)];const a=function(t,e){return t.fields.slice(1).filter((t,e)=>e%2==0).map((e,n)=>{const r=Hx(t),i=2*n+1;return e.caption=null,r.fields=[t.fields[0],r.fields[i]],r.data=r.data.map(t=>[t[0],t[i]]),r.annotations&&(r.annotations=r.annotations.filter(t=>t.series===i).map(t=>(t.series=1,t))),r}).map((t,n)=>Ux(t,e,n))}(e,i.options),s=o.selectAll(".spread").data(a),c={};t?c.forceNoTicks=!0:(c.curveType="stepAfter",c.layoutManager={yAxisInnerPadding:22,xAxisExtendRight:50});const f=Ny(c,i.options);s.exit().remove(),s.enter().append("div").attr("class",(function(t,e){return"spread spread-"+e})).merge(s).style("width",u-p+"px").style("padding-right",(t,e)=>e%h==h-1?0:i.options.gutterWidth+"px"),o.selectAll(".spread").each((function(t,n){const i=pt(this),o=Object.assign(f,{tooltipPostRender:(s=e,c=n,(t,e,n,r)=>{const i=1+2*c+1,a=s.data[r][i];e.select(".tooltip-values").append("div").classed("tooltip-value",!0).style("padding-top","3px").style("line-height","1").text(`Score: ${a}`)})});var s,c;i.selectAppend("div.title").text(t=>a[n]?a[n].fields[1].name:""),i.selectAppend("div.score-title").html(t=>`<span>Score:</span> ${function(t,e){const n=2*e+2,r=t.data.length-1;return t.data[r][n]}(e,n)}`);const u=i.selectAppend("div.toaster-chart"),d=l(u.node(),a[n],o);r.push({el:i,env:d.getEnv()})}))}return Lv(i),tv(zx,r,n)}function Rx(t,e){return(n,r,i,a)=>{const o=r.select(".draw-container"),s=o.select(".line-group .line").attr("d").split("L").map(t=>t.replace("M","")),{selectIndex:l}=a;o.selectAll(".perf-group").remove(),o.insert("g",".annotations").classed("perf-group",!0);const c=o.select("g.perf-group");if(e){const e=[],n=wd(t,!0,i.options.forceCategorical);t.data.forEach((r,a)=>{e.push({line:`M${s[2*a]}L${s[2*a+1]}`,x:i.x.scale(n(a)),y:i.y.scale(r[1+2*l]),value:t.data[a][1+2*l+1]})}),c.selectAll(".circle").data(e).enter().append("circle").attr("cx",t=>t.x).attr("cy",t=>t.y).attr("r",5).attr("class",(function(t,e){return"score-"+t.value}))}else{const e=[];for(let n=0;n<s.length/2;n++)if(s[2*n+1]&&t.data[n])e.push({line:`M${s[2*n]}L${s[2*n+1]}`,value:t.data[n][1+2*l+1]});else if(s[2*n]&&t.data[n]){const r=s[2*n].split(",").map(t=>Number(t)),i=e[e.length-1].line.replace("M","").split("L").map(t=>t.split(",")),a=Number(i[1][0])-Number(i[0][0]),o=`${r[0]+a},${r[1]}`;e.push({line:`M${s[2*n]}L${o}`,value:t.data[n][1+2*l+1]})}const n=c.selectAll(".line").data(e);n.enter().append("path").attr("stroke-width","10").attr("class",(function(t,e){return"score-"+t.value})).merge(n).attr("d",t=>t.line)}}}Fx.validateData=function(t,e){const n=Kh(t);return n("Line chart must have more than one value.",jh),n("Line should be a time series",zh),n},zx.validateData=function(t,e){const n=Kh(t);return n("Line chart must have more than one value.",jh),n("Line should be a time series",zh),n};function Ix(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ip;++e<n;)this.add(t[e])}function Wx(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Ix.prototype.add=Ix.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ix.prototype.has=function(t){return this.__data__.has(t)};function Bx(t,e,n,r,i,a){var o=1&n,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var u=-1,f=!0,d=2&n?new Ix:void 0;for(a.set(t,e),a.set(e,t);++u<s;){var h=t[u],p=e[u];if(r)var g=o?r(p,h,u,e,t,a):r(h,p,u,t,e,a);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!Wx(e,(function(t,e){if(o=e,!d.has(o)&&(h===t||i(h,t,n,r,a)))return d.push(e);var o}))){f=!1;break}}else if(h!==p&&!i(h,p,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function $x(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Vx(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Xx=hp?hp.prototype:void 0,qx=Xx?Xx.valueOf:void 0;var Gx=Object.prototype.hasOwnProperty;var Zx=Object.prototype.hasOwnProperty;function Qx(t,e,n,r,i,a){var o=eg(t),s=eg(e),l=o?"[object Array]":em(t),c=s?"[object Array]":em(e),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=l==c;if(d&&ag(t)){if(!ag(e))return!1;o=!0,u=!1}if(d&&!u)return a||(a=new Wp),o||mg(t)?Bx(t,e,n,r,i,a):function(t,e,n,r,i,a,o){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new rm(t),new rm(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return op(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=$x;case"[object Set]":var l=1&r;if(s||(s=Vx),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var u=Bx(s(t),s(e),r,i,a,o);return o.delete(t),u;case"[object Symbol]":if(qx)return qx.call(t)==qx.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var h=u&&Zx.call(t,"__wrapped__"),p=f&&Zx.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,m=p?e.value():e;return a||(a=new Wp),i(g,m,n,r,a)}}return!!d&&(a||(a=new Wp),function(t,e,n,r,i,a){var o=1&n,s=Wg(t),l=s.length;if(l!=Wg(e).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in e:Gx.call(e,u)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var d=!0;a.set(t,e),a.set(e,t);for(var h=o;++c<l;){var p=t[u=s[c]],g=e[u];if(r)var m=o?r(g,p,u,e,t,a):r(p,g,u,t,e,a);if(!(void 0===m?p===g||i(p,g,n,r,a):m)){d=!1;break}h||(h="constructor"==u)}if(d&&!h){var y=t.constructor,v=e.constructor;y!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}function Jx(t,e,n,r,i){return t===e||(null==t||null==e||!Gp(t)&&!Gp(e)?t!=t&&e!=e:Qx(t,e,n,r,Jx,i))}var Kx=function(){return dp.Date.now()},tb=Math.max,eb=Math.min;function nb(t,e,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,a=i;return r=i=void 0,c=e,o=t.apply(a,n)}function p(t){return c=t,s=setTimeout(m,e),u?h(t):o}function g(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function m(){var t=Kx();if(g(t))return y(t);s=setTimeout(m,function(t){var n=e-(t-l);return f?eb(n,a-(t-c)):n}(t))}function y(t){return s=void 0,d&&r?h(t):(r=i=void 0,o)}function v(){var t=Kx(),n=g(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return p(l);if(f)return clearTimeout(s),s=setTimeout(m,e),h(l)}return void 0===s&&(s=setTimeout(m,e)),o}return e=vx(e)||0,_p(n)&&(u=!!n.leading,a=(f="maxWait"in n)?tb(vx(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:y(Kx())},v}function rb(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return _p(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nb(t,e,{leading:r,maxWait:e,trailing:i})}const ib=rb(Qh,5e3),ab=rb(Jh,5e3);function ob(t){t&&md()&&window.parent.postMessage({type:"type-check",messages:t},"*")}function sb(t){t&&md()&&window.parent.postMessage({type:"type-report",report:t},"*")}function lb(t,e){window.currentColorSeries&&Jx(window.currentColorSeries,t)||(window.currentColorSeries=t,t&&md()&&window.parent.postMessage({type:"color-series",colorSeries:{active:e,colors:t}},"*"))}window.currentColorSeries=null;var cb=Object.freeze({select:pt,selectAll:_t,selection:ht,parseSvg:lo,scalePoint:yr,scaleUtc:Wa,timeDay:Fl,ticks:yo,get event(){return nt},scaleBand:mr,scaleTime:Ia,scaleLinear:Wr,line:ul,pie:pl,arc:al,mouse:bt,touches:wt,area:fl,stack:Nl,curveBasis:vl,curveStep:Sl,curveStepAfter:Yl,curveStepBefore:Tl,stackOffsetDiverging:Pl,range:td,extent:function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},merge:function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n},get format(){return As},axisTop:cd,axisLeft:dd,axisBottom:fd,axisRight:ud});const{buildTaxonomy:ub,determineType:fb,makeData:db}=tp,hb={bar:Ev,hbar:Ev,stackedVbar:$v,stackedHbar:$v,line:Gv,area:Zv,table:Cx,barline:Qv,pie:Px,performanceChart:zx,multiples:Fx};return t.area=Zv,t.barline=Qv,t.chartFactory=Uy,t.column=Ev,t.columnStacked=$v,t.d3=cb,t.factory=function(t,e,n){n=n||{},db(e),ub(e);var r=hb[e.chartType];return r||(r=fb(hb,e,n)),n.isEditor&&(function(t,e,n){n.editorHooks={colorSeries:lb}}(0,0,n),n.suppressTypeCheck||function(t,e,n,r){ib(t,n,r,ob),ab(e,n,r,sb)}(r,hb,e,n)),Uy(t,r,e,n)},t.line=Gv,t.performanceChart=zx,t.pie=Px,t.table=Cx,t.tooltip=Iy,t.utils=tp,t.version="0.1.0",t}({});
