/*!
   JW Player version 8.13.8
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.13.8/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[12],{147:function(e,t,n){"use strict";function r(e,t,n){if(!e)return"";var r=e.bitrate||e.bandwidth;return function(e,t){var n=null;if(t&&e){var r=Object.keys(e),a=parseFloat(t);r.length&&!isNaN(a)&&(n=e[function(e,t){var n,r=null,i=1/0;Array.isArray(e)&&e.forEach((function(e){(n=Math.abs(e-t))<i&&(r=e,i=n)}));return r}(r,i(a))])}return n}(t,r)||e.label||function(e,t,n){if(!e&&!t)return"";var r=i(t)+" kbps",a=r;e&&(a=e+"p",t&&n&&(a+=" ("+r+")"));return a}(e.height,r,n)}function i(e){return Math.floor(e/1e3)}function a(e){return!!Array.isArray(e)&&u(e,["height","bitrate","bandwidth"])}function s(e){return!!Array.isArray(e)&&u(e,["label"])}function u(e,t){return e.some((function(e){for(var n,r=0;r<t.length&&!(n=e[t[r]]);r++);if(!n)return!1;var i=this[n];return this[n]=1,i}),{})}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}))},172:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(93),a=n(147),s=n(5),u=n(3),c=n(9);function o(e,t,n){var r=document.createElement("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function d(e,t,n){Object.defineProperty(e,t,{get:function(){return n}})}function l(e,t,n){e instanceof window.HTMLElement&&delete n[t]}var h=n(60),f=n(89),T=n(1),v=0;function g(e,t){var n,g,k,m=null,b=-1,y=-1,p=null,_=-1,x=null,C=!1,w=this,j=function(){return g&&g.__ready},B=function(){g&&g.triggerFlash.apply(g,arguments)};function O(){b=setTimeout((function(){c.a.trigger.call(w,"flashBlocked",{value:!0})}),4e3),g.once("embedded",(function(){A(),c.a.trigger.call(w,"flashBlocked",{value:!1})}),w)}function I(){A(),O()}function A(){clearTimeout(b),window.removeEventListener("focus",I)}function E(e,t){for(var n=0;n<e.length;n++)if(e[n].index===t)return n}Object(r.j)(this,c.a,f.a,{preload:function(e){e.preload&&"none"!==e.preload&&!t.autostart&&(m=e)},load:function(e){m=e,this.setState(u.ob),B("load",e),e.sources.length&&"hls"!==e.sources[0].type&&this.sendMediaType(e.sources)},play:function(){B("play")},pause:function(){B("pause"),this.setState(u.pb)},stop:function(){B("stop"),y=-1,m=null,this.clearTracks(),this.setState(u.nb)},seek:function(e){B("seek",e)},volume:function(e){if(!C&&Object(r.v)(e)){var t=Math.min(Math.max(0,e),100);j()&&B("volume",t)}},mute:function(e){C=e,j()&&B("mute",e)},setState:function(){return h.a.setState.apply(this,arguments)},getSwfObject:function(n){var r=n.querySelector("object");return r?(r.off(null,null,this),r):function(e,t,n,r){var i,a=!0;r=r||"opaque",(i=document.createElement("object")).setAttribute("type","application/x-shockwave-flash"),i.setAttribute("data",e),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("bgcolor","#000000"),i.setAttribute("id",n),i.setAttribute("name",n),o(i,"allowfullscreen","true"),o(i,"allowscriptaccess","always"),o(i,"wmode",r),o(i,"menu","false"),t.appendChild(i,t),i.className="jw-swf jw-reset",i.style.display="block",i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,s.Browser.ie&&"PointerEvent"in window&&(i.style.pointerEvents="none");var u=-1;d(i,"on",c.a.on),d(i,"once",c.a.once),d(i,"_eventQueue",[]),d(i,"off",(function(){var e=Array.prototype.slice.call(arguments);return e.length||(i._eventQueue.length=0,clearTimeout(u)),e.length?c.a.off.apply(i,e):(h={},this._events=h,this)})),d(i,"trigger",(function(e,t){var n=i._eventQueue;n.push({type:e,json:t}),u>-1||(u=setTimeout((function(){var e=n.length;for(u=-1;e--;){var t=n.shift();if(t.json){var r=JSON.parse(decodeURIComponent(t.json));c.a.trigger.call(i,t.type,r)}else c.a.trigger.call(i,t.type)}})))}));var h={};return Object.defineProperty(i,"_events",{get:function(){return h},set:function(e){h=e}}),d(i,"triggerFlash",(function(e){if("setupCommandQueue"===e&&(a=!1),"setup"!==e&&a||!i.__externalCall){for(var t=i.__commandQueue,n=t.length;n--;)t[n][0]===e&&t.splice(n,1);return t.push(Array.prototype.slice.call(arguments)),i}var r=Array.prototype.slice.call(arguments,1);try{if(r.length){r.forEach((function(e){e&&"object"==typeof e&&Object.keys(e).forEach((function(t){l(e[t],t,e)}))}));var s=JSON.stringify(r);i.__externalCall(e,s)}else i.__externalCall(e)}catch(t){if(console.error(e,t),"setup"===e)return t.name="Failed to setup flash",t}return i})),d(i,"__commandQueue",[]),i}(t.flashplayer,n,e+"_swf_"+v++,t.wmode)},getContainer:function(){return n},setContainer:function(e){if(n!==e){n=e,g=this.getSwfObject(e),document.hasFocus()?O():window.addEventListener("focus",I),g.once("ready",(function(){A();var e=Object(r.j)({},t),n=g.triggerFlash("setup",e);n===g?g.__ready=!0:this.trigger(u.G,new T.s(T.n,T.k,n)),m&&B("init",m),B("setupCommandQueue",g.__commandQueue),g.__commandQueue.length=0}),this);var i=[u.Q,u.R,"subtitlesTrackChanged","mediaType"],o=[u.D,u.S],d=[u.E];g.on([u.I,u.J].join(" "),(function(e){!function(e){for(var n=e.levels,r=0;r<n.length;r++){var i=n[r];i.index=r,"Auto"!==i.label&&(i.label=Object(a.a)(i,t.qualityLabels))}e.levels=p=function(e){return e.sort((function(e,t){return e.height&&t.height?t.height-e.height:t.bitrate-e.bitrate}))}(e.levels),e.currentQuality=y=E(p,e.currentQuality)}(e),this.trigger(e.type,e)}),this),g.on(u.f,(function(e){_=e.currentTrack,x=e.tracks,this.trigger(e.type,e)}),this),g.on(u.g,(function(e){_=e.currentTrack,x=e.tracks,this.trigger(e.type,e)}),this),g.on(u.bb,(function(e){var t=e.newstate;t!==u.nb&&this.setState(t)}),this),g.on(o.join(" "),(function(e){e.seekRange=e.seekRange||{start:0,end:0},"Infinity"===e.duration?e.duration=1/0:e.seekRange.end=e.seekRange.end||Math.abs(e.duration),e.currentTime=e.currentTime||e.position,this.trigger(e.type,e)}),this),g.on(i.join(" "),(function(e){this.trigger(e.type,e)}),this),g.on(d.join(" "),(function(e){this.trigger(e.type)}),this),g.on(u.B,(function(){this.trigger(u.F)}),this),g.on(u.U,(function(e){var t=0;p.length>1&&(t=E(p,e.level.index+1)),e.level=Object(r.j)(e.level,{index:t}),"initial choice"!==e.reason&&(e.reason=e.reason?"auto":"api"),this.trigger(u.U,e),this.trigger("providerFirstFrame",{})}),this),g.on(u.fb,(function(e){k=e.message,this.trigger(u.fb,e)}),this),g.on(u.w,(function(e){this.trigger(u.G,new T.s(T.o,T.i,e))}),this),g.on(u.G,(function(e){this.trigger(u.G,new T.s(T.o,T.j,e))}),this),g.on("subtitlesTracks",(function(e){this.addTextTracks(e.tracks)}),this),g.on("subtitlesTrackData",(function(e){this.addCuesToTrack(e)}),this),g.on(u.K,(function(e){e&&(e.metadata&&"textdata"===e.metadata.type?this.addCaptionsCue(e.metadata):this.trigger(e.type,e))}),this),function(e){var t=document.createElement("a");t.href=e.flashplayer;var n=t.host===window.location.host;return s.Browser.chrome&&!n}(t)&&g.on("throttle",(function(e){A();var t="resume"!==e.state;"resume"===e.state?(c.a.trigger.call(w,"flashThrottle",{value:t}),c.a.trigger.call(w,"flashBlocked",{value:t})):b=setTimeout((function(){c.a.trigger.call(w,"flashThrottle",{value:t}),c.a.trigger.call(w,"flashBlocked",{value:t})}),250)}),this)}},remove:function(){var e;y=-1,p=null,(e=g)&&e.parentNode&&(e.style.display="none",e.parentNode.removeChild(e),e=null)},setVisibility:function(e){e=!!e,n.style.opacity=e?1:0},resize:function(e,t,n){n&&B("stretch",n)},setControls:function(e){B("setControls",e)},setCurrentQuality:function(e){B("setCurrentQuality",p[e].index)},getCurrentQuality:function(){return y},setSubtitlesTrack:function(e){B("setSubtitlesTrack",e)},getName:function(){return k?{name:"flash_"+k}:{name:"flash"}},getQualityLevels:function(){return(p||m&&m.sources||[]).map((function(e){return Object(i.a)(e)}))},getAudioTracks:function(){return x},getCurrentAudioTrack:function(){return _},setCurrentAudioTrack:function(e){B("setCurrentAudioTrack",e)},detachMedia:function(){this.pause()},destroy:function(){A(),this.remove(),g&&(g.off(),g=null),n=null,m=null,this.off()}})}var k=function(){};k.prototype=h.a,g.prototype=new k,g.getName=function(){return{name:"flash"}};t.default=g},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e){var t=[],n=(e=Object(r.i)(e)).split("\r\n\r\n");1===n.length&&(n=e.split("\n\n"));for(var i=0;i<n.length;i++)if("WEBVTT"!==n[i]){var s=a(n[i]);s.text&&t.push(s)}return t}function a(e){var t={},n=e.split("\r\n");1===n.length&&(n=e.split("\n"));var i=1;if(n[0].indexOf(" --\x3e ")>0&&(i=0),n.length>i+1&&n[i+1]){var a=n[i],s=a.indexOf(" --\x3e ");s>0&&(t.begin=Object(r.g)(a.substr(0,s)),t.end=Object(r.g)(a.substr(s+5)),t.text=n.slice(i+1).join("\r\n"))}return t}},79:function(e,t,n){"use strict";var r=window.VTTCue;function i(e){if("string"!=typeof e)return!1;return!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[e.toLowerCase()]&&e.toLowerCase()}if(!r){(r=function(e,t,n){var r=this;r.hasBeenReset=!1;var a="",s=!1,u=e,c=t,o=n,d=null,l="",h=!0,f="auto",T="start",v="auto",g=100,k="middle";Object.defineProperty(r,"id",{enumerable:!0,get:function(){return a},set:function(e){a=""+e}}),Object.defineProperty(r,"pauseOnExit",{enumerable:!0,get:function(){return s},set:function(e){s=!!e}}),Object.defineProperty(r,"startTime",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"endTime",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"text",{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}}),Object.defineProperty(r,"region",{enumerable:!0,get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"vertical",{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&(!!{"":!0,lr:!0,rl:!0}[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"snapToLines",{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}}),Object.defineProperty(r,"line",{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"lineAlign",{enumerable:!0,get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"position",{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"size",{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"align",{enumerable:!0,get:function(){return k},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}}),r.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}}t.a=r},80:function(e,t,n){"use strict";function r(e,t){var n=e.kind||"cc";return e.default||e.defaulttrack?"default":e._id||e.file||n+t}function i(e,t){var n=e.label||e.name||e.language;return n||(n="Unknown CC",(t+=1)>1&&(n+=" ["+t+"]")),{label:n,unknownCount:t}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},81:function(e,t,n){"use strict";var r=n(79),i=n(10),a=n(28),s=n(4),u=n(76),c=n(2),o=n(1);function d(e){throw new o.s(null,e)}function l(e,t,r){e.xhr=Object(a.b)(e.file,(function(a){!function(e,t,r,a){var l,h,T=e.responseXML?e.responseXML.firstChild:null;if(T)for("xml"===Object(s.b)(T)&&(T=T.nextSibling);T.nodeType===T.COMMENT_NODE;)T=T.nextSibling;try{if(T&&"tt"===Object(s.b)(T))l=function(e){e||d(306007);var t=[],n=e.getElementsByTagName("p"),r=30,i=e.getElementsByTagName("tt");if(i&&i[0]){var a=parseFloat(i[0].getAttribute("ttp:frameRate")||"");isNaN(a)||(r=a)}n||d(306005),n.length||(n=e.getElementsByTagName("tt:p")).length||(n=e.getElementsByTagName("tts:p"));for(var s=0;s<n.length;s++){for(var u=n[s],o=u.getElementsByTagName("br"),l=0;l<o.length;l++){var h=o[l];h&&h.parentNode&&h.parentNode.replaceChild(e.createTextNode("\r\n"),h)}var f=u.innerHTML||u.textContent||u.text||"",T=Object(c.i)(f).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(T){var v=u.getAttribute("begin")||"",g=u.getAttribute("dur")||"",k=u.getAttribute("end")||"",m={begin:Object(c.g)(v,r),text:T};k?m.end=Object(c.g)(k,r):g&&(m.end=(m.begin||0)+Object(c.g)(g,r)),t.push(m)}}return t.length||d(306005),t}(e.responseXML),h=f(l),delete t.xhr,r(h);else{var v=e.responseText;v.indexOf("WEBVTT")>=0?n.e(18).then(function(e){return n(151).default}.bind(null,n)).catch(Object(i.c)(301131)).then((function(e){var n=new e(window);h=[],n.oncue=function(e){h.push(e)},n.onflush=function(){delete t.xhr,r(h)},n.parse(v)})).catch((function(e){delete t.xhr,a(Object(o.A)(null,o.b,e))})):(l=Object(u.a)(v),h=f(l),delete t.xhr,r(h))}}catch(e){delete t.xhr,a(Object(o.A)(null,o.b,e))}}(a,e,t,r)}),(function(e,t,n,i){r(Object(o.z)(i,o.b))}))}function h(e){e&&e.forEach((function(e){var t=e.xhr;t&&(t.onload=null,t.onreadystatechange=null,t.onerror=null,"abort"in t&&t.abort()),delete e.xhr}))}function f(e){return e.map((function(e){return new r.a(e.begin,e.end,e.text)}))}n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}))},83:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"};function i(e,t){for(var n,r,i,a=e.length,s="",u=t||0;u<a;)if(0!==(n=e[u++])&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(n);break;case 12:case 13:r=e[u++],s+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[u++],i=e[u++],s+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&i)<<0)}return s}function a(e){var t=function(e){for(var t="0x",n=0;n<e.length;n++)e[n]<16&&(t+="0"),t+=e[n].toString(16);return parseInt(t)}(e);return 127&t|(32512&t)>>1|(8323072&t)>>2|(2130706432&t)>>3}function s(e){return void 0===e&&(e=[]),e.reduce((function(e,t){if(!("value"in t)&&"data"in t&&t.data instanceof ArrayBuffer){var n=new Uint8Array(t.data),s=n.length;t={value:{key:"",data:""}};for(var u=10;u<14&&u<n.length&&0!==n[u];)t.value.key+=String.fromCharCode(n[u]),u++;var c=19,o=n[c];3!==o&&0!==o||(o=n[++c],s--);var d=0;if(1!==o&&2!==o)for(var l=c+1;l<s;l++)if(0===n[l]){d=l-c;break}if(d>0){var h=i(n.subarray(c,c+=d),0);if("PRIV"===t.value.key){if("com.apple.streaming.transportStreamTimestamp"===h){var f=1&a(n.subarray(c,c+=4)),T=a(n.subarray(c,c+=4))+(f?4294967296:0);t.value.data=T}else t.value.data=i(n,c+1);t.value.info=h}else t.value.info=h,t.value.data=i(n,c+1)}else{var v=n[c];t.value.data=1===v||2===v?function(e,t){for(var n=e.length-1,r="",i=t||0;i<n;)254===e[i]&&255===e[i+1]||(r+=String.fromCharCode((e[i]<<8)+e[i+1])),i+=2;return r}(n,c+1):i(n,c+1)}}if(r.hasOwnProperty(t.value.key)&&(e[r[t.value.key]]=t.value.data),t.value.info){var g=e[t.value.key];g!==Object(g)&&(g={},e[t.value.key]=g),g[t.value.info]=t.value.data}else e[t.value.key]=t.value.data;return e}),{})}},89:function(e,t,n){"use strict";var r=n(81),i=n(80),a=n(83),s=n(5),u=n(3),c=n(0),o={_itemTracks:null,_textTracks:null,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_currentTextTrackIndex:-1,_unknownCount:0,_activeCues:null,_cues:null,_initTextTracks:function(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._unknownCount=0},addTracksListener:function(e,t,n){if(!e)return;if(d(e,t,n),this.instreamMode)return;e.addEventListener?e.addEventListener(t,n):e["on"+t]=n},clearTracks:function(){var e=this;Object(r.a)(this._itemTracks),this.renderNatively&&v(this.renderNatively,this.video.textTracks);var t=this._tracksById;t&&Object.keys(t).forEach((function(n){if(0===n.indexOf("nativemetadata")){var r=t[n];e.cueChangeHandler&&r.removeEventListener("cuechange",e.cueChangeHandler),v(e.renderNatively,[r])}}));this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._currentTextTrackIndex=-1,this._activeCues={},this._cues={},this.renderNatively&&(this.removeTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),v(this.renderNatively,this.video.textTracks))},clearMetaCues:function(){var e=this,t=this._tracksById;t&&Object.keys(t).forEach((function(n){if(0===n.indexOf("nativemetadata")){var r=t[n];v(e.renderNatively,[r]),r.mode="hidden",r.inuse=!0,e._cachedVTTCues[r._id]={}}}))},clearCueData:function(e){var t=this._cachedVTTCues;t&&t[e]&&(t[e]={},this._tracksById&&(this._tracksById[e].data=[]))},disableTextTrack:function(){var e=this.getCurrentTextTrack();if(e){e.mode="disabled";var t=e._id;t&&0===t.indexOf("nativecaptions")&&(e.mode="hidden")}},enableTextTrack:function(){var e=this.getCurrentTextTrack();e&&(e.mode="showing")},getCurrentTextTrack:function(){return this._textTracks&&this._textTracks[this._currentTextTrackIndex]},getSubtitlesTrack:function(){return this._currentTextTrackIndex},removeTracksListener:d,addTextTracks:f,setTextTracks:function(e){var t=this;if(this._currentTextTrackIndex=-1,!e)return;this._textTracks?(this._activeCues={},this._cues={},this._unknownCount=0,this._textTracks=this._textTracks.filter((function(e){var n=e._id;return t.renderNatively&&n&&0===n.indexOf("nativecaptions")?(delete t._tracksById[n],!1):(e.name&&0===e.name.indexOf("Unknown")&&t._unknownCount++,0===n.indexOf("nativemetadata")&&"com.apple.streaming"===e.inBandMetadataTrackDispatchType&&delete t._tracksById[n],!0)}),this)):this._initTextTracks();if(e.length)for(var n=0,r=e.length;n<r;n++){var a=e[n];if(!a._id){if("captions"===a.kind||"metadata"===a.kind){if(a._id="native"+a.kind+n,!a.label&&"captions"===a.kind){var u=Object(i.b)(a,this._unknownCount);a.name=u.label,this._unknownCount=u.unknownCount}}else a._id=Object(i.a)(a,this._textTracks.length);if(this._tracksById[a._id])continue;a.inuse=!0}if(a.inuse&&!this._tracksById[a._id])if("metadata"===a.kind)a.mode="hidden",this.cueChangeHandler=this.cueChangeHandler||y.bind(this),a.removeEventListener("cuechange",this.cueChangeHandler),a.addEventListener("cuechange",this.cueChangeHandler),this._tracksById[a._id]=a;else if(g(a.kind)){var c=a.mode,o=void 0;if(a.mode="hidden",!a.cues.length&&a.embedded)continue;if(a.mode=c,this._cuesByTrackId[a._id]&&!this._cuesByTrackId[a._id].loaded){for(var d=this._cuesByTrackId[a._id].cues;o=d.shift();)T(this.renderNatively,a,o);a.mode=c,this._cuesByTrackId[a._id].loaded=!0}m.call(this,a)}}this.renderNatively&&(this.textTrackChangeHandler=this.textTrackChangeHandler||l.bind(this),this.addTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),(s.Browser.edge||s.Browser.firefox||s.Browser.safari)&&(this.addTrackHandler=this.addTrackHandler||h.bind(this),this.addTracksListener(this.video.textTracks,"addtrack",this.addTrackHandler)));this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks})},setupSideloadedTracks:function(e){if(!this.renderNatively)return;var t=e===this._itemTracks;t||Object(r.a)(this._itemTracks);if(this._itemTracks=e,!e)return;t||(this.disableTextTrack(),b.call(this),this.addTextTracks(e))},setSubtitlesTrack:function(e){if(!this.renderNatively)return void(this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(e-1));if(!this._textTracks)return;0===e&&this._textTracks.forEach((function(e){e.mode=e.embedded?"hidden":"disabled"}));if(this._currentTextTrackIndex===e-1)return;this.disableTextTrack(),this._currentTextTrackIndex=e-1;var t=this.getCurrentTextTrack();t&&(t.mode="showing");this.trigger("subtitlesTrackChanged",{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})},textTrackChangeHandler:null,addTrackHandler:null,addCuesToTrack:function(e){var t=this._tracksById[e.name];if(!t)return;t.source=e.source;for(var n=e.captions||[],i=[],a=!1,s=0;s<n.length;s++){var u=n[s],c=e.name+"_"+u.begin+"_"+u.end;this._metaCuesByTextTime[c]||(this._metaCuesByTextTime[c]=u,i.push(u),a=!0)}a&&i.sort((function(e,t){return e.begin-t.begin}));var o=Object(r.b)(i);Array.prototype.push.apply(t.data,o)},addCaptionsCue:function(e){if(!e.text||!e.begin||!e.end)return;var t,n=e.trackid.toString(),i=this._tracksById&&this._tracksById[n];i||(i={kind:"captions",_id:n,data:[]},this.addTextTracks([i]),this.trigger("subtitlesTracks",{tracks:this._textTracks}));e.useDTS&&(i.source||(i.source=e.source||"mpegts"));t=e.begin+"_"+e.text;var a=this._metaCuesByTextTime[t];if(!a){a={begin:e.begin,end:e.end,text:e.text},this._metaCuesByTextTime[t]=a;var s=Object(r.b)([a])[0];i.data.push(s)}},createCue:function(e,t,n){var r=window.VTTCue||window.TextTrackCue,i=Math.max(t||0,e+.25);return new r(e,i,n)},addVTTCue:function(e,t){this._tracksById||this._initTextTracks();var n=e.track?e.track:"native"+e.type,r=this._tracksById[n],i="captions"===e.type?"Unknown CC":"ID3 Metadata",a=e.cue;if(!r){var s={kind:e.type,_id:n,label:i,embedded:!0};r=k.call(this,s),this.renderNatively||"metadata"===r.kind?this.setTextTracks(this.video.textTracks):f.call(this,[r])}if(x.call(this,r,a,t)){var u=this.renderNatively||"metadata"===r.kind;return u?T(u,r,a):r.data.push(a),a}return null},addVTTCuesToTrack:function(e,t){if(!this.renderNatively)return;var n,r=this._tracksById[e._id];if(!r)return this._cuesByTrackId||(this._cuesByTrackId={}),void(this._cuesByTrackId[e._id]={cues:t,loaded:!1});if(this._cuesByTrackId[e._id]&&this._cuesByTrackId[e._id].loaded)return;this._cuesByTrackId[e._id]={cues:t,loaded:!0};for(;n=t.shift();)T(this.renderNatively,r,n)},parseNativeID3Cues:function(e,t){var n=this,r=e[e.length-1];if(t&&t.length===e.length&&(r._parsed||_(t[t.length-1],r)))return;var i=-1,a=-1;Array.prototype.reduce.call(e,(function(e,t){return t._parsed||!t.data&&!t.value||(t.startTime===a&&null!==t.endTime||(a=t.startTime,e[++i]=[]),e[i].push(t)),t._parsed=!0,e}),[]).forEach((function(e){var t=p(e);n.trigger(u.L,t)}))},triggerActiveCues:function(e,t){var n=this,r=e.filter((function(e){if(t&&t.some((function(t){return _(e,t)})))return!1;if(e.data||e.value)return!0;if(e.text){var r=function(e,t){var n;try{n=JSON.parse(e.text)}catch(t){n={text:e.text}}var r={metadata:n};t||(r.metadataTime=e.startTime,n.programDateTime&&(r.programDateTime=n.programDateTime));n.metadataType&&(r.metadataType=n.metadataType,delete n.metadataType);return r}(e,!1);n.trigger(u.K,r)}return!1}));if(r.length){var i=p(r);this.trigger(u.K,i)}},ensureMetaTracksActive:function(){for(var e=this.video.textTracks,t=e.length,n=0;n<t;n++){var r=e[n];"metadata"===r.kind&&"disabled"===r.mode&&(r.mode="hidden")}},renderNatively:!1};function d(e,t,n){e&&(e.removeEventListener?e.removeEventListener(t,n):e["on"+t]=null)}function l(){var e=this.video.textTracks,t=Object(c.k)(e,(function(e){return(e.inuse||!e._id)&&g(e.kind)}));if(this._textTracks&&!C.call(this,t)){for(var n=-1,r=0;r<this._textTracks.length;r++)if("showing"===this._textTracks[r].mode){n=r;break}n!==this._currentTextTrackIndex&&this.setSubtitlesTrack(n+1)}else this.setTextTracks(e)}function h(){this.setTextTracks(this.video.textTracks)}function f(e){var t=this;e&&(this._textTracks||this._initTextTracks(),e.forEach((function(e){if(!e.kind||g(e.kind)){var n=k.call(t,e);m.call(t,n),e.file&&(e.data=[],Object(r.c)(e,(function(e){n.sideloaded=!0,t.addVTTCuesToTrack(n,e)}),(function(e){t.trigger(u.ub,e)})))}})),this._textTracks&&this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks}))}function T(e,t,n){if(s.Browser.ie){var r=n;(e||"metadata"===t.kind)&&(r=new window.TextTrackCue(n.startTime,n.endTime,n.text)),function(e,t){var n=[],r=e.mode;e.mode="hidden";for(var i=e.cues,a=i.length-1;a>=0&&i[a].startTime>t.startTime;a--)n.unshift(i[a]),e.removeCue(i[a]);try{e.addCue(t),n.forEach((function(t){return e.addCue(t)}))}catch(e){console.error(e)}e.mode=r}(t,r)}else try{t.addCue(n)}catch(e){console.error(e)}}function v(e,t){t&&t.length&&Object(c.i)(t,(function(t){if(!(s.Browser.ie&&e&&/^(native|subtitle|cc)/.test(t._id))){s.Browser.ie&&"disabled"===t.mode||(t.mode="disabled",t.mode="hidden");for(var n=t.cues.length;n--;)t.removeCue(t.cues[n]);t.embedded||(t.mode="disabled"),t.inuse=!1}}))}function g(e){return"subtitles"===e||"captions"===e}function k(e){var t,n=Object(i.b)(e,this._unknownCount),r=n.label;if(this._unknownCount=n.unknownCount,this.renderNatively||"metadata"===e.kind){var a=this.video.textTracks;(t=Object(c.m)(a,{label:r}))||(t=this.video.addTextTrack(e.kind,r,e.language||"")),t.default=e.default,t.mode="disabled",t.inuse=!0}else(t=e).data=t.data||[];return t._id||(t._id=Object(i.a)(e,this._textTracks.length)),t}function m(e){this._textTracks.push(e),this._tracksById[e._id]=e}function b(){if(this._textTracks){var e=this._textTracks.filter((function(e){return e.embedded||"subs"===e.groupid}));this._initTextTracks(),e.forEach((function(e){this._tracksById[e._id]=e})),this._textTracks=e}}function y(e){var t=e.target,n=t._id,r=t.activeCues,i=t.cues;if(i&&i.length){var a=this._cues[n];this._cues[n]=Array.prototype.slice.call(i),this.parseNativeID3Cues(i,a)}else this._cues[n]=null;if(r&&r.length){var s=this._activeCues[n],u=this._activeCues[n]=Array.prototype.slice.call(r);this.triggerActiveCues(u,s)}else this._activeCues[n]=null}function p(e){var t=Object(a.a)(e);return{metadataType:"id3",metadataTime:e[0].startTime,metadata:t}}function _(e,t){return e.startTime===t.startTime&&e.endTime===t.endTime&&e.text===t.text&&e.data===t.data&&JSON.stringify(e.value)===JSON.stringify(t.value)}function x(e,t,n){var r=e.kind;this._cachedVTTCues[e._id]||(this._cachedVTTCues[e._id]={});var i,a=this._cachedVTTCues[e._id];switch(r){case"captions":case"subtitles":i=n||Math.floor(20*t.startTime);var s="_"+t.line,u=Math.floor(20*t.endTime),c=a[i+s]||a[i+1+s]||a[i-1+s];return!(c&&Math.abs(c-u)<=1)&&(a[i+s]=u,!0);case"metadata":var o=t.data?new Uint8Array(t.data).join(""):t.text;return!a[i=n||t.startTime+o]&&(a[i]=t.endTime,!0);default:return!1}}function C(e){if(e.length>this._textTracks.length)return!0;for(var t=0;t<e.length;t++){var n=e[t];if(!n._id||!this._tracksById[n._id])return!0}return!1}t.a=o},93:function(e,t,n){"use strict";function r(e){return{bitrate:e.bitrate,label:e.label,width:e.width,height:e.height}}n.d(t,"a",(function(){return r}))}}]);