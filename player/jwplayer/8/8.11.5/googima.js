!function(){function r(l){var u=t(l+"Locator");return null!==u&&function(e,t,r,i){var n,a,o=w(),s=function(e){var t=e?e.data:{};if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}var i=l+"Return";t[i]&&t[i].callId===o&&(removeEventListener("message",s),r(t[i].returnValue,t[i].success))};window.addEventListener("message",s,!1);var d=((a={})[[l+"Call"]]=((n={command:e,callId:o,parameter:i})[[void 0!==i?"version":"parameter"]]=t,n),a);u.postMessage(JSON.stringify(d),"*")}}var e,v="googima",C="TYPE_API",_="TYPE_SCHEDULE",n="jw-flag-ads-googleima",u="jw-flag-ads-vpaid",c="jw-flag-ads-vpaid-controls",p="playing",I="adError",g="adItem",E="adStarted",a="viewable",o="external",i=o,s="instream",d="article",l=((e={})[[s]]=1,e[["banner"]]=2,e[[d]]=3,e[["feed"]]=4,e[["floating"]]=5,e[["interstitial"]]=5,e[["slider"]]=5,e),h=new RegExp(/^[^/]*:\/\/\/?([^\/]*)/);var t=function(e){for(var t=window;t;){try{if(t.frames[e])break}catch(e){}t=t===window.top?null:t.parent}return t},f=new RegExp(/^[^:\/?#]+:?\/\/[^\/?#]+/);function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return null===y&&(y=new Promise(function(i){var e=window.__tcfapi||r("__tcfapi");if(e)return e("getTCData",2,function(e,t){i(!1!==t?{gdprApplies:e.gdprApplies,consentData:e.tcString}:null)},null);var t=window.__cmp||r("__cmp");return t?t("getConsentData","1.1",i):i({gdprApplies:!1,consentData:""})}).then(function(e){return e&&(b=e),b})),Promise.race([y,new Promise(function(e){setTimeout(e,t,b)})])}var y=null,b={gdprApplies:!0,consentData:""},w=Date.now||function(){return(new Date).getTime()};function j(e){var t=e.advertising;if(t&&t.placement){var i=t.placement.toLowerCase();if(l[i])return l[i]}return l[t&&t.outstream?d:s]}function A(){var e=function(e){return null!==e.match(f)}(document.referrer)?document.referrer:"";if(window.top===window.self)return{url:document.location.href,domain:document.domain,referrer:e};try{return{url:window.top.location.href,domain:window.top.document.domain,referrer:e}}catch(e){}return{url:e,domain:function(e){var t=e.match(h);return t&&1<t.length?t[1]:""}(e),referrer:""}}function P(e,t){var i=R(e,t);return"pre"===i?0:"post"===i?-1:i}function M(e,t,i){if(!e)return Promise.resolve(e);for(var r=t.getPlaylistItem()||{},n=t.getConfig(),a=A(),o=e.replace("__random-number__",Math.random()*Math.pow(10,18)).replace("__timestamp__",(new Date).getTime()).replace("__page-url__",encodeURIComponent(a.url)).replace("__referrer__",encodeURIComponent(a.referrer)).replace("__player-height__",t.getHeight()||n.height).replace("__player-width__",t.getWidth()||n.width).replace("__item-duration__",function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}(t.getDuration(),3)).replace("__jwpseg__",Array.isArray(r.jwpseg)?r.jwpseg.join(","):"").replace("__domain__",encodeURIComponent(a.domain)).replace("__placement__",j(n)).replace("__device-ua__",encodeURIComponent(navigator.userAgent)),s=(o=i.companiondiv&&i.companiondiv.id?o.replace("__companion-div__",i.companiondiv.id):o.replace("__companion-div__","")).match(new RegExp(/__item-[a-z 0-9 A-Z]*__/g)),d=0;s&&d<s.length;d++){var l=s[d],u=l.substring(7,l.length-2);if(r.hasOwnProperty(u)&&t._.isString(r[u])){var c=r[u],p=i.truncateMacros?1e3:4096;c.length>p&&(c=c.substring(0,p)),o=o.replace(l,encodeURIComponent(c))}else o=o.replace(l,"")}if(r.title&&-1===o.indexOf("vid_t=")){var g=r.title.substring(0,100).replace(/[^\x00-\x7F]/g,"");o+=function(e){return-1!==e.indexOf("?")?"&":"?"}(o)+"vid_t="+encodeURIComponent(g)}return-1!==o.indexOf("__gdpr__")||-1!==o.indexOf("__gdpr_consent__")?m().then(function(e){var t=e.gdprApplies,i=e.consentData;return o.replace("__gdpr__",t?1:0).replace("__gdpr_consent__",i)}).catch(function(){return o}):Promise.resolve(o)}function L(e,t,i,r){var n=T(e,i,r),a=t.getVastErrorCode?t.getVastErrorCode():t.code,o=t.getErrorCode?t.getErrorCode():t.adErrorCode;return Object.assign(n,{message:"Ad Error: "+(t.getMessage?t.getMessage():t.message),code:100<=a&&a<=1008?a:900,adErrorCode:o<1e4?o+2e4:o||60900}),void 0!==t.id&&(n.id=t.id),void 0!==t.placement&&(n.placement=t.placement),t.getInnerError&&(n.sourceError=t.getInnerError()),void 0!==t.tag&&(n.tag=t.tag),n}function T(e,t,i){var r=1<arguments.length&&void 0!==t?t:null,n=2<arguments.length&&void 0!==i?i:{},a={client:v},o=e&&!e.destroyed();if(o){var s=e.player;Object.assign(a,{placement:j(s.getConfig()),viewable:s.getViewable()}),r&&(a.adposition=S(s))}var d=r?r.getAdPodInfo():null;if(d){var l=d.getTotalAds();1<l&&Object.assign(a,{sequence:d.getAdPosition(),podcount:l});var u=d.getTimeOffset();0===u?a.adposition="pre":-1===u&&(a.adposition="post")}var c=o?e.adsLoaderManager:n.loader;if(c){var p=d?d.getTimeOffset():void 0!==n.offset&&n.offset||c.getTimeoffsetFromPosition_();Object.assign(a,{adBreakId:c.getAdBreakId(p),adPlayId:c.getAdPlayId(p,d?d.getAdPosition():void 0),id:c.getAdBreakId(p)});var g=c.getBid(p);if(g&&Object.assign(a,g.getEventObject()),r){var h=a.mediationLayerAdServer;if("dfp"===h||"jwpdfp"===h)-1!==r.getWrapperAdSystems().concat(r.getAdSystem()).indexOf("SpotXJW")&&a.bidders.forEach(function(e){e.winner="SpotX"===e.name});var f=c.userRequestContext;Object.assign(a,{adposition:f&&f.adPosition||a.adposition,tag:c.getTag(r),ima:{ad:r,userRequestContext:f}})}}if(r){Object.assign(a,{adtitle:r.getTitle(),adsystem:r.getAdSystem(),creativetype:r.getContentType(),duration:r.getDuration(),linear:r.isLinear()?"linear":"nonlinear",description:r.getDescription(),creativeAdId:r.getCreativeAdId(),adId:r.getAdId(),universalAdId:r.getUniversalAdIds().map(function(e){return{universalAdIdRegistry:e.g,universalAdIdValue:e.h}})});var m=r.getMediaUrl();m&&(a.mediaFile={file:m})}return void 0!==n.offset&&Object.assign(a,{adposition:a.adposition||n.offset,offset:n.offset}),a}function S(e){return e.isBeforePlay()||0===e.getPosition()?"pre":e.isBeforeComplete()||e.getPosition()===e.getDuration()?"post":"mid"}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if("start"===e||"0%"===e)return"pre";if("end"===e||"100%"===e)return"post";if("string"==typeof e&&("pre"===e||"post"===e||0<=e.indexOf("%")))return e;var i=t.seconds(e);return"number"==typeof i&&!isNaN(i)&&i}function D(e,t){var i=R(e,t);return i?"number"!=typeof i||isNaN(i)?i:function(e){var t=parseInt(e,10),i=Math.floor(t)%1e3,r=Math.floor(t/1e3)%60,n=Math.floor(t/6e4)%60,a=Math.floor(t/36e5)%24;return(a=a<10?"0"+a:a)+":"+(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+"."+(i=("000"+i).slice(-3))}(1e3*i):"pre"}function x(e,t,i){if(!i)return e;var r=0<=e.indexOf("?")?"&":"?",n="cust_params=",a=e.indexOf(n),o=n.length,s="",d="";if(t.foreach(i,function(e,t){s=""+s+d+e+"="+t,d="&"}),s=encodeURIComponent(s),0<=a){var l=e.substr(0,a+o),u=e.substr(a+o);return""+l+s+"%26"+u}return e+r+"cust_params="+s}var O=(B.prototype.getAdsResponse=function(o){var s=this,d=document.implementation.createDocument("http://www.iab.net/videosuite/vmap","vmap:VMAP",null),l=d.documentElement;return l.setAttribute("version","1.0"),Object.keys(o).forEach(function(e){var t=o[e],i=void 0;if(t.adm){if(null===function(e,t,i){var r=i.parseXML(t);return r?e.appendChild(r.documentElement):null}(i=d.createElement("vmap:VASTAdData"),t.adm,s.player.utils))return void s.player.trigger(I,s._getParserErrorObject(t))}else(i=d.createElement("vmap:AdTagURI")).appendChild(d.createCDATASection(t.tag));var r=l.appendChild(d.createElement("vmap:AdBreak"));r.setAttribute("breakId",e),r.setAttribute("breakType",t.type);var n=t.offset.replace("pre","start").replace("post","end");r.setAttribute("timeOffset",n);var a=r.appendChild(d.createElement("vmap:AdSource"));a.setAttribute("allowMultipleAds","true"),a.setAttribute("followRedirects","true"),a.setAttribute("id",e+"-ad-1"),a.appendChild(i)}),l.outerHTML||(new XMLSerializer).serializeToString(l)},B.prototype.normalize=function(s){var r=this,d=this.player.utils;"string"==typeof s&&(s={0:{tag:s}});var e=Object.keys(s),t=e.map(function(e){var t=s[e],i=t.ad||t;if(i.tag)return i.tag=x(i.tag,d,i.custParams),M(i.tag,r.player,r.options,i.custParams)});return Promise.all(t).then(function(o){return e.reduce(function(e,t,i){var r=s[t],n=r.ad||r,a=o[i];return e[t]={offset:D(n.offset||n.position||r.offset||"",d),adm:n.adm,tag:a,type:n.type||r.type||"linear,nonlinear"},e},{})})},B.prototype.getTagMap=function(n){var a=this.player,o=a.utils;return Object.keys(n).reduce(function(e,t){var i=n[t],r=R(i.offset,o);return a._.isString(r)&&(r=parseFloat(r.replace("pre","0").replace("post","-1"))),e[r]={offset:r,adm:i.adm,tag:i.tag},e},{})},B.prototype._getParserErrorObject=function(e){return L(null,{message:"XML parsing error",code:100,adErrorCode:20100,placement:j(this.player.getConfig()),tag:e.adm},null,{loader:this.loader,offset:e.offset})},B);function B(e,t,i){k(this,B),this.player=e,this.loader=t,this.options=i}var q={adPosition:"",autoplayadsmuted:!1,companiondiv:null,companionResourceType:"",debug:!1,enablePreloading:!1,loadVideoTimeout:15e3,locale:"",maxRedirects:-1,preloadAds:!1,requestTimeout:1e4,truncateMacros:!0,vastLoadTimeout:1e4,vpaidcontrols:!1,vpaidmode:"insecure"};function U(e){if("true"===e)return!0;if("false"===e)return!1;var t=parseFloat(e);return isNaN(t)?e:t}var N=(V.prototype.getSingleTagPrerollBlock=function(){var e=this.getConfigSchedule(),t=this.singleTagBidsResponse;if("string"!=typeof e)return null;if(!t)return e;if(t.adm)return[{adm:t.adm}];var i=t.custParams;return x(t.tag,this.utils,i)},V.prototype.addBidsResponse=function(e,t){var i=void 0;i=e&&!e.error&&(e.adm||e.tag)?e:null,t?this.bidsResponse[t]=i:this.singleTagBidsResponse=i},V.prototype.resetBidsResponse=function(){this.bidsResponse={},this.singleTagBidsResponse=null},V.prototype.getSchedule=function(){var n=this,e=this.getConfigSchedule();if(!e)return e;var t=this.utils.extend({},e),i=this.getSingleTagPrerollBlock();return i||Object.keys(this.bidsResponse).reduce(function(e,t){var i=e[t],r=n.bidsResponse[t];return i&&r&&(e[t]=Object.assign({},i,{adm:r.adm,tag:r.tag,custParams:Object.assign({},i.custParams,r.custParams)})),e},t)},V.prototype.getConfigSchedule=function(){var e=this.config;return e.tag||this.adschedule||e.schedule||e.ad},V.prototype.getAdRules=function(){var e=this.config.rules||{},t=parseInt(e.frequency,10);return{startOn:e.startOn||1,frequency:isNaN(t)?1:t}},V.prototype.setLocalizationOptions=function(e){var t=e.admessage,i=e.cuetext,r=e.podmessage,n=e.loadingAd;this.admessage=t,this.cuetext=i,this.podmessage=r,this.loadingAd=n},V);function V(e,t){for(var i in k(this,V),this.config=e,this.utils=t,this.bidsResponse={},q)if(q.hasOwnProperty(i)){var r=e[i],n=q[i],a=typeof n;if(void 0!==r){if("boolean"!=a&&"number"!=a||(r=U(r)),typeof r!=a)throw new Error("invalid parameter: "+i+" should be a "+a);this[i]=r}else this[i]=n}}var z=(H.prototype.resizeNonLinear=function(e){this.resize(!1,e)},H.prototype.resizeLinear=function(){this.resize(!0)},H.prototype.resize=function(e,t){var i=this.utils;i.toggleClass(this.div,"jw-ad-non-linear",!e),i.toggleClass(this.div,"jw-ad-linear",e),i.style(this.div,{height:t?t+"px":""})},H.prototype.getAdDiv=function(){return this.adDiv},H.prototype.adSetup=function(){this.visible=!0,this.utils.addClass(this.div,"jw-ad-instream"),this.resize(!0)},H.prototype.adTakeDown=function(){this.visible=!1,this.utils.removeClass(this.div,"jw-ad-instream"),this.resize(!0)},H);function H(e,t,i){k(this,H),i.addClass(e,"jw-plugin-googima");var r=document.createElement("div");r.id=t+"_ad",r.className="jw-ads-view",this.visible=!1,this.utils=i,this.div=e,this.adDiv=r,e.appendChild(r)}var W=null;function F(e){if(W)return W;if(window.google&&google.ima&&google.ima.AdDisplayContainer)return W=Promise.resolve();var t=["//","imasdk.googleapis.com/js/sdkloader/ima3.js"];"file:"===document.location.protocol&&t.unshift("https:");var i=new e.scriptloader(t.join(""));return W=i.load()}var G={};function J(r,o,s){var e=G[o];return e||(G[o]=new Promise(function(n,a){!function(t){var e=new r.key(o);if("unlimited"===e.edition())return t();var i=["//","entitlements.jwplayer.com","/",e.token(),".json"];"file:"===window.location.protocol&&i.unshift("https:"),r.ajax(i.join(""),function(e){t(e&&e.response)},function(){t()},{timeout:1e4,responseType:"json"})}(function(e){var t=e||{},i=void 0,r=void 0;r=!0===s.outstream?(i=!1!==t.canPlayOutstreamAds,"Outstream Ad Limit Reached"):(i=!1!==t.canPlayAds,"Ad Limit Reached"),!1!==i?n({message:"Can Play Ads"}):a({message:r})})}))}var X,K,$,Q=(Y.prototype.setProxy=function(e){this.imaProxy=e,"boolean"==typeof this.muted&&this.mute(this.muted)},Y.prototype.attachMedia=function(){},Y.prototype.detachMedia=function(){},Y.prototype.mute=function(e){this.muted=e,this.imaProxy&&(e?this.imaProxy.setVolume(0):this.vol&&this.imaProxy.setVolume(this.vol)),this.muteAllAdContainerVideo(e)},Y.prototype.muteAllAdContainerVideo=function(e){for(var t=this.view.getAdDiv().getElementsByTagName("video"),i=0;i<t.length;i++)t[i].muted=e},Y.prototype.volume=function(e){this.vol=e/100,this.imaProxy&&this.imaProxy.setVolume(this.vol)},Y);function Y(e,t,i){k(this,Y),e.extend(this,t),this.vol=0,this.imaProxy=null,this.view=i}var Z=2e3,ee=3500,te="USD",ie=1,re="//c.amazon-adsystem.com/aax2/apstag.js",ne="video",ae="3.0.0",oe="//js-sec.indexww.com/htv/htv-jwplayer.min.js",se="//js.spotx.tv/directsdk/v1/",de="//search.spotxchange.com/ad/vast.html?key=",le="dfp",ue="jwp",ce="jwpspotx",pe="jwpdfp",ge=ue,he="FAN",fe="Index",me="OpenRTB",ve="SpotX",ye=((X={})[[le]]=["APS",he,fe,me,ve],X[[ue]]=[he,me,ve],X[[pe]]=[he,me,ve],X[[ce]]=[ve],X),be="Error loading script",we=((K={})[["EMX"]]={endpoint:"https://hbint.emxdgt.com"},K[["PubMatic"]]={endpoint:"https://openbid.pubmatic.com/translator"},K[["Telaria"]]={endpoint:"https://jwplayer.eb.tremorhub.com/ad/rtb/jwp",preflight:!0},K),Ae=1,Pe=2,Ce=1,_e=2,Ie=3,Ee=4,je=5,Me=6,Le=7,Te=8,Se=1,ke=2,Re=3,De=4,xe=5,Oe=6,Be={BID_WON:0,BID_BELOW_AUCTION_FLOOR:100,LOST_TO_HIGHER_BID:102},qe="abort",Ue="bid",Ne="error",Ve="invalid",ze="noBid",He="timeout",We=(($={})[[ze]]=0,$[[Ue]]=1,$[[He]]=2,$[[Ve]]=3,$[[qe]]=4,$[[Ne]]=5,$),Fe={0:500,400:501,500:503,597:502},Ge=[{message:"SpotX :: Unable to find ad",result:ze,code:We[ze]},{message:be,result:Ne,code:6},{message:"Invalid options: 'slot' is required",code:300},{message:"Invalid options: 'slot' must be part of DOM",code:301},{message:"Invalid options: 'channel_id' is required.",code:302},{message:"Invalid options: 'content_width' and 'content_height' are required when no 'video_slot' is provided.",code:303},{message:"Invalid options: 'content_width' provided but 'content_height' is not.",code:304},{message:"Invalid options: 'content_height' provided but 'content_width' is not.",code:305},{message:"Invalid options: 'custom' must be an object.",code:306},{message:"Invalid options: 'token' must be an object.",code:307},{message:"Invalid options: 'ados' must be an object.",code:308},{message:"Invalid options: 'contentPageUrl' must be a string.",code:309},{message:"Invalid options: 'demand_source_timeout' must be a number.",code:310},{message:"Invalid options: 'total_bid_timeout' must be a number.",code:311}],Je=320,Xe=[{message:"Incorrect domain",code:321},{message:"unsupported_platform",code:322},{message:"Request_URL_noncompliant",code:323},{message:"Application not authorised for header bidding",code:324},{message:"pageurl is required",code:325},{message:"adformats",code:326}],Ke=Date.now||function(){return(new Date).getTime()};function $e(e,r){var t=(e||[]).filter(function(e){var t=e.min,i=e.max;return(t||0)<=r&&r<=(i||1/0)})[0];if(t){var i=t.min?Math.floor(100*t.min):0,n=Math.floor(100*r),a=.01<=t.increment?Math.floor(100*t.increment):1;return(i+Math.floor((n-i)/a)*a)/100}return parseFloat(r)}function Qe(e,t,i,r){var n=3<arguments.length&&void 0!==r?r:{},a=e.createElement(t);return a.appendChild(e.createCDATASection(i)),Object.keys(n).forEach(function(e){a.setAttribute(e,n[e])}),a}function Ye(e){if("start"===e||"0%"===e||!e||"pre"===e||"00:00:00"===e)return 0;if("end"===e||"100%"===e||"post"===e)return-2;if("string"==typeof e&&0<=e.indexOf("%"))return-1;var t=parseInt(e);return 0<=t?t:-1}function Ze(e,t){return new t.scriptloader(e,!1,ee).load().catch(function(){return Promise.reject({message:be})})}function et(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)}function tt(e,t){return e.replace(/\$\{AUCTION_ID\}/g,t.id).replace(/\$\{AUCTION_BID_ID\}/g,t.bid||"").replace(/\$\{AUCTION_IMP_ID\}/g,t.imp).replace(/\$\{AUCTION_SEAT_ID\}/g,t.seat||"").replace(/\$\{AUCTION_AD_ID\}/g,t.ad||"").replace(/\$\{AUCTION_CURRENCY\}/g,t.cur)}function it(e,t,i){var r=i?i.priceInCents:"",n=t.priceInCents?r/t.priceInCents:"",a=Be[i?"LOST_TO_HIGHER_BID":"BID_BELOW_AUCTION_FLOOR"];return e.replace(/\$\{AUCTION_PRICE\}/g,r/100).replace(/\$\{AUCTION_MBR\}/g,n).replace(/\$\{AUCTION_LOSS\}/g,t.winner?Be.BID_WON:a)}var rt={postAuctionHandler:function(e,t){if((!t||t.winner)&&e.result===Ue){e.adm&&(e.adm=it(e.adm,e,t));var i=e.winner?e.custom.nurl:e.custom.lurl;if(i)if(e.winner&&!e.adm)e.tag=it(i,e,t);else{var r=new XMLHttpRequest;r.open("POST",it(i,e,t));var n=we[e.name];n&&n.preflight&&r.setRequestHeader("x-openrtb-version","2.5"),r.withCredentials=!0,r.send(null)}}return delete e.custom,e},requestBids:function(c,p,i,g){var r=we[c.name];if(!r||!c.id||!c.pubid)return Promise.resolve({result:Ve});var e=void 0!==p.skipoffset,t=g.getURLParts(),h={id:p.adPlayId,imp:[{id:"1",displaymanager:"jwplayer",tagid:c.id,video:{mimes:function(e){var t=document.createElement("video");return e.filter(function(e){return t.canPlayType(e)})}(["video/mp4","video/ogg","video/webm","video/aac","application/vnd.apple.mpegurl"]).concat("application/javascript"),minduration:3,maxduration:300,protocols:[Ce,_e,Ie,Le,Ee,je,Me,Te],w:p.playerWidth,h:p.playerHeight,startdelay:Ye(p.offset),placement:p.placement,linearity:1,skip:e?1:0,skipmin:e?p.skipoffset+2:void 0,skipafter:p.skipoffset,playbackmethod:[function(e){var t=e.autoplay,i=e.mute,r=e.autoplayAdsMuted;if(t){var n=i||r;return"viewable"===t?n?Oe:xe:n?ke:Se}return i?De:Re}(p)],api:[Ae,Pe]},bidfloor:p.floorPriceCents/100,bidfloorcur:p.floorPriceCurrency,secure:"https:"===window.location.protocol?1:0}],site:{domain:t.domain,page:t.url,ref:t.referrer,publisher:{id:c.pubid}},device:{ua:window.navigator.userAgent,language:p.language.substring(0,2)},at:1};return(!0===p.autoplay||"viewable"===p.autoplay&&p.viewable)&&(h.tmax=p.bidTimeout),p.jwpseg&&(h.imp[0].video.ext={jwpseg:p.jwpseg}),g.getGDPRConsentData().then(function(e){var t=e.gdprApplies,i=e.consentData;h.regs={ext:{gdpr:t?1:0}},t&&(h.user={ext:{consent:i}})}).then(function(){return new Promise(function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===this.readyState&&(e(this),t=null)},t.open("POST",r.endpoint),r.preflight&&(t.setRequestHeader("content-type","application/json"),t.setRequestHeader("x-openrtb-version","2.5")),t.withCredentials=!0,t.send(JSON.stringify(h)),i.then(function(){t&&(t.abort(),t=null)})})}).then(function(e){if(200!==e.status)return 204===e.status?{result:ze}:400===e.status?{result:Ve}:{result:Ne};var t=JSON.parse(e.responseText),i=t.cur?t.cur:te;if(p.floorPriceCurrency!==i.toUpperCase())return{result:Ne,code:551};if(t.id===h.id&&t.seatbid&&t.seatbid.length){var r=void 0,n=t.seatbid.reduce(function(e,t){if(null===e&&t&&t.bid&&t.bid.length){var i=t.bid.filter(function(e){return e.impid===h.imp[0].id});if(i.length)return r=t.seat,i[0]}return e},null);if(n){if(n.adm){var a=g.parseXML(n.adm);if(null===a)return{result:Ve,code:331};n.adm=et(a.documentElement)}else if(!n.nurl)return{result:Ve,code:330};var o={id:h.id,bid:t.bidid,imp:n.impid,seat:r,ad:n.adid,cur:i},s={result:Ue,priceInCents:100*n.price,priceCurrency:t.cur||p.floorPriceCurrency,adm:n.adm?tt(n.adm,o):null,custom:{exp:n.exp,nurl:n.nurl?tt(n.nurl,o):null,lurl:n.lurl?tt(n.lurl,o):null}};if(p.mediationLayerAdServer===le||p.mediationLayerAdServer===pe){var d,l=g.genId(12),u=c.name.toLowerCase();s.adm||(s.adm=function(e,t){return'\n<VAST version="4.0">\n    <Ad id="'+e+'">\n        <Wrapper>\n            <AdSystem version="0.2.17">JWP</AdSystem>\n            <VASTAdTagURI><![CDATA['+t+"]]></VASTAdTagURI>\n        </Wrapper>\n    </Ad>\n</VAST>\n"}(l,s.custom.nurl)),s.cacheKey=l,s.custParams=((d={})[["vpb_"+u+"_key"]]=l,d[["vpb_"+u+"_bid"]]=$e(p.buckets,n.price).toFixed(2),d)}return s}}return{result:ze,code:void 0!==t.nbr?t.nbr+400:We[ze]}})}};var nt={requestBids:function(e,l,i,t){var u=e.id,c=t.getURLParts(),r=function(e,t,i,r){return["https://an.facebook.com/v2/placementbid.json?&placementids[]="+e,"&playerwidth="+t,"&playerheight="+i,"&adformats[]="+ne,"&SDK[]="+ae,"&pageurl="+encodeURIComponent(r.url),"$random="+Math.random()*Math.pow(10,18)].join("")}(u,l.playerWidth,l.playerHeight,c);return function(e,t,i,r){return!!r&&(e===le||t&&i===te)}(l.mediationLayerAdServer,l.floorPriceCents,l.floorPriceCurrency||te,r)?new Promise(function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===this.readyState&&(e(this),t=null)},t.open("GET",r),t.withCredentials=!0,t.send(null),i.then(function(){t&&(t.abort(),t=null)})}).then(function(e){if(200!==e.status)return{result:Ne,message:"Invalid response (status "+e.status+")"};var t=JSON.parse(e.responseText),i=t.errors,r=t.request_id;if(i&&i.length)return{result:Ve,code:function(t){var e=Xe.filter(function(e){return 0<=t.indexOf(e.message)})[0];return e?e.code:Je}(i[0]),requestId:r};var n=t.bids;if(!n||!n[u]||!n[u][0])return{result:ze,requestId:r};var a=n[u][0],o=a.bid_price_cents,s=a.bid_id;if(l.mediationLayerAdServer===le||l.mediationLayerAdServer===pe)return{result:Ue,tag:l.tag,custParams:{jwFANBidPrice:$e(l.buckets,o/100).toFixed(2),jwFANBidID:s},requestId:r};var d={result:Ue,priceInCents:o,priceCurrency:a.bid_price_currency,requestId:r};return o>=l.floorPriceCents&&(d.tag=function(e,t,i,r,n){return["https://an.facebook.com/v1/instream/vast.xml?placementid="+e,"&playerwidth="+i,"&playerheight="+r,"&SDK[]="+ae,"&bidid="+t,"&pageurl="+encodeURIComponent(n.url)].join("")}(u,s,l.playerWidth,l.playerHeight,c)),d}).catch(function(e){return{result:Ne,message:"FAN header bidding failed: "+e}}):Promise.resolve({result:Ve})}},at=null;function ot(t){return null===at&&(at=Promise.resolve(window.apstag).then(function(e){return e&&e.init&&e.fetchBids?e:Ze(["file"===document.location.protocol?"https:":"",re].join(""),t).then(function(){return window.apstag})}).catch(function(e){throw at=null,e})),at}var st=null,dt=null;function lt(e,t){if(null===dt){var i=Ke(),r=st||window.SpotX;if(r&&r.DirectAdOS)return dt=Promise.resolve({SpotX:r,loadingTime:0});var n=["file"===document.location.protocol?"https:":"",se,e,".js"].join("");(dt="function"==typeof require?function(i){return new Promise(function(e,t){setTimeout(t,ee),require([i],e,t)}).catch(function(){return Promise.reject({message:be})})}(n).then(function(e){return{SpotX:st=e,loadingTime:Ke()-i}}).catch(function(){return ut(n,i,t)}):ut(n,i,t)).catch(function(){dt=null})}return dt}function ut(e,t,i){return Ze(e,i).then(function(){return{SpotX:window.SpotX,loadingTime:Ke()-t}})}var ct=void 0;var pt={postAuctionHandler:function(e){return e.scriptLoadingTime=ct,e},requestBids:function(e,l,t,i){if(!e.id)return Promise.resolve({result:Ve,code:302});var r={placement:l.placement,hide_skin:!0,no_vpaid_ads:!1},n={channel_id:e.id,slot:l.playerContainer,content_width:l.playerWidth,content_height:l.playerHeight,player_vendor:"SpotXJW",player_vendor_id:l.playerId,ad_volume:l.adVolume,ad_mute:l.mute?1:0,autoplay:l.autoplay,blocked_autoplay_override_mode:l.autoplayAdsMuted,start_delay:Ye(l.offset)},a=Object.assign(r,e.optionalParams,n);return e.passFloorPrice&&l.floorPriceCents&&(a.price_floor=l.floorPriceCents/100),l.jwpseg&&(a.custom=a.custom||{},a.custom.jwpseg=l.jwpseg),lt(e.id,i).then(function(e){var t=e.SpotX,i=e.loadingTime;ct=i;var r=new t.DirectAdOS(a),n=Ke();return r.getAdServerKVPs().then(function(e){return{response:e,bidNetworkStartTime:n}})}).then(function(e){var t=e.response,i=e.bidNetworkStartTime,r=Ke()-i,n=t.spotx_ad_key,a={spotx_bid:$e(l.buckets,t.spotx_bid).toFixed(2),spotx_ad_key:n},o=100*parseFloat(t.spotx_bid),s={result:Ue,priceInCents:o,custParams:a,scriptLoadingTime:ct,bidNetworkResponseTime:r};if(l.mediationLayerAdServer===le)return s;var d=["file:"===document.location.protocol?"https:":"",de,n].join("");return Object.assign(s,{tag:d,tagKey:n})}).catch(function(t){var e=Ge.filter(function(e){return e.message===t.message})[0];return e?{result:e.result||Ve,code:e.code,scriptLoadingTime:ct}:{result:Ne,message:"SpotX header bidding failed: "+t,scriptLoadingTime:ct}})}},gt=null;function ht(t,i){return null===gt&&(gt=Promise.resolve(window.indexapi).then(function(e){return e||Ze(["file"===document.location.protocol?"https:":"",t||oe].join(""),i).then(function(){return window.indexapi})}).catch(function(e){throw gt=null,e})),gt}function ft(n,a,o){var s=n.filter(function(e){return e&&e.result===Ue&&e.adm&&e.cacheKey});return 0===s.length?Promise.resolve({bids:n}):new Promise(function(t){function i(e){return function(){t({result:e,code:this.status,time:Ke()-r|0}),n=null}}var e=s.map(function(e){return{type:"xml",ttlseconds:(e.custom||{}).exp||86400,value:o.getTrackingPixelURLs?function(e,t){var i=t.parseXML(e.adm);if(null===i)return e.adm;for(var r=t.getTrackingPixelURLs(e.name,e.cacheKey),n=r.impression,a=r.error,o=i.querySelectorAll("InLine,Wrapper"),s=0;s<o.length;s+=1)o[s].appendChild(Qe(i,"Impression",n,{id:e.cacheKey})),o[s].appendChild(Qe(i,"Error",a));return et(i)}(e,o):e.adm,key:e.cacheKey}}),r=Ke(),n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState){var e=200===this.status?Ue:Ne;i(e)()}},n.onabort=i(qe),n.onerror=i(Ne),n.ontimeout=i(He),n.open("POST","https://vpb-cache.jwplayer.com/cache"),n.send(JSON.stringify({puts:e})),a.then(function(e){var t=e.result;n&&(n.onabort=i(t),n.abort(),n=null)})}).then(function(e){var t=e.result,i=e.code,r=e.time;return s.forEach(function(e){e.result=t,e.result===Ne&&(e.code=function(e){var t=100*parseInt(e/100,10);return Fe[e]||Fe[t]||599}(i))}),{bids:n,time:r}})}var mt,vt={requestBids:function(e,r,t,i){if(!e.id&&!e.script)return Promise.resolve({result:Ve});var n=Object.assign({videoCommonArgs:{protocols:[2,3,5,6],mimes:["video/mp4","video/webm","application/javascript"],apiList:[1,2]},siteID:e.id},e);return ht(e.script,i).then(function(e){return new Promise(function(i){e.deferQueue=e.deferQueue||[],e.deferQueue.push(function(){e.solicitIndexVideoAds(r.tag,function(e,t){i({updatedTag:e,indexTargeting:t})},n)})})}).then(function(e){var t=e.indexTargeting;return void 0!==t?{result:Ue,tag:r.tag,custParams:t}:{result:ze}}).catch(function(e){return{result:Ne,message:"Index Exchange header bidding failed: "+e}})}},yt=((mt={})[["APS"]]={requestBids:function(i,r,e,t){return i.id&&i.slotID?ot(t).then(function(t){return t.init({id:i.pubId,adServer:i.adServer}),new Promise(function(e){t.fetchBids({slots:[{slotID:i.slotID}],timeout:r.bidTimeout},e)})}).then(function(e){return e&&e[0]&&e[0].slotID===i.slotID?{result:Ue,tag:r.tag,custParams:{amznbid:e[0].amznbid,amzniid:e[0].amzniid}}:{result:ze}}).catch(function(e){return{result:Ne,message:"Amazon header bidding failed: "+e}}):Promise.resolve({result:Ve})}},mt[[he]]=nt,mt[[fe]]=vt,mt[[me]]=rt,mt[[ve]]=pt,mt);var bt=(wt.prototype.start=function(){return this._bidRequest||(this._bidRequest=function(e){var t=e.bidders,a=e.eventProps,o=e.settings,s=e.onCancel,d=e.utils,l=o.mediationLayerAdServer===le||o.mediationLayerAdServer===pe,u=o.mediationLayerAdServer===ue||o.mediationLayerAdServer===pe||o.mediationLayerAdServer===ce,c=[],p=null,g=null,i=t.map(function(i,r){var n=Ke(),e=Promise.race([yt[i.type||i.name].requestBids(i,o,s,d),s]).then(function(e){var t=Object.assign({},i,e,{timeForBidResponse:Ke()-n|0},u&&{winner:!1});return u&&t.result===Ue&&t.priceInCents>=o.floorPriceCents&&(null===g||t.priceInCents>g.priceInCents)&&(g=t),t}).catch(function(e){return Object.assign({},i,{result:Ne,code:550,message:e,timeForBidResponse:Ke()-n|0})});return l&&i.type===me?(c[r]=e).then(function(t){return null===p&&(p=Promise.all(c).then(function(e){return null!==g?e:ft(e,s,d).then(function(e){var t=e.bids,i=e.time;return a.timeForVPBCache=i,t})})),p.then(function(e){return e[r]}).catch(function(e){return Object.assign(t,{result:Ne,code:590,message:e})})}):e});return Promise.all(i).then(function(e){if(u&&g)return g.winner=!0,{bidders:e,result:g};if(l){var t=e.reduce(function(e,t){return t.result===Ue?Object.assign(e||{},t.custParams):e},null),i={bidders:e};return null!==t&&(i.result={tag:o.tag,custParams:t}),i}return{bidders:e}}).then(function(i){return i.bidders=i.bidders.map(function(e){e.code=e.code||We[e.result];var t=yt[e.type||e.name];return"function"==typeof t.postAuctionHandler?t.postAuctionHandler(e,i.result):e}),Object.assign(t,i.bidders),i})}({bidders:this.bidders,eventProps:this.eventProps,settings:this.settings,onCancel:this.onCancel,utils:this.utils})),this._bidRequest},wt.prototype.stop=function(){var t=this;clearTimeout(this._currentTimeout),this._onCancelTrigger({result:qe}),this._bidRequest=null,this._currentTimeout=null,this._onCancelTrigger=null,this.onCancel=new Promise(function(e){t._onCancelTrigger=e})},wt.prototype.getEventObject=function(){var e=this.settings.mediationLayerAdServer,t={bidsVersion:"0.2.17",mediationLayerAdServer:e,bidders:[].concat(this.bidders),bidTimeout:this.settings.bidTimeout};e!==ue&&e!==pe||(t.floorPriceCents=+this.settings.floorPriceCents||0);var i=this.settings.floorPriceCurrency;return i&&(t.floorPriceCurrency=i),void 0!==this.eventProps.timeForVPBCache&&(t.timeForVPBCache=this.eventProps.timeForVPBCache),t},wt.prototype.then=function(e){return this._bidRequest?this._bidRequest.then(e,e):null},wt.prototype.timeout=function(){clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(this._onCancelTrigger,this.settings.bidTimeout,{result:He})},wt);function wt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,i=void 0===t?{}:t,r=e.bidders,n=void 0===r?[]:r,a=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=arguments[2];k(this,wt),this.settings=function(e,t){var i=Object.assign({bidTimeout:Z,buckets:[],offset:"",playerContainer:t.container,playerHeight:t.height||0,playerWidth:t.width||0,tag:"",placement:1},t,e);return ye[i.mediationLayerAdServer]||(i.mediationLayerAdServer=ge),i.mediationLayerAdServer===ce&&(i.floorPriceCents=ie),i.floorPriceCurrency?i.floorPriceCurrency=i.floorPriceCurrency.toUpperCase():void 0!==i.floorPriceCents&&(i.floorPriceCurrency=te),i}(i,o),this.utils=s,this.eventProps={};var d=0===Ye(this.settings.offset),l=this.settings.mediationLayerAdServer===ue||this.settings.mediationLayerAdServer===pe,u=ye[this.settings.mediationLayerAdServer];this.bidders=n.filter(function(e){return(!isNaN(parseFloat(a.settings.floorPriceCents))||!l)&&(-1!==u.indexOf(e.type||e.name)&&(d||e.type===me||e.name===ve))}).map(function(e){return"APS"===e.name&&e.id&&e.slotID?ot(s):e.name===fe&&(e.script||e.id)?ht(e.script,s):e.name===ve&&e.id&&lt(e.id,s),Object.assign(e,e.custom_params)}),this._bidRequest=null,this._currentTimeout=null,this._onCancelTrigger=null,this.onCancel=new Promise(function(e){a._onCancelTrigger=e})}function At(){return null}var Pt=(Ct.prototype.startBid=function(i,e,r){var n=this,t=this.player,a=t.getPlugin("jwpsrv"),o=this.utils.extend({},i.config.bids),s=e.offset,d=t.getConfig(),l=new bt(o,{adPlayId:this.adsLoaderManager.getAdPlayId(s),tag:e.tag,offset:s,width:t.getWidth(),height:t.getHeight(),container:t.getContainer(),playerId:t.id,autoplay:d.autostart,autoplayAdsMuted:i.autoplayadsmuted,adVolume:t.getVolume(),mute:t.getMute(),outstream:!!d.advertising&&d.advertising.outstream,placement:j(d),language:i.locale||d.language,viewable:1===t.getViewable(),jwpseg:this.item.jwpseg},{genId:this.utils.genId,getGDPRConsentData:m,getTrackingPixelURLs:a?a.getTrackingPixelURLs:null,getURLParts:A,parseXML:this.utils.parseXML,scriptloader:this.utils.scriptloader});return this.bids.push(l),l.start(),Promise.resolve().then(function(){return n.adsLoaderManager.setBid(s,l),n.trigger("adBidRequest",T(n,null,{offset:s})),l.then(function(e){var t=e.result;if(n.destroyed())return null;i.addBidsResponse(t,r),n.trigger("adBidResponse",T(n,null,{offset:s}))})})},Ct.prototype.init=function(e,u){var c=this,t=u.config.bids;if(t){var i=u.getSchedule();if("string"==typeof i)this.startBid(u,{tag:i,offset:"pre"});else{var r=parseInt(t.bidOnBreaks);r=0<r?r:1/0,Object.keys(i).slice(0,r).forEach(function(e){c.startBid(u,i[e],e)})}}var p=this.adsLoaderManager;return this.initAdsManagerPromise=F().then(function(){return c.destroyed()?null:(c.debugConsoleLog("[JW DEBUG] Open adsLoaderManager"),p.open(e,u,c.video))}).then(function(e){if(c.destroyed())return null;var t=p.getAdsManager(e,c.playbackProxy,c.options);c.instreamProvider.setProxy(t),p.bindEvents({LOADED:c.adLoaded.bind(c),AD_ERROR:c.adError.bind(c),CONTENT_PAUSE_REQUESTED:c.pauseRequested.bind(c),CONTENT_RESUME_REQUESTED:c.resumeRequested.bind(c),LOG:c.adLog.bind(c),STARTED:c.adStarted.bind(c),IMPRESSION:c.adImpression.bind(c),LINEAR_CHANGED:c.resize.bind(c),CLICK:c.adClick.bind(c),PAUSED:c.adPaused.bind(c),RESUMED:c.adResumed.bind(c),SKIPPED:c.adSkipped.bind(c),USER_CLOSE:c.adUserClose.bind(c),ALL_ADS_COMPLETED:c.allAdsCompleted.bind(c)});var i=t.getCuePoints(),r=-1!==i.indexOf(0);if(!u.preloadAds||!r){var n=c.player.getSafeRegion(!1),a=n.width,o=n.height,s=c.getViewMode();c.debugConsoleLog("[JW DEBUG] adsManager init with",a,o,s),p.init(a,o,s)}if(i.length){var d=i.filter(function(e){return 0<e}).map(function(e){return{begin:e,text:c.options.cuetext}});c.player.addCues(d)}var l="string"==typeof p.schedule;return c.hasPreroll=l&&0===i.length||r,t}).catch(function(e){throw c.asyncError&&c.asyncError(e),e}),this.initAdsManagerPromise},Ct.prototype.getViewMode=function(){var e=google.ima.ViewMode;return this.player.getFullscreen()?e.FULLSCREEN:e.NORMAL},Ct.prototype.prepareToPlayAd=function(e){if(!this.destroyed())if(this.blockingInstreamPlayer){var t=e?"":this.options.loadingAd;this.blockingInstreamPlayer.setText(t)}else clearTimeout(this.timeoutAdStart),this.startBlocking(e),this.muteInstreamProvider()},Ct.prototype.requestAds=function(e,t){var i=this,r=this.bids.concat(F());Promise.all(r).then(function(){if(!i.destroyed())return null===i.adsLoaderManager.adsRequest?(i.debugConsoleLog("[JW DEBUG] Request ads to IMA SDK"),i.adsLoaderManager.requestAds(e,t,i.options)):void 0}).catch(function(e){i.asyncError&&i.asyncError(e)})},Ct.prototype.muteInstreamProvider=function(){var e=this.video.muted||this.player.getMute();this.debugConsoleLog("[JW DEBUG] Setting mute on instreamProvider",e),this.instreamProvider.mute(e)},Ct.prototype.exitFullscreenOnInlineIOS=function(){if(this.env.OS.iOS&&!(this.env.Browser.version.major<10)){var e=this.player.getContainer();e.requestFullscreen||e.webkitRequestFullscreen||(this.debugConsoleLog("[JW DEBUG] Exiting fullscreen mode on iOS 10 or 11"),this.player.setFullscreen(!1),this.utils.style(this.fullscreenIcon,{display:"none"}))}},Ct.prototype.startBlocking=function(e){var t=this;if(!this.blockingInstreamPlayer&&!this.destroyed()){this.debugConsoleLog("[JW DEBUG] JW Player startBlocking"),this.exitFullscreenOnInlineIOS(),this._qoe.tick("adLoading"),this.utils.addClass(this.player.getContainer(),n),this.blockingInstreamPlayer=this.player.createInstream().init();var i=e?"":this.options.loadingAd;this.blockingInstreamPlayer.setText(i),this.blockingInstreamPlayer.applyProviderListeners(this.instreamProvider),this.view.adSetup(),clearTimeout(this.timeoutAdStart),this.timeoutAdStart=setTimeout(function(){t.bids.forEach(function(e){return e.stop()}),t.debugConsoleLog("[JW DEBUG] Ad request timeout"),t.destroyed()||(t.asyncError=null,t.handleAdError({message:"Ad Request timeout after "+t.options.requestTimeout+" milliseconds",getErrorCode:function(){return 60004}}),t.asyncDiscardAdBreak())},this.options.requestTimeout)}},Ct.prototype.stopBlocking=function(){this.destroyed()||(this.debugConsoleLog("[JW DEBUG] JW Player stopBlocking"),this.player.off("viewable",null,this),clearTimeout(this.timeoutAdStart),this.utils.style(this.fullscreenIcon,{display:""}),this.utils.removeClass(this.player.getContainer(),[u,c,n]),this.blockingInstreamPlayer&&(this.instreamProvider.off(),this.blockingInstreamPlayer.destroy(),this.blockingInstreamPlayer=null))},Ct.prototype.pauseRequested=function(e){var t=this;this.prepareToPlayAd();var i=e&&e.getAd();this.blockingInstreamPlayer.on("destroyed",function(){t.player.trigger("adBreakEnd",T(t,i))});var r=T(this,i);this.player.trigger("adBreakStart",r),this.player.trigger(g,r)},Ct.prototype.resumeRequested=function(){this.debugConsoleLog("[JW DEBUG] ResumeRequest from IMA SDK"),this.currentAd&&this.currentAd.isLinear()&&this.finishAd(),this.blockingInstreamPlayer&&this.view.adTakeDown(),this.stopBlocking()},Ct.prototype.finishAd=function(){this.currentAd&&(clearInterval(this.progressIntervalId),this.viewablePlayedTime=0,this.currentAd=null)},Ct.prototype.discardAdBreak=function(e){!e&&this.adsLoaderManager&&(e=this.adsLoaderManager.adsManager),!this.destroyed()&&e&&(0===e.getCuePoints().length?this.destroy():(e.discardAdBreak(),e.stop()))},Ct.prototype.asyncDiscardAdBreak=function(){var t=this;this.initAdsManagerPromise&&this.initAdsManagerPromise.then(function(e){return t.discardAdBreak(e)}).catch(At)},Ct.prototype.pause=function(e){var t=e.reason;if(!this.destroyed()){var i=this.adsLoaderManager.adsManager;i&&(this.viewablePlayedTime=0,this.debugConsoleLog("[JW DEBUG] JW Player pause ad"),this.reason=t||o,i.pause())}},Ct.prototype.resume=function(e){var t=e.reason;if(!this.destroyed()){var i=this.adsLoaderManager.adsManager;i&&(this.debugConsoleLog("[JW DEBUG] JW Player resume ad"),this.reason=t||o,i.resume())}},Ct.prototype.beforePlay=function(e){var a=this;if(this.initAdsManagerPromise){this.reason=e&&e.playReason?e.playReason:o,this.bids.forEach(function(e){return e.timeout()}),this.player.off("beforePlay",null,this);var t=!!e;this.hasPreroll&&this.prepareToPlayAd(t),this.adsLoaderManager.initializeDisplay({restrict:!0}),this._qoe.tick("adBeforePlay"),this.initAdsManagerPromise.then(function(){if(!a.destroyed()){var e=a.adsLoaderManager;if(!e.initialized){var t=a.player.getSafeRegion(!1),i=t.width,r=t.height,n=a.getViewMode();a.debugConsoleLog("[JW DEBUG] adsManager init with",i,r,n),e.init(i,r,n)}a.debugConsoleLog("[JW DEBUG] Start adsManager"),e.start(),!a.hasPreroll&&a.blockingInstreamPlayer&&(a.debugConsoleLog("[JW DEBUG] Stop blocking since there is no preroll"),a.view.adTakeDown(),a.stopBlocking())}}).catch(At)}},Ct.prototype.beforeComplete=function(){var e=this.adsLoaderManager.adsManager;e&&-1<e.getCuePoints().indexOf(-1)&&this.prepareToPlayAd(),this.adsLoaderManager.unbindEvents(["CONTENT_RESUME_REQUESTED"]),this.playbackProxy.currentTime=this.playbackProxy.duration,this.debugConsoleLog("[JW DEBUG] Call contentComplete on IMA SDK"),this.adsLoaderManager.contentComplete()},Ct.prototype.time=function(e){this.playbackProxy.currentTime=e.position,e.duration>=e.position?this.playbackProxy.duration=e.duration:this.playbackProxy.duration=1/0},Ct.prototype.resize=function(){var e=this.currentAd,t=this.adsLoaderManager.adsManager;if(t){var i=e&&!e.isLinear(),r=this.player.getSafeRegion(i);if(i){var n=e.getHeight();n=this.player.getFullscreen()?r.height/2:Math.max(100,n+10),this.debugConsoleLog("[JW DEBUG] Resize adsManager",r.width,n,this.getViewMode()),t.resize(r.width,n,this.getViewMode()),this.view.resizeNonLinear(n)}else this.debugConsoleLog("[JW DEBUG] Resize adsManager",r.width,r.height,this.getViewMode()),t.resize(r.width,r.height,this.getViewMode()),this.view.resizeLinear()}},Ct.prototype.setState=function(e,t){if(e.isLinear()){var i=T(this,e);i.newstate=t,null!==this.reason&&(i[t===p?"playReason":"pauseReason"]=this.reason,this.reason=null),this.instreamProvider.trigger("state",i)}},Ct.prototype.progressInterval=function(e,l){var u=this;if(clearInterval(this.progressIntervalId),l){var c=e.getAdId(),p=-1,g=this.options.admessage||"",h=this.options.podmessage||"",f=new RegExp("__AD_POD_CURRENT__","g"),m=new RegExp("__AD_POD_LENGTH__","g");this.progressIntervalId=setInterval(function(){if(u.currentAd&&u.currentAd.getAdId()===c){var e=l.getRemainingTime();if(!(isNaN(e)||e<=0)&&p!==e){p=e;var t=u.currentAd.getDuration(),i=t-e,r=Math.round(t-i);if(u.blockingInstreamPlayer){var n=g.replace(/(\b)xx(s?\b)/g,"$1"+r+"$2"),a=u.currentAd.getAdPodInfo(),o=a.getTotalAds();if(1<o){var s=a.getAdPosition();n=h.replace(f,s).replace(m,o)+"  "+n}u.blockingInstreamPlayer.setText(n),u.instreamProvider.trigger("time",{duration:t,position:i})}if(0<t){var d=T(u,u.currentAd);d.position=i,d.duration=t,u.adViewableImpressionHandler(d),u.trigger("adTime",d)}}}else clearInterval(u.progressIntervalId)},250)}},Ct.prototype.adLoaded=function(e){this.trigger("adRequest",T(this,e.getAd()))},Ct.prototype.adStarted=function(e){this.paused=!1,this.currentAd=e.getAd(),this.trigger(E,T(this,this.currentAd))},Ct.prototype.adImpression=function(e){var t=this;this.view.adSetup();var i=e.getAd(),r=i.isLinear(),n=r&&(0<=i.getContentType().indexOf("image")||-1===i.getDuration()),a=this.isVpaidAd(i),o=r&&a&&this.options.vpaidcontrols;this.currentAd=i,this.blockingInstreamPlayer&&this.blockingInstreamPlayer.setSkipOffset(i.getSkipTimeOffset()),this.adsLoaderManager.bindEvents({COMPLETE:this.adComplete.bind(this)}),a&&this.env.OS.mobile&&this.options.autoplayadsmuted&&this.adsLoaderManager.bindEvents({VOLUME_CHANGED:function(){t.adsLoaderManager.unbindEvents(["VOLUME_CHANGED"]),t.player.setMute(0===t.adsLoaderManager.adsManager.getVolume())}}),n?this.startBlocking():r||this.stopBlocking(),this.utils.toggleClass(this.player.getContainer(),u,r&&(n||a)),this.utils.toggleClass(this.player.getContainer(),c,o),this.resize(),this.muteInstreamProvider(),clearTimeout(this.timeoutAdStart);var s=this.adsLoaderManager.adsManager;this.progressInterval(i,s);var d=T(this,i),l=void 0===d.podcount||1===d.sequence;"pre"===d.adposition&&l&&(this._qoe.tick("adImpression"),d.timeLoading=this._qoe.between("adBeforePlay","adImpression")),r&&!l&&this.trigger(g,d),this.trigger("adImpression",d),this.setupViewableListener(),this.setState(i,p)},Ct.prototype.setupViewableListener=function(){this.player.off(a,this.viewableHandler,this),this.player.on(a,this.viewableHandler,this),this.viewableHandler({viewable:this.player.getViewable()})},Ct.prototype.adViewableHandler=function(e){var t=e.position;null===this.lastPosition&&(this.lastPosition=t);var i=t-this.lastPosition;this.lastPosition=t,i=Math.min(Math.max(0,i),4),this.viewablePlayedTime+=i,2<=this.viewablePlayedTime&&(this.player.off(a,this.viewableHandler,this),this.adViewableImpressionHandler=At,this.trigger("adViewableImpression",T(this,this.currentAd)))},Ct.prototype.viewableHandler=function(e){e.viewable?(this.viewablePlayedTime=0,this.lastPosition=null,this.adViewableImpressionHandler=this.adViewableHandler):this.adViewableImpressionHandler=At},Ct.prototype.adComplete=function(e){this.finishAd(),this.trigger("adComplete",T(this,e.getAd())),this.adsLoaderManager.unbindEvents(["VOLUME_CHANGED"])},Ct.prototype.adClick=function(e){var t=this.adsLoaderManager.adsManager,i=e.getAd();this.reason="clickthrough",this.isVpaidAd(i)||(this.debugConsoleLog("[JW DEBUG] Ad paused due to ad click"),t.pause()),this.trigger("adClick",T(this,i))},Ct.prototype.adPaused=function(e){if(!this.paused){this.paused=!0;var t=e.getAd();null===this.reason&&this.isVpaidAd(t)&&(this.reason=i),this.setState(t,"paused")}},Ct.prototype.adResumed=function(e){if(this.paused){this.paused=!1;var t=e.getAd();null===this.reason&&this.isVpaidAd(t)&&(this.reason=i),this.setState(t,p)}},Ct.prototype.adSkipped=function(e){this.debugConsoleLog("[JW DEBUG] AdSkipped"),this.adsLoaderManager.unbindEvents(["COMPLETE","VOLUME_CHANGED"]),this.finishAd(),this.trigger("adSkipped",T(this,e.getAd()))},Ct.prototype.adUserClose=function(e){this.debugConsoleLog("[JW DEBUG] AdUserClose"),this.currentAd&&this.currentAd.isLinear()&&-1===this.currentAd.getDuration()?this.adSkipped(e):(this.adsLoaderManager.unbindEvents(["COMPLETE","VOLUME_CHANGED"]),this.finishAd())},Ct.prototype.allAdsCompleted=function(){this.resumeRequested(),this.view.adTakeDown(),this.stopAdsManager()},Ct.prototype.stopAdsManager=function(){var t=this;this.initAdsManagerPromise.then(function(e){t.destroyed()||(t.debugConsoleLog("[JW DEBUG] Stop IMA SDK adsManager"),e.stop(),e.destroy(),t.initAdsManagerPromise=null,t.bids=[])}).catch(At)},Ct.prototype.adLog=function(e){this.debugConsoleLog("[JW DEBUG]",e.type,e);var t=e.getAdData(),i=t&&t.adError;i&&402===i.getVastErrorCode()?this.handleAdError(i,e):i&&this.trigger(I,L(this,i,e.getAd()))},Ct.prototype.adError=function(e){this.handleAdError(e.getError(),e)},Ct.prototype.asyncError=function(e){var t=this;if(!this.destroyed())if(clearTimeout(this.timeoutAdStart),this.timeoutAdStart=setTimeout(function(){return t.destroy()},0),e&&e.getError){var i=e.getError();this.handleAdError(i,e,!0)}else e.target&&e.target.src?console.error("Failed to load "+e.target.src):console.error(e)},Ct.prototype.handleAdError=function(e,t,i){var r=this;this.options.debug&&console.error(e);var n=L(this,e);this.player&&0===this.player.getPosition()&&(this._qoe.tick("adError"),n.timeLoading=this._qoe.between("adBeforePlay","adError")),this.trigger(I,n),this.destroyed()||(900===e.getErrorCode()||i?(clearTimeout(this.timeoutAdStart),this.timeoutAdStart=setTimeout(function(){return r.destroy()},0)):(this.stopBlocking(),this.view.adTakeDown()))},Ct.prototype.isVpaidAd=function(e){var t=e.getContentType();return"application/javascript"===t||"application/x-shockwave-flash"===t},Ct.prototype.destroy=function(){if(this.debugConsoleLog("[JW DEBUG] JW Player destroy PlaylistItemManager"),this.off(),!this.destroyed()){this.player.off(null,null,this),this.bids.map(function(e){e.stop()}),this.bids=[],clearTimeout(this.timeoutAdStart),clearInterval(this.progressIntervalId),this.currentAd=null,this.options=null,this.video=null,this.initAdsManagerPromise=null;var e=this.adsLoaderManager;e&&(e.reset(),this.adsLoaderManager=null),this.blockingInstreamPlayer&&this.stopBlocking(),this.instreamProvider.off(),this.instreamProvider.setProxy(null),this.instreamProvider=null,this.view.adTakeDown(),this.view=null,this.player=null,this.item=null}},Ct.prototype.destroyed=function(){return!this.item},Ct);function Ct(e,t,i,r,n,a,o){k(this,Ct),i.utils.extend(this,i.Events),this.item=e,this.options=t,this.player=i,this.env=i.getEnvironment(),this.utils=i.utils,this.instreamProvider=r,this.view=n,this.initAdsManagerPromise=null,this.blockingInstreamPlayer=null,this.currentAd=null,this.bids=[],this.timeoutAdStart=-1,this.progressIntervalId=-1,this.viewablePlayedTime=0,this.lastPosition=null,this.adViewableImpressionHandler=At,this.fullscreenIcon=i.getContainer().querySelector(".jw-icon-fullscreen"),this.adsLoaderManager=a,this.playbackProxy={currentTime:0,duration:0},this.video=o,this.paused=!1,this.hasPreroll=!0,this.reason=null,this._qoe=new i.utils.Timer,this.debugConsoleLog=At,t.debug&&(this.debugConsoleLog=function(){var e;(e=console).log.apply(e,arguments)})}var _t=(It.prototype.getVpaidMode=function(e){var t=google.ima.ImaSdkSettings.VpaidMode;return"disabled"===e||"none"===e?t.DISABLED:"enabled"===e?t.ENABLED:t.INSECURE},It.prototype.initializeDisplay=function(e){this.adDisplayContainer&&!this.displayInitialized&&(this.adDisplayContainer.initialize(),e&&e.restrict&&(this.displayInitialized=!0))},It.prototype.contentComplete=function(){if(null!==this.adsRequest){var e=this.adsLoader;e&&e.contentComplete(),this.adsRequest=null}},It.prototype.reset=function(){this.userRequestContext=null;var e=this.adsManager;e&&(e.destroy(),this.adsManager=null),this.contentComplete(!0),this.schedule=null,this.breakMap={},this.adsManagerEvents={},this.initialized=this.started=!1},It.prototype.prepare=function(e){return null===this.adsLoader&&(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.container,e),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer)),this.adsLoader},It.prototype.open=function(e,t,i){var r=google.ima.settings;r.setDisableCustomPlaybackForIOS10Plus(!0);var n=t.locale||this.player.getConfig().language;r.setLocale(n),0<=t.maxRedirects&&r.setNumRedirects(t.maxRedirects);var a=this.prepare(i);return new Promise(function(e,t){a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t,!1),a.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e,!1)})},It.prototype.requestAds=function(e,t,i){var r=this;if(null===this.adsRequest){var n=t.getSchedule();if(n){var a=this.player,o=this.adsRequest=new google.ima.AdsRequest,s=this.userRequestContext={requestType:e,vpaidMode:t.vpaidmode,playerVersion:a.version.split("+")[0],adPosition:t.adPosition};o.setAdWillAutoPlay(!1!==a.getConfig().autostart),o.setAdWillPlayMuted(a.getMute());var d=a.getSafeRegion(!1);o.linearAdSlotWidth=d.width,o.linearAdSlotHeight=d.height;var l=a.getSafeRegion(!0);o.nonLinearAdSlotWidth=l.width,o.nonLinearAdSlotHeight=l.height,o.forceNonLinearFullSlot=i.forceNonLinearFullSlot,o.vastLoadTimeout=i.vastLoadTimeout;var u=this.adsLoader.getSettings(),c=this.getVpaidMode(s.vpaidMode);u.setPlayerType("jwplayer"),u.setPlayerVersion(s.playerVersion),u.setVpaidMode(c);var p=new O(a,this,i);return p.normalize(n).then(function(e){var t=Object.keys(e);if(1===t.length){var i=e[t[0]];"pre"===i.offset&&i.tag&&(n=o.adTagUrl=s.adTagUrl=i.tag)}s.adTagUrl||(o.adsResponse=s.adsResponse=p.getAdsResponse(e)),r.schedule=n,r.breakMap=Object.assign(p.getTagMap(e),r.breakMap),r.adsLoader.requestAds(o,s)})}}},It.prototype.getAdsManager=function(e,t,i){var r=new google.ima.AdsRenderingSettings;return r.enablePreloading=i.enablePreloading||i.preloadAds,r.loadVideoTimeout=i.loadVideoTimeout,r.uiElements=null,r.useStyledNonLinearAds=!0,this.adsManager=e.getAdsManager(t,r),this.userRequestContext=e.getUserRequestContext(),this.adsManager},It.prototype.init=function(e,t,i){null!==this.adsManager&&!1===this.initialized&&(this.adsManager.init(e,t,i),this.initialized=!0)},It.prototype.start=function(){null!==this.adsManager&&!1===this.started&&(this.initializeDisplay({restrict:!0}),this.adsManager.start(),this.started=!0)},It.prototype.bindEvents=function(r){var n=this,a=google.ima.AdEvent.Type,o=google.ima.AdErrorEvent.Type;Object.keys(r).forEach(function(e){var t=a[e]||o[e],i=n.adsManagerEvents[t];i&&n.adsManager.removeEventListener(t,i),n.adsManager.addEventListener(t,r[e],!1),n.adsManagerEvents[t]=r[e]})},It.prototype.unbindEvents=function(e){var r=this,n=google.ima.AdEvent.Type,a=google.ima.AdErrorEvent.Type;e.forEach(function(e){var t=n[e]||a[e],i=r.adsManagerEvents[t];i&&(r.adsManager.removeEventListener(t,i),delete r.adsManagerEvents[t])})},It.prototype.getTag=function(e){if("string"==typeof this.schedule)return this.schedule;var t=e&&e.getAdPodInfo&&e.getAdPodInfo();if(t){var i=this.breakMap[t.getTimeOffset()]||{};if(i.tag)return i.tag}return this.userRequestContext?this.userRequestContext.adTagUrl||this.userRequestContext.adsResponse||"":(console.error("invalid request context",this.userRequestContext),"")},It.prototype.getAdBreakId=function(e){var t=this.player.utils,i=P(e,t);return this.breakMap[i]=this.breakMap[i]||{},this.breakMap[i].adBreakId=this.breakMap[i].adBreakId||t.genId(12),this.breakMap[i].adBreakId},It.prototype.getAdPlayId=function(e,t){var i=1<arguments.length&&void 0!==t?t:1,r=this.player.utils,n=P(e,r);return this.breakMap[n]=this.breakMap[n]||{},this.breakMap[n].adPlayId=this.breakMap[n].adPlayId||{1:r.genId(12)},this.breakMap[n].adPlayId[i]=this.breakMap[n].adPlayId[i]||r.genId(12),this.breakMap[n].adPlayId[i]},It.prototype.getTimeoffsetFromPosition_=function(){var i=this.player.getPosition(),r=1/0,n=void 0;return Object.keys(this.breakMap).forEach(function(e){var t=i-e;0<=t&&t<r&&(n=e,r=t)}),r===1/0?-1:n},It.prototype.skipAd=function(){this.adsManager&&this.adsManager.skip()},It.prototype.getBid=function(e){var t=P(e,this.player.utils);return this.breakMap[t]?this.breakMap[t].bid:null},It.prototype.setBid=function(e,t){var i=P(e,this.player.utils);this.breakMap[i]=this.breakMap[i]||{},this.breakMap[i].bid=t},It);function It(e,t){k(this,It),this.adsLoader=null,this.adDisplayContainer=null,this.displayInitialized=!1,this.initialized=!1,this.started=!1,this.adsRequest=null,this.userRequestContext=null,this.adsManager=null,this.adsManagerEvents={},this.container=t,this.schedule=null,this.breakMap={},this.player=e}!function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");t.setAttribute("media","screen"),t.innerHTML=e,document.head.appendChild(t)}}(".jw-plugin-googima,.jw-plugin-googima.jw-ad-instream .jw-ads-view>:not(div),.jw-plugin-googima.jw-ad-instream .jw-ads-view>div:not(:empty){height:100%;width:100%}.jw-plugin-googima{overflow:hidden;display:block;visibility:hidden;pointer-events:none;opacity:0}.jw-plugin-googima.jw-ad-instream{visibility:visible;display:block;pointer-events:all;opacity:1}.jw-plugin-googima.jw-ad-linear{top:0;left:0;bottom:0}.jw-plugin-googima.jw-ad-non-linear{top:auto}.jw-plugin-googima .jw-ads-view{position:absolute;width:100%;height:100%}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-controlbar{font-size:1em}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display,.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display .jw-icon-display{pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar{background:0 0!important;pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-icon{pointer-events:all}.jwplayer.jw-flag-ads-googleima .jw-controls-backdrop{display:none}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:rgba(0,0,0,.25);border-radius:3px}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0 10px}@supports (filter:drop-shadow(0 0 3px #000)){.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:0 0;border-radius:0}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0}}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-svg-icon{fill:#fff;filter:drop-shadow(0 0 3px #000)}.jwplayer.jw-flag-ads-googleima .jw-spacer,.jwplayer.jw-flag-ads-googleima .jw-text{order:1}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-text{text-shadow:0 0 3px #000}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar{pointer-events:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar{flex-flow:column-reverse nowrap;height:100%;max-height:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-button-container{align-items:flex-end;flex-wrap:wrap;margin-bottom:7px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar .jw-icon{height:30px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-text{align-self:flex-start;margin:16px 0 0 16px;order:-1;width:100%}"),(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)(v,"8.1",function(s,n,e){var t=this,o=s.utils,a=s.getConfig(),d=new N(n||{},o),l=null,u=0;F(o).catch(o.noop);var c=s._,i=a.key,p=new z(e,s.id,o),g=new Q(o,s.Events,p),h=new _t(s,p.getAdDiv()),f=null;function m(e,t,i,r){try{return e.getCompanionAds(t,i,r)}catch(e){return[]}}function v(e){var t=new google.ima.CompanionAdSelectionSettings;t.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;var i=d.companiondiv||{width:300,height:250},r=function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];t.push({width:r.getWidth(),height:r.getHeight(),type:"html",resource:r.getContent(),click:null})}return t}(m(e,i.width,i.height,t)),n=r.length;if(n){var a=T(f,e);a.companions=r,s.trigger("adCompanions",a)}if(d.companiondiv){t=new google.ima.CompanionAdSelectionSettings,d.companionResourceType&&(t.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType[d.companionResourceType]);var o=m(e,d.companiondiv.width,d.companiondiv.height,t);n=Math.max(n,o.length),function(e){if(e&&e.length){var t=document.getElementById(d.companiondiv.id);if(t){var i=e[0];i&&(c.isFunction(i.getContent)?t.innerHTML=i.getContent():t.innerHTML=i.resource||i.content)}}}(o)}return 0<n}function r(){y(),h&&h.adDisplayContainer&&h.adDisplayContainer.destroy(),s.off(null,null,this),s.playAd=o.noop}function y(){f&&(f.destroy(),f=null)}function b(e){f&&f.discardAdBreak(),h.contentComplete(),y(),e&&e.adschedule?d.adschedule=e.adschedule:d.adschedule=null,s.setCues([])}function w(e,t,i){var r=e.item||{};b(r);var n=i.getSchedule();if(t===_&&!function(){var e=d.getAdRules(),t=0===e.frequency&&1===u,i=u>=e.startOn&&(u-e.startOn)%e.frequency==0;return t||i}()||!n||"string"!=typeof n&&!Object.keys(n).length)return d.adschedule=null,void F(o).then(function(){h.prepare(l)}).catch(o.noop);if(h.reset(),(f=new Pt(r,d,s,g,p,h,l)).on("all",function(e,t){return s.trigger(e,t)}),f.init(t,i).then(function(e){s.trigger("adsManager",{adsManager:e,videoElement:l})}).catch(o.noop),f.on(E,function(){return v(f.currentAd)}),i.preloadAds){var a=s.getConfig().autostart;!1===a||"viewable"===a&&0===s.getViewable()?f.requestAds(t,i):s.once("autostartNotAllowed",function(){f.requestAds(t,i)},f)}s.once("beforePlay",function(e){f.beforePlay(e),f.requestAds(t,i)},f).on("beforeComplete",function(){return f.beforeComplete()},f).on("time",function(e){return f.time(e)},f).on("resize",function(){return f.resize()},f).on("fullscreen",function(){return f.resize()},f)}this.version="8.7.2",this.bidsVersion="0.2.17",s.utils.extend(this,s.Events),s.pauseAd=function(e,t){f&&(e?f.pause(t||{}):f.resume(t||{}))},s.playAd=function(e){var t=o.extend({},n);delete t.ad,delete t.tag,delete t.schedule,delete t.adschedule,s._.isArray(e)?t.tag=e[0]:t.tag=e,t.adPosition=S(s);var i=new N(t,o);i.setLocalizationOptions(a.localization.advertising);var r=f?f.blockingInstreamPlayer:null;r&&(r.noResume=!0),w({},C,i),f&&(f.beforePlay(null),f.requestAds(C,i))},s.skipAd=function(){h&&h.skipAd()},s.on("ready",function(){a.localization=s.getConfig().localization,d.setLocalizationOptions(a.localization.advertising),l=l||s.createInstream().getMediaElement(),F().catch(function(e){e.message.match(/Failed to load/)&&P("Ad playback blocked by an ad blocker",2e4)}),A.catch(function(e){P(e.message,60002)});var e=document.body,t=function(){e.removeEventListener("mouseup",t),e.removeEventListener("touchend",t),h.initializeDisplay()};e.addEventListener("mouseup",t,!1),e.addEventListener("touchend",t,!1)},this).on("playlistItem",function(e){u++,d.resetBidsResponse(),w(e,_,d)},this).on("playlistComplete",function(){b()},this).on("cast",function(e){e.active&&b()},this).on("mute",function(e){var t=e.mute;g.mute(t)},this).on("destroyPlugin",function(){t.destroy()},this).on("remove",r,this);var A=J(o,i,n);A.catch(o.noop);var P=function(e,t){r(),s.trigger(I,L(null,{message:e,adErrorCode:t,id:"-1",placement:j(a),tag:""}))};this.destroy=y,this.adsDebugMode=function(){d.debug=!0,f&&(f.debugConsoleLog=function(){var e;(e=console).log.apply(e,arguments)})}})}();
